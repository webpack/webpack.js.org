"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1331],{1331:function(e,n,s){s.r(n),s.d(n,{default:function(){return i}});var a=s(2540),o=s(3317);function l(e){const n={a:"a",aside:"aside",code:"code",h2:"h2",h6:"h6",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Logging output is an additional way to display messages to the end users."}),"\n",(0,a.jsxs)(n.p,{children:["Webpack logger is available to ",(0,a.jsx)(n.a,{href:"/loaders/",children:"loaders"})," and ",(0,a.jsx)(n.a,{href:"/api/plugins/#logging",children:"plugins"}),". Emitting as part of the ",(0,a.jsx)(n.a,{href:"/api/stats/",children:"Stats"})," and configured by the user in ",(0,a.jsx)(n.a,{href:"/configuration/",children:"webpack configuration"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Benefits of custom logging API in webpack:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Common place to ",(0,a.jsx)(n.a,{href:"/configuration/stats/#statslogging",children:"configure the logging"})," display level"]}),"\n",(0,a.jsxs)(n.li,{children:["Logging output exportable as part of the ",(0,a.jsx)(n.code,{children:"stats.json"})]}),"\n",(0,a.jsx)(n.li,{children:"Stats presets affect logging output"}),"\n",(0,a.jsx)(n.li,{children:"Plugins can affect logging capturing and display level"}),"\n",(0,a.jsx)(n.li,{children:"When using multiple plugins and loaders they use a common logging solution"}),"\n",(0,a.jsx)(n.li,{children:"CLI, UI tools for webpack may choose different ways to display logging"}),"\n",(0,a.jsx)(n.li,{children:"webpack core can emit logging output, e.g. timing data"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"By introducing webpack logging API we hope to unify the way webpack plugins and loaders emit logs and allow better ways to inspect build problems. Integrated logging solution supports plugins and loaders developers by improving their development experience. Paves the way for non-CLI webpack solutions like dashboards or other UIs."}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Avoid noise in the log!"})," Keep in mind that multiple plugins and loaders are used together. Loaders are usually processing multiple files and are invoked for every file. Choose a logging level as low as possible to keep the log output informative."]})]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"examples-of-how-to-get-and-use-webpack-logger-in-loaders-and-plugins"}),"Examples of how to get and use webpack logger in loaders and plugins",(0,a.jsx)(n.a,{href:"#examples-of-how-to-get-and-use-webpack-logger-in-loaders-and-plugins","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"my-webpack-plugin.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"PLUGIN_NAME"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token string",children:"'my-webpack-plugin'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"class"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"MyWebpackPlugin"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token function",children:"apply"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token parameter",children:"compiler"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token comment",children:"// you can access Logger from compiler"}),"\n    ",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," logger ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," compiler",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"getInfrastructureLogger"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"PLUGIN_NAME"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n    logger",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"log"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'log from compiler'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n\n    compiler",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"hooks",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"compilation",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"tap"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"PLUGIN_NAME"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token parameter",children:"compilation"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(n.span,{className:"token comment",children:"// you can also access Logger from compilation"}),"\n      ",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," logger ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," compilation",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"getLogger"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"PLUGIN_NAME"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n      logger",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"info"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'log from compilation'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"my-webpack-loader.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:["module",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function-variable function",children:"exports"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token parameter",children:"source"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token comment",children:"// you can get Logger with `this.getLogger` in your webpack loaders"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," logger ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"this"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"getLogger"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'my-webpack-loader'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n  logger",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"info"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'hello Logger'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"return"})," source",(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.p,{children:["As you can see from the above ",(0,a.jsx)(n.code,{children:"my-webpack-plugin.js"})," example, there're two types of logging methods,"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"compilation.getLogger"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"compiler.getInfrastructureLogger"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["It's advised to use ",(0,a.jsx)(n.code,{children:"compilation.getLogger"})," when plugin/logging is related to the compilation, and they will be stored within the stats. For logging that happens outside the compilation cycle, use ",(0,a.jsx)(n.code,{children:"compiler.getInfrastructureLogger"})," instead."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"logger-methods"}),"Logger methods",(0,a.jsx)(n.a,{href:"#logger-methods","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.error(...)"}),": for error messages"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.warn(...)"}),": for warnings"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.info(...)"}),": for ",(0,a.jsx)(n.strong,{children:"important"})," information messages. These messages are displayed by default. Only use this for messages that the user really needs to see"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.log(...)"}),": for ",(0,a.jsx)(n.strong,{children:"unimportant"})," information messages. These messages are displayed only when user had opted-in to see them"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.debug(...)"}),": for debugging information. These messages are displayed only when user had opted-in to see debug logging for specific modules"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.trace()"}),": to display a stack trace. Displayed like ",(0,a.jsx)(n.code,{children:"logger.debug"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.group(...)"}),": to group messages. Displayed collapsed like ",(0,a.jsx)(n.code,{children:"logger.log"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.groupEnd()"}),": to end a logging group"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.groupCollapsed(...)"}),": to group messages together. Displayed collapsed like ",(0,a.jsx)(n.code,{children:"logger.log"}),". Displayed expanded when logging level is set to ",(0,a.jsx)(n.code,{children:"'verbose'"})," or ",(0,a.jsx)(n.code,{children:"'debug'"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.status"}),": writes a temporary message, setting a new status, overrides the previous one"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.clear()"}),": to print a horizontal line. Displayed like ",(0,a.jsx)(n.code,{children:"logger.log"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logger.profile(...)"}),", ",(0,a.jsx)(n.code,{children:"logger.profileEnd(...)"}),": to capture a profile. Delegated to ",(0,a.jsx)(n.code,{children:"console.profile"})," when supported"]}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"runtime-logger-api"}),"Runtime Logger API",(0,a.jsx)(n.a,{href:"#runtime-logger-api","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["Runtime logger API is only intended to be used as a development tool, it is not intended to be included in ",(0,a.jsx)(n.a,{href:"/configuration/mode/#mode-production",children:"production mode"}),"."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"const logging = require('webpack/lib/logging/runtime')"}),": to use the logger in runtime, require it directly from webpack"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logging.getLogger('name')"}),": to get individual logger by name"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logging.configureDefaultLogger(...)"}),": to override the default logger."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," logging ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token function",children:"require"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'webpack/lib/logging/runtime'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\nlogging",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"configureDefaultLogger"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  level",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'log'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  debug",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token regex",children:"/something/"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"logging.hooks.log"}),": to apply Plugins to the runtime logger"]}),"\n"]})]})}function i(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);