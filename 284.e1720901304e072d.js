"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[284],{284:function(e,n,o){o.r(n),o.d(n,{default:function(){return l}});var i=o(2540),s=o(9710);function d(e){const n={a:"a",aside:"aside",code:"code",h2:"h2",h6:"h6",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The following Node.js options configure whether to polyfill or mock certain ",(0,i.jsx)(n.a,{href:"https://nodejs.org/docs/latest/api/globals.html",children:"Node.js globals"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["This feature is provided by webpack's internal ",(0,i.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/NodeStuffPlugin.js",children:(0,i.jsx)(n.code,{children:"NodeStuffPlugin"})})," plugin."]}),"\n",(0,i.jsxs)(n.aside,{className:"warning",children:[(0,i.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,i.jsxs)(n.p,{children:["As of webpack 5, You can configure only ",(0,i.jsx)(n.code,{children:"global"}),", ",(0,i.jsx)(n.code,{children:"__filename"}),"/",(0,i.jsx)(n.code,{children:"import.meta.filename"})," or ",(0,i.jsx)(n.code,{children:"__dirname"}),"/",(0,i.jsx)(n.code,{children:"import.meta.dirname"})," under ",(0,i.jsx)(n.code,{children:"node"})," option. If you're looking for how to polyfill ",(0,i.jsx)(n.code,{children:"fs"})," alike in Node.js under webpack 5, please check ",(0,i.jsx)(n.a,{href:"/configuration/resolve/#resolvefallback",children:"resolve.fallback"})," for help."]})]}),"\n",(0,i.jsxs)(n.h2,{children:[(0,i.jsx)(n.span,{id:"node"}),"node",(0,i.jsx)(n.a,{href:"#node","aria-hidden":"true",tabIndex:"-1",children:(0,i.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"false"})," ",(0,i.jsx)(n.code,{children:"object"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsxs)(n.code,{className:"hljs language-javascript",children:["module",(0,i.jsx)(n.span,{className:"token punctuation",children:"."}),"exports ",(0,i.jsx)(n.span,{className:"token operator",children:"="})," ",(0,i.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,i.jsx)(n.span,{className:"token comment",children:"// ..."}),"\n  node",(0,i.jsx)(n.span,{className:"token operator",children:":"})," ",(0,i.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    global",(0,i.jsx)(n.span,{className:"token operator",children:":"})," ",(0,i.jsx)(n.span,{className:"token boolean",children:"false"}),(0,i.jsx)(n.span,{className:"token punctuation",children:","}),"\n    __filename",(0,i.jsx)(n.span,{className:"token operator",children:":"})," ",(0,i.jsx)(n.span,{className:"token boolean",children:"false"}),(0,i.jsx)(n.span,{className:"token punctuation",children:","}),"\n    __dirname",(0,i.jsx)(n.span,{className:"token operator",children:":"})," ",(0,i.jsx)(n.span,{className:"token boolean",children:"false"}),(0,i.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,i.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,i.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,i.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,i.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"node"})," option may be set to ",(0,i.jsx)(n.code,{children:"false"})," to completely turn off the ",(0,i.jsx)(n.code,{children:"NodeStuffPlugin"})," plugin."]}),"\n",(0,i.jsxs)(n.h2,{children:[(0,i.jsx)(n.span,{id:"nodeglobal"}),"node.global",(0,i.jsx)(n.a,{href:"#nodeglobal","aria-hidden":"true",tabIndex:"-1",children:(0,i.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"boolean"})," ",(0,i.jsx)(n.code,{children:"'warn'"})]}),"\n",(0,i.jsxs)(n.aside,{className:"tip",children:[(0,i.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,i.jsxs)(n.p,{children:["If you are using a module which needs global variables in it, use ",(0,i.jsx)(n.code,{children:"ProvidePlugin"})," instead of ",(0,i.jsx)(n.code,{children:"global"}),"."]})]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"https://nodejs.org/api/globals.html#globals_global",children:"the Node.js documentation"})," for the exact behavior of this object."]}),"\n",(0,i.jsx)(n.p,{children:"Options:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": Provide a polyfill or using ",(0,i.jsx)(n.code,{children:"globalThis"})," if supported by your environment, see the ",(0,i.jsx)(n.a,{href:"/configuration/output/#outputenvironment",children:(0,i.jsx)(n.code,{children:"environment"})})," option."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": Provide nothing. Code that expects this object may crash with a ",(0,i.jsx)(n.code,{children:"ReferenceError"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'warn'"}),": Show a warning when using ",(0,i.jsx)(n.code,{children:"global"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{children:[(0,i.jsx)(n.span,{id:"node__filename"}),"node.__filename",(0,i.jsx)(n.a,{href:"#node__filename","aria-hidden":"true",tabIndex:"-1",children:(0,i.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"boolean"})," ",(0,i.jsx)(n.code,{children:"'mock' | 'warn-mock' | 'node-module' | 'eval-only'"})]}),"\n",(0,i.jsx)(n.p,{children:"Options:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": The filename of the ",(0,i.jsx)(n.strong,{children:"input"})," file relative to the ",(0,i.jsxs)(n.a,{href:"/configuration/entry-context/#context",children:[(0,i.jsx)(n.code,{children:"context"})," option"]}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": Webpack won't touch your ",(0,i.jsx)(n.code,{children:"__filename"})," and ",(0,i.jsx)(n.code,{children:"import.meta.filename"})," code, which means you have the regular Node.js ",(0,i.jsx)(n.code,{children:"__filename"})," and ",(0,i.jsx)(n.code,{children:"import.meta.filename"})," behavior. The filename of the ",(0,i.jsx)(n.strong,{children:"output"})," file when run in a Node.js environment."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'mock'"}),": The fixed value ",(0,i.jsx)(n.code,{children:"'/index.js'"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'warn-mock'"}),": Use the fixed value of ",(0,i.jsx)(n.code,{children:"'/index.js'"})," but show a warning."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'node-module'"}),": Replace ",(0,i.jsx)(n.code,{children:"__filename"})," in CommonJS modules and ",(0,i.jsx)(n.code,{children:"import.meta.filename"})," code in ES modules to ",(0,i.jsx)(n.code,{children:"fileURLToPath(import.meta.url)"})," when ",(0,i.jsx)(n.code,{children:"output.module"})," is enabled."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'eval-only'"}),": Defer the resolution of ",(0,i.jsx)(n.code,{children:"__filename"}),"/",(0,i.jsx)(n.code,{children:"import.meta.filename"})," to the Node.js runtime at execution time, but evaluate them in construction like ",(0,i.jsx)(n.code,{children:"require"}),"/",(0,i.jsx)(n.code,{children:"import"})," to properly resolve modules. Replace ",(0,i.jsx)(n.code,{children:"__filename"})," with ",(0,i.jsx)(n.code,{children:"import.meta.filename"})," and vice versa depending on the ",(0,i.jsx)(n.code,{children:"output.module"})," option (if your environment does not support ",(0,i.jsx)(n.code,{children:"import.meta.filename"}),", the fallback will be used using ",(0,i.jsx)(n.code,{children:"import.meta.url"})," to get this value)."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The default value can be affected by different ",(0,i.jsx)(n.a,{href:"/configuration/target/",children:(0,i.jsx)(n.code,{children:"target"})}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Defaults to ",(0,i.jsx)(n.code,{children:"'eval-only'"})," if ",(0,i.jsx)(n.a,{href:"/configuration/target/",children:(0,i.jsx)(n.code,{children:"target"})})," is set to ",(0,i.jsx)(n.code,{children:"'node'"})," or node-like environments (",(0,i.jsx)(n.code,{children:"async-node"}),", ",(0,i.jsx)(n.code,{children:"electron"}),") or mixed targets (",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"})," together)."]}),"\n",(0,i.jsxs)(n.li,{children:["Defaults to ",(0,i.jsx)(n.code,{children:"'mock'"})," if ",(0,i.jsx)(n.a,{href:"/configuration/target/",children:(0,i.jsx)(n.code,{children:"target"})})," is set to ",(0,i.jsx)(n.code,{children:"'web'"})," or web-like environments."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{children:[(0,i.jsx)(n.span,{id:"node__dirname"}),"node.__dirname",(0,i.jsx)(n.a,{href:"#node__dirname","aria-hidden":"true",tabIndex:"-1",children:(0,i.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"boolean"})," ",(0,i.jsx)(n.code,{children:"'mock' | 'warn-mock' | 'node-module' | 'eval-only'"})]}),"\n",(0,i.jsx)(n.p,{children:"Options:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": The dirname of the ",(0,i.jsx)(n.strong,{children:"input"})," file relative to the ",(0,i.jsxs)(n.a,{href:"/configuration/entry-context/#context",children:[(0,i.jsx)(n.code,{children:"context"})," option"]}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": Webpack won't touch your ",(0,i.jsx)(n.code,{children:"__dirname"})," and ",(0,i.jsx)(n.code,{children:"import.meta.dirname"})," code, which means you have the regular Node.js ",(0,i.jsx)(n.code,{children:"__dirname"})," and ",(0,i.jsx)(n.code,{children:"import.meta.dirname"})," behavior. The dirname of the ",(0,i.jsx)(n.strong,{children:"output"})," file when run in a Node.js environment."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'mock'"}),": The fixed value ",(0,i.jsx)(n.code,{children:"'/'"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'warn-mock'"}),": Use the fixed value of ",(0,i.jsx)(n.code,{children:"'/'"})," but show a warning."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'node-module'"}),": Replace ",(0,i.jsx)(n.code,{children:"__dirname"})," in CommonJS modules to ",(0,i.jsx)(n.code,{children:'fileURLToPath(import.meta.url + "/..")'})," when ",(0,i.jsx)(n.code,{children:"output.module"})," is enabled."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'eval-only'"}),": Defer the resolution of ",(0,i.jsx)(n.code,{children:"__dirname"}),"/",(0,i.jsx)(n.code,{children:"import.meta.dirname"})," to the Node.js runtime at execution time, but evaluate them in construction like ",(0,i.jsx)(n.code,{children:"require"}),"/",(0,i.jsx)(n.code,{children:"import"})," to properly resolve modules. Replace ",(0,i.jsx)(n.code,{children:"__dirname"})," with ",(0,i.jsx)(n.code,{children:"import.meta.dirname"})," and vice versa depending on the ",(0,i.jsx)(n.code,{children:"output.module"})," option (if your environment does not support ",(0,i.jsx)(n.code,{children:"import.meta.filename"}),", the fallback will be used using ",(0,i.jsx)(n.code,{children:"import.meta.url"})," to get this value)."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The default value can be affected by different ",(0,i.jsx)(n.a,{href:"/configuration/target/",children:(0,i.jsx)(n.code,{children:"target"})}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Defaults to ",(0,i.jsx)(n.code,{children:"'eval-only'"})," if ",(0,i.jsx)(n.a,{href:"/configuration/target/",children:(0,i.jsx)(n.code,{children:"target"})})," is set to ",(0,i.jsx)(n.code,{children:"'node'"})," or node-like environments (",(0,i.jsx)(n.code,{children:"async-node"}),", ",(0,i.jsx)(n.code,{children:"electron"}),") or mixed targets (",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"})," together)."]}),"\n",(0,i.jsxs)(n.li,{children:["Defaults to ",(0,i.jsx)(n.code,{children:"'mock'"})," if ",(0,i.jsx)(n.a,{href:"/configuration/target/",children:(0,i.jsx)(n.code,{children:"target"})})," is set to ",(0,i.jsx)(n.code,{children:"'web'"})," or web-like environments."]}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);