"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3335],{3335:function(n,s,e){e.r(s),e.d(s,{default:function(){return l}});var a=e(2540),c=e(3317);function t(n){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{align:"center"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.a,{href:"https://npmjs.com/package/compression-webpack-plugin",children:(0,a.jsx)(s.img,{src:"https://img.shields.io/npm/v/compression-webpack-plugin.svg",alt:"npm"})}),"\n",(0,a.jsx)(s.a,{href:"https://nodejs.org",children:(0,a.jsx)(s.img,{src:"https://img.shields.io/node/v/compression-webpack-plugin.svg",alt:"node"})}),"\n",(0,a.jsx)(s.a,{href:"https://github.com/webpack-contrib/compression-webpack-plugin/actions",children:(0,a.jsx)(s.img,{src:"https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg",alt:"tests"})}),"\n",(0,a.jsx)(s.a,{href:"https://codecov.io/gh/webpack-contrib/compression-webpack-plugin",children:(0,a.jsx)(s.img,{src:"https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg",alt:"cover"})}),"\n",(0,a.jsx)(s.a,{href:"https://github.com/webpack/webpack/discussions",children:(0,a.jsx)(s.img,{src:"https://img.shields.io/github/discussions/webpack/webpack",alt:"discussion"})}),"\n",(0,a.jsx)(s.a,{href:"https://packagephobia.now.sh/result?p=compression-webpack-plugin",children:(0,a.jsx)(s.img,{src:"https://packagephobia.now.sh/badge?p=compression-webpack-plugin",alt:"size"})})]}),"\n",(0,a.jsx)(s.p,{children:"Prepare compressed versions of assets to serve them with Content-Encoding."}),"\n",(0,a.jsxs)(s.h2,{children:[(0,a.jsx)(s.span,{id:"getting-started"}),"Getting Started",(0,a.jsx)(s.a,{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.p,{children:["To begin, you'll need to install ",(0,a.jsx)(s.code,{children:"compression-webpack-plugin"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"hljs language-console",children:"npm install compression-webpack-plugin --save-dev\n"})}),"\n",(0,a.jsx)(s.p,{children:"or"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"hljs language-console",children:"yarn add -D compression-webpack-plugin\n"})}),"\n",(0,a.jsx)(s.p,{children:"or"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"hljs language-console",children:"pnpm add -D compression-webpack-plugin\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Then add the plugin to your ",(0,a.jsx)(s.code,{children:"webpack"})," config. For example:"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"const"})," CompressionPlugin ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token function",children:"require"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'"compression-webpack-plugin"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\nmodule",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Finally, run ",(0,a.jsx)(s.code,{children:"webpack"})," using the method you normally use (e.g., via CLI or an npm script)."]}),"\n",(0,a.jsxs)(s.h2,{children:[(0,a.jsx)(s.span,{id:"options"}),"Options",(0,a.jsx)(s.a,{href:"#options","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#test",children:(0,a.jsx)(s.code,{children:"test"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#include",children:(0,a.jsx)(s.code,{children:"include"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#exclude",children:(0,a.jsx)(s.code,{children:"exclude"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#algorithm",children:(0,a.jsx)(s.code,{children:"algorithm"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#compressionoptions",children:(0,a.jsx)(s.code,{children:"compressionOptions"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#threshold",children:(0,a.jsx)(s.code,{children:"threshold"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#minratio",children:(0,a.jsx)(s.code,{children:"minRatio"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#filename",children:(0,a.jsx)(s.code,{children:"filename"})})})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:(0,a.jsx)(s.a,{href:"#deleteoriginalassets",children:(0,a.jsx)(s.code,{children:"deleteOriginalAssets"})})})}),"\n"]}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"test"}),(0,a.jsx)(s.code,{children:"test"}),(0,a.jsx)(s.a,{href:"#test","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"test"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," RegExp ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"Array"}),(0,a.jsx)(s.span,{className:"token operator",children:"<"}),(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," RegExp",(0,a.jsx)(s.span,{className:"token operator",children:">"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"undefined"})]}),"\n",(0,a.jsx)(s.p,{children:"Include all assets that pass test assertion."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      test",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\.js(\\?.*)?$/i"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"include"}),(0,a.jsx)(s.code,{children:"include"}),(0,a.jsx)(s.a,{href:"#include","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"include"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," RegExp ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"Array"}),(0,a.jsx)(s.span,{className:"token operator",children:"<"}),(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," RegExp",(0,a.jsx)(s.span,{className:"token operator",children:">"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"undefined"})]}),"\n",(0,a.jsx)(s.p,{children:"Include all assets matching any of these conditions."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      include",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\/includes/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"exclude"}),(0,a.jsx)(s.code,{children:"exclude"}),(0,a.jsx)(s.a,{href:"#exclude","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"exclude"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," RegExp ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"Array"}),(0,a.jsx)(s.span,{className:"token operator",children:"<"}),(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," RegExp",(0,a.jsx)(s.span,{className:"token operator",children:">"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"undefined"})]}),"\n",(0,a.jsx)(s.p,{children:"Exclude all assets matching any of these conditions."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      exclude",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\/excludes/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"algorithm"}),(0,a.jsx)(s.code,{children:"algorithm"}),(0,a.jsx)(s.a,{href:"#algorithm","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"algorithm"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),"\n  ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"\n      input",(0,a.jsx)(s.span,{className:"token operator",children:":"})," Buffer",(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      options",(0,a.jsx)(s.span,{className:"token operator",children:":"})," CompressionOptions",(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token function-variable function",children:"callback"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"\n        error",(0,a.jsx)(s.span,{className:"token operator",children:":"})," Error ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token keyword",children:"null"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token keyword",children:"undefined"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n        result",(0,a.jsx)(s.span,{className:"token operator",children:":"}),"\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),"\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ArrayBuffer\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," SharedArrayBuffer\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," Uint8Array\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token keyword",children:"readonly"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),"\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n              ",(0,a.jsx)(s.span,{className:"token function",children:"valueOf"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ArrayBuffer ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," SharedArrayBuffer",(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n            ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n              ",(0,a.jsx)(s.span,{className:"token function",children:"valueOf"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," Uint8Array ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token keyword",children:"readonly"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n            ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n              ",(0,a.jsx)(s.span,{className:"token function",children:"valueOf"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n            ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n          ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n              ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"Symbol",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"toPrimitive",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"hint",(0,a.jsx)(s.span,{className:"token operator",children:":"}),(0,a.jsx)(s.span,{className:"token operator",children:"%"}),(0,a.jsx)(s.span,{className:"token number",children:"20"}),(0,a.jsx)(s.span,{className:"token operator",children:"%"}),(0,a.jsx)(s.span,{className:"token number",children:"22"}),(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),(0,a.jsx)(s.span,{className:"token operator",children:"%"}),(0,a.jsx)(s.span,{className:"token number",children:"22"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n            ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(s.span,{className:"token keyword",children:"void"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"any"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Defines the compression algorithm or function to use. Defaults to ",(0,a.jsx)(s.code,{children:"gzip"}),"."]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"[!NOTE]"}),"\n",(0,a.jsxs)(s.p,{children:["If you use a custom function for the ",(0,a.jsx)(s.code,{children:"algorithm"})," option, the default value of ",(0,a.jsx)(s.code,{children:"compressionOptions"})," will be an empty object ",(0,a.jsx)(s.code,{children:"{}"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(s.h4,{children:[(0,a.jsx)(s.span,{id:"string"}),(0,a.jsx)(s.code,{children:"string"}),(0,a.jsx)(s.a,{href:"#string","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.p,{children:["The algorithm is based on the Node.js ",(0,a.jsx)(s.a,{href:"https://nodejs.org/api/zlib.html",children:"zlib"})," module."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      algorithm",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"gzip"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h4,{children:[(0,a.jsx)(s.span,{id:"function"}),(0,a.jsx)(s.code,{children:"function"}),(0,a.jsx)(s.a,{href:"#function","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Allow you to specify a custom compression function."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(s.span,{className:"token function",children:"algorithm"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsxs)(s.span,{className:"token parameter",children:["input",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," compressionOptions",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," callback"]}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(s.span,{className:"token function",children:"compressionFunction"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," compressionOptions",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," callback",(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"compressionoptions"}),(0,a.jsx)(s.code,{children:"compressionOptions"}),(0,a.jsx)(s.a,{href:"#compressionoptions","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"compressionOptions"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  flush",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  finishFlush",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  chunkSize",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  windowBits",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  level",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  memLevel",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  strategy",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  dictionary",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," Buffer ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," TypedArray ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," DataView ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ArrayBuffer",(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  info",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"boolean"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  maxOutputLength",(0,a.jsx)(s.span,{className:"token operator",children:"?"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"{ level: 9 }"})]}),"\n",(0,a.jsxs)(s.p,{children:["Compression options for ",(0,a.jsx)(s.code,{children:"algorithm"}),"."]}),"\n",(0,a.jsxs)(s.p,{children:["You can find all available options in the ",(0,a.jsx)(s.a,{href:"https://nodejs.org/api/zlib.html#zlib_class_options",children:"zlib"})," documentation."]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"[!NOTE]"}),"\n",(0,a.jsxs)(s.p,{children:["If you use a custom function for the ",(0,a.jsx)(s.code,{children:"algorithm"})," option, the default value of ",(0,a.jsx)(s.code,{children:"compressionOptions"})," will be an empty object ",(0,a.jsx)(s.code,{children:"{}"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      compressionOptions",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"})," level",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"1"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"threshold"}),(0,a.jsx)(s.code,{children:"threshold"}),(0,a.jsx)(s.a,{href:"#threshold","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"threshold"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"0"})]}),"\n",(0,a.jsx)(s.p,{children:"Only assets larger than this size (in bytes) are processed."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      threshold",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"8192"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"minratio"}),(0,a.jsx)(s.code,{children:"minRatio"}),(0,a.jsx)(s.a,{href:"#minratio","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"minRatio"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"number"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"0.8"})]}),"\n",(0,a.jsxs)(s.p,{children:["Only assets that compress better than this ratio are processed (",(0,a.jsx)(s.code,{children:"minRatio = Compressed Size / Original Size"}),").\nFor example, if you have a ",(0,a.jsx)(s.code,{children:"image.png"})," file with a size of 1024 bytes, and its compressed version is of 768 bytes, the ",(0,a.jsx)(s.code,{children:"minRatio"})," is ",(0,a.jsx)(s.code,{children:"0.75"}),".\nIn other words, assets will be processed only when the ratio of ",(0,a.jsx)(s.code,{children:"Compressed Size / Original Size"})," is less than the specified ",(0,a.jsx)(s.code,{children:"minRatio"}),"."]}),"\n",(0,a.jsxs)(s.p,{children:["You can use a value of ",(0,a.jsx)(s.code,{children:"1"})," to process assets that are smaller than or equal to the original size."]}),"\n",(0,a.jsxs)(s.p,{children:["Use a value of ",(0,a.jsx)(s.code,{children:"Infinity"})," to process all assets, even if they are larger than the original size or their original size is ",(0,a.jsx)(s.code,{children:"0"})," bytes (useful when you are pre-zipping all assets for AWS)."]}),"\n",(0,a.jsxs)(s.p,{children:["Use a value of ",(0,a.jsx)(s.code,{children:"Number.MAX_SAFE_INTEGER"})," to process all assets even if they are larger than the original size, excluding assets with their original size is ",(0,a.jsx)(s.code,{children:"0"})," bytes."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(s.span,{className:"token comment",children:"// Compress all assets, including files with `0` bytes size"}),"\n      ",(0,a.jsx)(s.span,{className:"token comment",children:"// minRatio: Infinity"}),"\n\n      ",(0,a.jsx)(s.span,{className:"token comment",children:"// Compress all assets, excluding files with `0` bytes size"}),"\n      ",(0,a.jsx)(s.span,{className:"token comment",children:"// minRatio: Number.MAX_SAFE_INTEGER"}),"\n\n      minRatio",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"0.8"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"filename"}),(0,a.jsx)(s.code,{children:"filename"}),(0,a.jsx)(s.a,{href:"#filename","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"filename"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"pathdata",(0,a.jsx)(s.span,{className:"token operator",children:":"})," PathData",(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:'"[path][base].gz"'})]}),"\n",(0,a.jsx)(s.p,{children:"The target asset filename."}),"\n",(0,a.jsxs)(s.h4,{children:[(0,a.jsx)(s.span,{id:"string-1"}),(0,a.jsx)(s.code,{children:"string"}),(0,a.jsx)(s.a,{href:"#string-1","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.p,{children:["For example, given an asset path: ",(0,a.jsx)(s.code,{children:"assets/images/image.png?foo=bar#hash"}),":"]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[path]"})," is replaced with the directories of the original asset, including the trailing ",(0,a.jsx)(s.code,{children:"/"})," (",(0,a.jsx)(s.code,{children:"assets/images/"}),")."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[file]"})," is replaced with the path of the original asset (",(0,a.jsx)(s.code,{children:"assets/images/image.png"}),")."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[base]"})," is replaced with the base name (",(0,a.jsx)(s.code,{children:"[name]"})," + ",(0,a.jsx)(s.code,{children:"[ext]"}),") of the original asset (",(0,a.jsx)(s.code,{children:"image.png"}),")."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[name]"})," is replaced with the name of the original asset (",(0,a.jsx)(s.code,{children:"image"}),")."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[ext]"})," is replaced with the extension of the original asset, including the ",(0,a.jsx)(s.code,{children:"."})," (",(0,a.jsx)(s.code,{children:".png"}),")."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[query]"})," is replaced with the query of the original asset, including the ",(0,a.jsx)(s.code,{children:"?"})," (",(0,a.jsx)(s.code,{children:"?foo=bar"}),")."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"[fragment]"})," is replaced with the fragment (in the concept of URL it is called ",(0,a.jsx)(s.code,{children:"hash"}),") of the original asset (",(0,a.jsx)(s.code,{children:"#hash"}),")."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      filename",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"[path][base].gz"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h4,{children:[(0,a.jsx)(s.span,{id:"function-1"}),(0,a.jsx)(s.code,{children:"function"}),(0,a.jsx)(s.a,{href:"#function-1","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(s.span,{className:"token function",children:"filename"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token parameter",children:"pathData"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,a.jsx)(s.span,{className:"token comment",children:"// The `pathData` argument contains all placeholders - `path`/`name`/`ext`/etc"}),"\n        ",(0,a.jsx)(s.span,{className:"token comment",children:"// Available properties described above, for the `String` notation"}),"\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"if"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token regex",children:"/\\.svg$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token function",children:"test"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"pathData",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"filename",(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n          ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"assets/svg/[path][base].gz"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"assets/js/[path][base].gz"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"deleteoriginalassets"}),(0,a.jsx)(s.code,{children:"deleteOriginalAssets"}),(0,a.jsx)(s.a,{href:"#deleteoriginalassets","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"Type:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-ts",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"deleteOriginalAssets"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"boolean"}),"\n  ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"keep-source-map"'}),"\n  ",(0,a.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"name",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"string"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(s.span,{className:"token builtin",children:"boolean"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["Default: ",(0,a.jsx)(s.code,{children:"false"})]}),"\n",(0,a.jsx)(s.p,{children:"Determines whether the original (uncompressed) assets should be deleted after compression."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["If set to ",(0,a.jsx)(s.code,{children:"true"})," , all original assets will be deleted."]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["If set to ",(0,a.jsx)(s.code,{children:'"keep-source-map"'}),", all original assets except source maps (",(0,a.jsx)(s.code,{children:".map"})," files) will be deleted."]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["If a function is provided, it will be called with each assetâ€™s name and should return ",(0,a.jsx)(s.code,{children:"true"})," to delete the asset or ",(0,a.jsx)(s.code,{children:"false"})," to keep it."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Example:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(s.span,{className:"token function-variable function",children:"deleteOriginalAssets"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token parameter",children:"assetName"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,a.jsx)(s.span,{className:"token comment",children:"// Delete all assets except images"}),"\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"!"}),"assetName",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token function",children:"endsWith"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'".png"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"&&"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"!"}),"assetName",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token function",children:"endsWith"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'".jpg"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      deleteOriginalAssets",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token boolean",children:"true"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(s.p,{children:"To exclude sourcemaps from compression:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      exclude",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/.map$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      deleteOriginalAssets",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"keep-source-map"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(s.p,{children:"Using a custom function:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:["module",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      exclude",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/.map$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token function-variable function",children:"deleteOriginalAssets"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token parameter",children:"name"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"if"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token regex",children:"/\\.js$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token function",children:"test"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"name",(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n          ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(s.span,{className:"token boolean",children:"false"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(s.span,{className:"token boolean",children:"true"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h2,{children:[(0,a.jsx)(s.span,{id:"examples"}),"Examples",(0,a.jsx)(s.a,{href:"#examples","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"using-zopfli"}),"Using Zopfli",(0,a.jsx)(s.a,{href:"#using-zopfli","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.p,{children:["Prepare compressed versions of assets using the ",(0,a.jsx)(s.code,{children:"zopfli"})," library."]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"[!NOTE]"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.code,{children:"@gfx/zopfli"})," requires at least ",(0,a.jsx)(s.code,{children:"Node.js"})," version ",(0,a.jsx)(s.code,{children:"8"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["To begin, you'll need to install ",(0,a.jsx)(s.code,{children:"@gfx/zopfli"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"hljs language-console",children:"$ npm install @gfx/zopfli --save-dev\n"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"const"})," zopfli ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token function",children:"require"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'"@gfx/zopfli"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\nmodule",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      compressionOptions",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        numiterations",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"15"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token function",children:"algorithm"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsxs)(s.span,{className:"token parameter",children:["input",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," compressionOptions",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," callback"]}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,a.jsx)(s.span,{className:"token keyword",children:"return"})," zopfli",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token function",children:"gzip"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," compressionOptions",(0,a.jsx)(s.span,{className:"token punctuation",children:","})," callback",(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"using-brotli"}),"Using Brotli",(0,a.jsx)(s.a,{href:"#using-brotli","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Brotli",children:"Brotli"})," is a compression algorithm originally developed by Google, and offers compression superior to gzip."]}),"\n",(0,a.jsxs)(s.p,{children:["Node.js v10.16.0 and later includes ",(0,a.jsx)(s.a,{href:"https://nodejs.org/api/zlib.html#zlib_zlib_createbrotlicompress_options",children:"native support"})," for Brotli compression in its ",(0,a.jsx)(s.code,{children:"zlib"})," module."]}),"\n",(0,a.jsxs)(s.p,{children:["You can take advantage of this built-in support for Brotli in Node 10.16.0 and later by just passing in the appropriate ",(0,a.jsx)(s.code,{children:"algorithm"})," to the CompressionPlugin:"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"const"})," zlib ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token function",children:"require"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'"zlib"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\nmodule",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      filename",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"[path][base].br"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      algorithm",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"brotliCompress"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      test",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\.(js|css|html|svg)$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      compressionOptions",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        params",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n          ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"zlib",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"constants",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token constant",children:"BROTLI_PARAM_QUALITY"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"11"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n        ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      threshold",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"10240"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      minRatio",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"0.8"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      deleteOriginalAssets",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token boolean",children:"false"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["[!NOTE] Brotliâ€™s ",(0,a.jsx)(s.code,{children:"BROTLI_PARAM_QUALITY"})," option is functionally equivalent to zlibâ€™s ",(0,a.jsx)(s.code,{children:"level"})," option.\nYou can find all Brotliâ€™s options in ",(0,a.jsx)(s.a,{href:"https://nodejs.org/api/zlib.html#zlib_class_brotlioptions",children:"the relevant part of the zlib module documentation"}),"."]}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"using-zstandard"}),"Using Zstandard",(0,a.jsx)(s.a,{href:"#using-zstandard","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.a,{href:"https://facebook.github.io/zstd/",children:"Zstandard"})," (zstd) is a fast lossless compression algorithm, targeting real-time compression scenarios at zlib-level and better compression ratios."]}),"\n",(0,a.jsxs)(s.p,{children:["Node.js 22.15.0 and later includes ",(0,a.jsx)(s.a,{href:"https://nodejs.org/api/zlib.html#zlibcreatezstdcompressoptions",children:"native support"})," for Zstandard compression in its ",(0,a.jsx)(s.code,{children:"zlib"})," module."]}),"\n",(0,a.jsxs)(s.p,{children:["You can take advantage of this built-in support for zstd in Node 22.15.0 and later by just passing in the appropriate ",(0,a.jsx)(s.code,{children:"algorithm"})," to the CompressionPlugin:"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"const"})," zlib ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token function",children:"require"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'"zlib"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\nmodule",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      filename",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"[path][base].zst"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      algorithm",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"zstdCompress"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      test",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\.(js|css|html|svg)$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      compressionOptions",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        params",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n          ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"zlib",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"constants",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"ZSTD_c_compressionLevel",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"10"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n        ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      threshold",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"10240"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      minRatio",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"0.8"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      deleteOriginalAssets",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token boolean",children:"false"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.p,{children:["You can find all Zstandard's options in ",(0,a.jsx)(s.a,{href:"https://nodejs.org/api/zlib.html#class-zstdoptions",children:"the relevant part of the zlib module documentation"}),"."]}),"\n",(0,a.jsxs)(s.h3,{children:[(0,a.jsx)(s.span,{id:"multiple-compressed-versions-of-assets-for-different-algorithm"}),"Multiple compressed versions of assets for different algorithm",(0,a.jsx)(s.a,{href:"#multiple-compressed-versions-of-assets-for-different-algorithm","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:"hljs language-js",children:[(0,a.jsx)(s.span,{className:"token keyword",children:"const"})," zlib ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token function",children:"require"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token string",children:'"zlib"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\nmodule",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(s.span,{className:"token operator",children:"="})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  plugins",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      filename",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"[path][base].gz"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      algorithm",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"gzip"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      test",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\.js$|\\.css$|\\.html$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      threshold",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"10240"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      minRatio",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"0.8"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,a.jsx)(s.span,{className:"token class-name",children:"CompressionPlugin"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"("}),(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      filename",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"[path][base].br"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      algorithm",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token string",children:'"brotliCompress"'}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      test",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token regex",children:"/\\.(js|css|html|svg)$/"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      compressionOptions",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        params",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n          ",(0,a.jsx)(s.span,{className:"token punctuation",children:"["}),"zlib",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),"constants",(0,a.jsx)(s.span,{className:"token punctuation",children:"."}),(0,a.jsx)(s.span,{className:"token constant",children:"BROTLI_PARAM_QUALITY"}),(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"11"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n        ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      threshold",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"10240"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n      minRatio",(0,a.jsx)(s.span,{className:"token operator",children:":"})," ",(0,a.jsx)(s.span,{className:"token number",children:"0.8"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:")"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(s.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(s.h2,{children:[(0,a.jsx)(s.span,{id:"contributing"}),"Contributing",(0,a.jsx)(s.a,{href:"#contributing","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:"We welcome contributions!"}),"\n",(0,a.jsx)(s.p,{children:"Please take a moment to read our contributing guidelines if you haven't yet done so."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/.github/CONTRIBUTING.md",children:"CONTRIBUTING"})}),"\n",(0,a.jsxs)(s.h2,{children:[(0,a.jsx)(s.span,{id:"license"}),"License",(0,a.jsx)(s.a,{href:"#license","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(s.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.a,{href:"https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/LICENSE",children:"MIT"})})]})}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{wrapper:s}={...(0,c.R)(),...n.components};return s?(0,a.jsx)(s,{...n,children:(0,a.jsx)(t,{...n})}):t(n)}}}]);