"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3367],{3367:function(e,n,s){s.r(n),s.d(n,{default:function(){return i}});var a=s(2540),c=s(3317);function l(e){const n={a:"a",aside:"aside",code:"code",h2:"h2",h3:"h3",h6:"h6",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This plugin enables more fine grained control of source map generation. It is also enabled automatically by certain settings of the ",(0,a.jsx)(n.a,{href:"/configuration/devtool/",children:(0,a.jsx)(n.code,{children:"devtool"})})," configuration option."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"SourceMapDevToolPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"options",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"options"}),"Options",(0,a.jsx)(n.a,{href:"#options","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"The following options are supported:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"test"})," (",(0,a.jsx)(n.code,{children:"string"})," ",(0,a.jsx)(n.code,{children:"RegExp"})," ",(0,a.jsx)(n.code,{children:"[string, RegExp]"}),"): Include source maps for modules based on their extension (defaults to ",(0,a.jsx)(n.code,{children:".js"}),", ",(0,a.jsx)(n.code,{children:".mjs"}),", and ",(0,a.jsx)(n.code,{children:".css"}),")."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"include"})," (",(0,a.jsx)(n.code,{children:"string"})," ",(0,a.jsx)(n.code,{children:"RegExp"})," ",(0,a.jsx)(n.code,{children:"[string, RegExp]"}),"): Include source maps for module paths that match the given value."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"exclude"})," (",(0,a.jsx)(n.code,{children:"string"})," ",(0,a.jsx)(n.code,{children:"RegExp"})," ",(0,a.jsx)(n.code,{children:"[string, RegExp]"}),"): Exclude modules that match the given value from source map generation."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"filename"})," (",(0,a.jsx)(n.code,{children:"string"}),"): Defines the output filename of the SourceMap (will be inlined if no value is provided)."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"append"})," (",(0,a.jsx)(n.code,{children:"string"})," ",(0,a.jsx)(n.code,{children:"function"})," ",(0,a.jsx)(n.code,{children:"false"}),"): Appends the given value to the original asset. Usually the ",(0,a.jsx)(n.code,{children:"#sourceMappingURL"})," comment. ",(0,a.jsx)(n.code,{children:"[url]"})," is replaced with a URL to the source map file. Since webpack v4.36.0, path parameters are supported: ",(0,a.jsx)(n.code,{children:"[chunk]"}),", ",(0,a.jsx)(n.code,{children:"[filename]"})," and ",(0,a.jsx)(n.code,{children:"[contenthash]"}),". Setting ",(0,a.jsx)(n.code,{children:"append"})," to ",(0,a.jsx)(n.code,{children:"false"})," disables the appending."]}),"\n",(0,a.jsxs)(n.p,{children:["Starting from version 5.84.0, webpack allows the ",(0,a.jsx)(n.code,{children:"append"})," option to be a function that accepts path data and an asset info object as arguments, and returns a string."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-ts",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"pathData",(0,a.jsx)(n.span,{className:"token operator",children:":"})," PathData",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," assetInfo",(0,a.jsx)(n.span,{className:"token operator",children:"?"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," AssetInfo",(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"string"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"moduleFilenameTemplate"})," (",(0,a.jsx)(n.code,{children:"string"}),"): See ",(0,a.jsx)(n.a,{href:"/configuration/output/#outputdevtoolmodulefilenametemplate",children:(0,a.jsx)(n.code,{children:"output.devtoolModuleFilenameTemplate"})}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"fallbackModuleFilenameTemplate"})," (",(0,a.jsx)(n.code,{children:"string"}),"): See link above."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"namespace"})," (",(0,a.jsx)(n.code,{children:"string"}),"): See ",(0,a.jsx)(n.a,{href:"/configuration/output/#outputdevtoolnamespace",children:(0,a.jsx)(n.code,{children:"output.devtoolNamespace"})}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"module = true"})," (",(0,a.jsx)(n.code,{children:"boolean"}),"): Indicates whether loaders should generate source maps."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"columns = true"})," (",(0,a.jsx)(n.code,{children:"boolean"}),"): Indicates whether column mappings should be used."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"noSources = false"})," (",(0,a.jsx)(n.code,{children:"boolean"}),"): Prevents the source file content from being included in the source map."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"publicPath"})," (",(0,a.jsx)(n.code,{children:"string"}),"): Emits absolute URLs with public path prefix, e.g. ",(0,a.jsx)(n.code,{children:"https://example.com/project/"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"fileContext"})," (",(0,a.jsx)(n.code,{children:"string"}),"): Makes the ",(0,a.jsx)(n.code,{children:"[file]"})," argument relative to this directory."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"sourceRoot"})," (",(0,a.jsx)(n.code,{children:"string"}),"): Provide a custom value for the ",(0,a.jsx)(n.code,{children:"sourceRoot"})," property in the SourceMap."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"debugIds"})," (",(0,a.jsx)(n.code,{children:"boolean"}),"): If ",(0,a.jsx)(n.code,{children:"true"}),", unique ids will be emitted in source and sourcemaps which streamlines identifying sourcemaps across different builds. See the ",(0,a.jsx)(n.a,{href:"https://github.com/tc39/ecma426/blob/main/proposals/debug-id.md",children:"TC39 sourcemap debug ID proposal"})," for more details."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"fileContext"})," option is useful when you want to store source maps in an upper level directory to avoid ",(0,a.jsx)(n.code,{children:"../../"})," appearing in the absolute ",(0,a.jsx)(n.code,{children:"[url]"}),"."]}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["Setting ",(0,a.jsx)(n.code,{children:"module"})," and/or ",(0,a.jsx)(n.code,{children:"columns"})," to ",(0,a.jsx)(n.code,{children:"false"})," will yield less accurate source maps but will also improve compilation performance significantly."]})]}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["If you want to use a custom configuration for this plugin in ",(0,a.jsx)(n.a,{href:"/configuration/mode/#mode-development",children:"development mode"}),", make sure to disable the default one. I.e. set ",(0,a.jsx)(n.code,{children:"devtool: false"}),"."]})]}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:["If the default webpack ",(0,a.jsx)(n.code,{children:"minimizer"})," has been overridden (such as to customise the ",(0,a.jsx)(n.code,{children:"TerserPlugin"})," options), make sure to configure its replacement with ",(0,a.jsx)(n.code,{children:"sourceMap: true"})," to enable SourceMap support."]})]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"examples"}),"Examples",(0,a.jsx)(n.a,{href:"#examples","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"The following examples demonstrate some common use cases for this plugin."}),"\n",(0,a.jsxs)(n.h3,{children:[(0,a.jsx)(n.span,{id:"basic-use-case"}),"Basic Use Case",(0,a.jsx)(n.a,{href:"#basic-use-case","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["You can use the following code to replace the configuration option ",(0,a.jsx)(n.code,{children:"devtool: inline-source-map"})," with an equivalent custom plugin configuration:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:["module",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token comment",children:"// ..."}),"\n  devtool",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token boolean",children:"false"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  plugins",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"SourceMapDevToolPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.h3,{children:[(0,a.jsx)(n.span,{id:"exclude-vendor-maps"}),"Exclude Vendor Maps",(0,a.jsx)(n.a,{href:"#exclude-vendor-maps","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The following code would exclude source maps for any modules in the ",(0,a.jsx)(n.code,{children:"vendor.js"})," bundle:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"SourceMapDevToolPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  filename",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'[file].map[query]'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  exclude",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token string",children:"'vendor.js'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.h3,{children:[(0,a.jsx)(n.span,{id:"host-source-maps-externally"}),"Host Source Maps Externally",(0,a.jsx)(n.a,{href:"#host-source-maps-externally","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"Set a URL for source maps. Useful for hosting them on a host that requires authorization."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"SourceMapDevToolPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  append",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'\\n//# sourceMappingURL=https://example.com/sourcemap/[url]'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  filename",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'[file].map[query]'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(n.p,{children:"And for cases when source maps are stored in the upper level directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"hljs language-code",children:"project\n|- dist\n  |- public\n    |- bundle-[hash].js\n  |- sourcemaps\n    |- bundle-[hash].js.map\n"})}),"\n",(0,a.jsx)(n.p,{children:"With the following config:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"SourceMapDevToolPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  filename",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'sourcemaps/[file].map'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  publicPath",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'https://example.com/project/'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  fileContext",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'public'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(n.p,{children:"Will produce the following URL:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"hljs language-code",children:"https://example.com/project/sourcemaps/bundle-[hash].js.map\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);