"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3831],{3831:function(e,n,s){s.r(n),s.d(n,{default:function(){return i}});var a=s(2540),c=s(3317);function l(e){const n={a:"a",aside:"aside",code:"code",h2:"h2",h6:"h6",p:"p",pre:"pre",span:"span",strong:"strong",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This guide only shows major changes that affect end users. For more details please see ",(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/releases",children:"the changelog"}),"."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"nodejs-v4"}),"Node.js v4",(0,a.jsx)(n.a,{href:"#nodejs-v4","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"If you are still using Node.js v4 or lower, you need to upgrade your Node.js installation to Node.js v6 or higher."}),"\n",(0,a.jsxs)(n.p,{children:["Instructions for upgrading your Node.js version can be found ",(0,a.jsx)(n.a,{href:"https://stackoverflow.com/questions/10075990/upgrading-node-js-to-latest-version",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"cli"}),"CLI",(0,a.jsx)(n.a,{href:"#cli","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The CLI has moved to a separate package: webpack-cli. You need to install it before using webpack, see ",(0,a.jsx)(n.a,{href:"/guides/getting-started/#basic-setup",children:"basic setup"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["The installation guide can be found ",(0,a.jsx)(n.a,{href:"/guides/installation",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"update-plugins"}),"Update plugins",(0,a.jsx)(n.a,{href:"#update-plugins","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["Many 3rd party plugins need to be updated to the latest versions to be compatible with webpack 4. Links to popular plugins can be found ",(0,a.jsx)(n.a,{href:"/awesome-webpack/#webpack-plugins",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"mode"}),"mode",(0,a.jsx)(n.a,{href:"#mode","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["Add the new ",(0,a.jsx)(n.a,{href:"/configuration/mode/",children:(0,a.jsx)(n.code,{children:"mode"})})," option to your configuration. Set it to ",(0,a.jsx)(n.code,{children:"'production'"}),", ",(0,a.jsx)(n.code,{children:"'development'"})," or ",(0,a.jsx)(n.code,{children:"'none'"})," depending on your configuration type."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-diff",children:["module.exports = {\n",(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" // ...\n"})]}),(0,a.jsxs)(n.span,{className:"token inserted-sign inserted",children:[(0,a.jsx)(n.span,{className:"token prefix inserted",children:"+"}),(0,a.jsx)(n.span,{className:"token line",children:"  mode: 'production',\n"})]}),"}"]})}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["The purpose of ",(0,a.jsx)(n.code,{children:"'development'"})," mode and ",(0,a.jsx)(n.code,{children:"'production'"})," mode is different. You can use ",(0,a.jsx)(n.code,{children:"webpack-merge"})," as shown in ",(0,a.jsx)(n.a,{href:"/guides/production/#setup",children:"production guide"})," to optimize configurations."]})]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"deprecatedremoved-plugins"}),"Deprecated/Removed plugins",(0,a.jsx)(n.a,{href:"#deprecatedremoved-plugins","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"These plugins can be removed from configuration as they are default in production mode:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-diff",children:["module.exports = {\n",(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" // ...\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" plugins: [\n"})]}),(0,a.jsxs)(n.span,{className:"token deleted-sign deleted",children:[(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"    new NoEmitOnErrorsPlugin(),\n"}),(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"    new ModuleConcatenationPlugin(),\n"}),(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:'    new DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("production") })\n'}),(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"    new UglifyJsPlugin()\n"})]}),(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" ],\n"})]}),"}"]})}),"\n",(0,a.jsx)(n.p,{children:"These plugins are default in development mode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-diff",children:["module.exports = {\n",(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" // ...\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" plugins: [\n"})]}),(0,a.jsxs)(n.span,{className:"token deleted-sign deleted",children:[(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"    new NamedModulesPlugin()\n"})]}),(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" ],\n"})]}),"}"]})}),"\n",(0,a.jsx)(n.p,{children:"These plugins were deprecated and are now removed:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-diff",children:["module.exports = {\n",(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" // ...\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" plugins: [\n"})]}),(0,a.jsxs)(n.span,{className:"token deleted-sign deleted",children:[(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"    new NoErrorsPlugin(),\n"}),(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"    new NewWatchingPlugin()\n"})]}),(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" ],\n"})]}),"}"]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"commonschunkplugin"}),"CommonsChunkPlugin",(0,a.jsx)(n.a,{href:"#commonschunkplugin","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"CommonsChunkPlugin"})," was removed. Instead the ",(0,a.jsx)(n.a,{href:"/configuration/optimization/#optimizationsplitchunks",children:(0,a.jsx)(n.code,{children:"optimization.splitChunks"})})," options can be used."]}),"\n",(0,a.jsxs)(n.p,{children:["See documentation of the ",(0,a.jsx)(n.a,{href:"/configuration/optimization/#optimizationsplitchunks",children:(0,a.jsx)(n.code,{children:"optimization.splitChunks"})})," for more details. The default configuration may already suit your needs."]}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["When generating the HTML from the stats you can use ",(0,a.jsx)(n.code,{children:'optimization.splitChunks.chunks: "all"'})," which is the optimal configuration in most cases."]})]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"import-and-commonjs"}),"import() and CommonJS",(0,a.jsx)(n.a,{href:"#import-and-commonjs","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["When using ",(0,a.jsx)(n.code,{children:"import()"})," to load non-ESM the result has changed in webpack 4. Now you need to access the ",(0,a.jsx)(n.code,{children:"default"})," property to get the value of ",(0,a.jsx)(n.code,{children:"module.exports"}),"."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"non-esm.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:["module",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"exports ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token function-variable function",children:"sayHello"}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    console",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"log"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'hello world'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"example.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsx)(n.span,{className:"token function",children:"sayHello"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"import"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'./non-esm.js'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"then"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token parameter",children:"module"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    module",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"default",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"sayHello"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"json-and-loaders"}),"json and loaders",(0,a.jsx)(n.a,{href:"#json-and-loaders","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["When using a custom loader to transform ",(0,a.jsx)(n.code,{children:".json"})," files you now need to change the module ",(0,a.jsx)(n.code,{children:"type"}),":"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-diff",children:["module.exports = {\n",(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" // ...\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" rules: [\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"   {\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"     test: /config\\.json$/,\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"     loader: 'special-loader',\n"})]}),(0,a.jsxs)(n.span,{className:"token inserted-sign inserted",children:[(0,a.jsx)(n.span,{className:"token prefix inserted",children:"+"}),(0,a.jsx)(n.span,{className:"token line",children:"     type: 'javascript/auto',\n"})]}),(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"     options: {...}\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"   }\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" ]\n"})]}),"};"]})}),"\n",(0,a.jsxs)(n.p,{children:["When still using the ",(0,a.jsx)(n.code,{children:"json-loader"}),", it can be removed:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-diff",children:["module.exports = {\n",(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" // ...\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" rules: [\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"   {\n"})]}),(0,a.jsxs)(n.span,{className:"token deleted-sign deleted",children:[(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"     test: /\\.json$/,\n"}),(0,a.jsx)(n.span,{className:"token prefix deleted",children:"-"}),(0,a.jsx)(n.span,{className:"token line",children:"     loader: 'json-loader'\n"})]}),(0,a.jsxs)(n.span,{className:"token unchanged",children:[(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:"   }\n"}),(0,a.jsx)(n.span,{className:"token prefix unchanged",children:" "}),(0,a.jsx)(n.span,{className:"token line",children:" ]\n"})]}),"};"]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"moduleloaders"}),"module.loaders",(0,a.jsx)(n.a,{href:"#moduleloaders","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"module.loaders"})," were deprecated since webpack 2 and are now removed in favor of ",(0,a.jsx)(n.a,{href:"/configuration/module/#rule",children:(0,a.jsx)(n.code,{children:"module.rules"})}),"."]})]})}function i(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);