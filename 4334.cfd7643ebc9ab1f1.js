"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4334],{4334:function(e,n,s){s.r(n),s.d(n,{default:function(){return c}});var a=s(2540),l=s(3317);function i(e){const n={a:"a",aside:"aside",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h6:"h6",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"DllPlugin"})," and ",(0,a.jsx)(n.code,{children:"DllReferencePlugin"}),' provide means to split bundles in a way that can drastically improve build time performance. The term "DLL" stands for Dynamic-link library which was originally introduced by Microsoft.']}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"dllplugin"}),"DllPlugin",(0,a.jsx)(n.a,{href:"#dllplugin","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["This plugin is used in a separate webpack configuration exclusively to create a dll-only-bundle. It creates a ",(0,a.jsx)(n.code,{children:"manifest.json"})," file, which is used by the ",(0,a.jsx)(n.a,{href:"#dllreferenceplugin",children:(0,a.jsx)(n.code,{children:"DllReferencePlugin"})})," to map dependencies."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"context"})," (optional): context of requests in the manifest file (defaults to the webpack context.)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"format"})," (boolean = false): If ",(0,a.jsx)(n.code,{children:"true"}),", manifest json file (output) will be formatted."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"name"}),": name of the exposed dll function (",(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/TemplatedPathPlugin.js",children:"TemplatePaths"}),": ",(0,a.jsx)(n.code,{children:"[fullhash]"}),", ",(0,a.jsx)(n.code,{children:"[chunkhash]"}),", ",(0,a.jsx)(n.code,{children:"[contenthash]"}),", & ",(0,a.jsx)(n.code,{children:"[name]"})," )"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"path"}),": ",(0,a.jsx)(n.strong,{children:"absolute path"})," to the manifest json file (output)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"entryOnly"})," (boolean = true): if ",(0,a.jsx)(n.code,{children:"true"}),", only entry points will be exposed"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"type"}),": type of the dll bundle"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"DllPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"options",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:["When webpack output uses ",(0,a.jsx)(n.a,{href:"/guides/code-splitting",children:"code splitting"}),", we should use ",(0,a.jsx)(n.a,{href:"/configuration/output/#template-strings",children:"Template strings"})," in ",(0,a.jsx)(n.code,{children:"path"})," to ensure that webpack generates multiple manifest files."]})]}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:["We recommend using DllPlugin only with ",(0,a.jsx)(n.code,{children:"entryOnly: true"}),", otherwise tree shaking in the DLL won't work as all the exports might be used."]})]}),"\n",(0,a.jsxs)(n.p,{children:["Creates a ",(0,a.jsx)(n.code,{children:"manifest.json"})," which is written to the given ",(0,a.jsx)(n.code,{children:"path"}),". It contains mappings from require and import requests to module ids. It is used by the ",(0,a.jsx)(n.code,{children:"DllReferencePlugin"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Combine this plugin with ",(0,a.jsx)(n.a,{href:"/configuration/output/#outputlibrary",children:(0,a.jsx)(n.code,{children:"output.library"})})," option to expose (aka, put into the global scope) the dll function."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"dllreferenceplugin"}),"DllReferencePlugin",(0,a.jsx)(n.a,{href:"#dllreferenceplugin","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"This plugin is used in the primary webpack config, it references the dll-only-bundle(s) to require pre-built dependencies."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"context"}),": (",(0,a.jsx)(n.strong,{children:"absolute path"}),") context of requests in the manifest (or content property)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"extensions"}),": Extensions used to resolve modules in the dll bundle (only used when using 'scope')."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"manifest"})," : an object containing ",(0,a.jsx)(n.code,{children:"content"})," and ",(0,a.jsx)(n.code,{children:"name"})," or a string to the absolute path of the JSON manifest to be loaded upon compilation"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"content"})," (optional): the mappings from request to module id (defaults to ",(0,a.jsx)(n.code,{children:"manifest.content"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"name"})," (optional): an identifier where the dll is exposed (defaults to ",(0,a.jsx)(n.code,{children:"manifest.name"}),") (see also ",(0,a.jsx)(n.a,{href:"/configuration/externals/",children:(0,a.jsx)(n.code,{children:"externals"})}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"scope"})," (optional): prefix which is used for accessing the content of the dll"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"sourceType"})," (optional): how the dll is exposed (",(0,a.jsx)(n.a,{href:"/configuration/output/#outputlibrarytarget",children:"libraryTarget"}),")"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"DllReferencePlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"options",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.p,{children:["References a dll manifest file to map dependency names to module ids, then requires them as needed using the internal ",(0,a.jsx)(n.code,{children:"__webpack_require__"})," function."]}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:["Keep the ",(0,a.jsx)(n.code,{children:"name"})," consistent with ",(0,a.jsx)(n.a,{href:"/configuration/output/#outputlibrary",children:(0,a.jsx)(n.code,{children:"output.library"})}),"."]})]}),"\n",(0,a.jsxs)(n.h3,{children:[(0,a.jsx)(n.span,{id:"modes"}),"Modes",(0,a.jsx)(n.a,{href:"#modes","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["This plugin can be used in two different modes, ",(0,a.jsx)(n.em,{children:"scoped"})," and ",(0,a.jsx)(n.em,{children:"mapped"}),"."]}),"\n",(0,a.jsxs)(n.h4,{children:[(0,a.jsx)(n.span,{id:"scoped-mode"}),"Scoped Mode",(0,a.jsx)(n.a,{href:"#scoped-mode","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The content of the dll is accessible under a module prefix. i.e. with ",(0,a.jsx)(n.code,{children:"scope = 'xyz'"})," a file ",(0,a.jsx)(n.code,{children:"abc"})," in the dll can be access via ",(0,a.jsx)(n.code,{children:"require('xyz/abc')"}),"."]}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/tree/master/examples/dll-user",children:"See an example use of scope"})})]}),"\n",(0,a.jsxs)(n.h4,{children:[(0,a.jsx)(n.span,{id:"mapped-mode"}),"Mapped Mode",(0,a.jsx)(n.a,{href:"#mapped-mode","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"The content of the dll is mapped to the current directory. If a required file matches a file in the dll (after resolving), then the file from the dll is used instead."}),"\n",(0,a.jsxs)(n.p,{children:["Because this happens after resolving every file in the dll bundle, the same paths must be available for the consumer of the dll bundle. i.e. if the dll contains ",(0,a.jsx)(n.code,{children:"lodash"})," and the file ",(0,a.jsx)(n.code,{children:"abc"}),", ",(0,a.jsx)(n.code,{children:"require('lodash')"})," and ",(0,a.jsx)(n.code,{children:"require('./abc')"})," will be used from the dll, rather than building them into the main bundle."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"usage"}),"Usage",(0,a.jsx)(n.a,{href:"#usage","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"DllReferencePlugin"})," and ",(0,a.jsx)(n.code,{children:"DllPlugin"})," are used in ",(0,a.jsx)(n.em,{children:"separate"})," webpack configs."]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.vendor.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," path ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token function",children:"require"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'path'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"DllPlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  context",(0,a.jsx)(n.span,{className:"token operator",children:":"})," __dirname",(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  name",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'[name]_[fullhash]'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  path",(0,a.jsx)(n.span,{className:"token operator",children:":"})," path",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"join"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"__dirname",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token string",children:"'manifest.json'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.app.config.js"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-javascript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"new"})," ",(0,a.jsxs)(n.span,{className:"token class-name",children:["webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"DllReferencePlugin"]}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  context",(0,a.jsx)(n.span,{className:"token operator",children:":"})," __dirname",(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  manifest",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token function",children:"require"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'./manifest.json'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  scope",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'xyz'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  sourceType",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'commonjs2'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"examples"}),"Examples",(0,a.jsx)(n.a,{href:"#examples","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/tree/master/examples/dll",children:"Vendor"})," and ",(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/tree/master/examples/dll-user",children:"User"})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Two separate example folders. Demonstrates scope and context."})}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["Multiple ",(0,a.jsx)(n.code,{children:"DllPlugins"})," and multiple ",(0,a.jsx)(n.code,{children:"DllReferencePlugins"}),"."]})]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"references"}),"References",(0,a.jsx)(n.a,{href:"#references","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.h3,{children:[(0,a.jsx)(n.span,{id:"source"}),"Source",(0,a.jsx)(n.a,{href:"#source","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/DllPlugin.js",children:"DllPlugin source"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/DllReferencePlugin.js",children:"DllReferencePlugin source"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/DllEntryPlugin.js",children:"DllEntryPlugin source"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/DllModuleFactory.js",children:"DllModuleFactory source"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/lib/LibManifestPlugin.js",children:"ManifestPlugin source"})}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{children:[(0,a.jsx)(n.span,{id:"tests"}),"Tests",(0,a.jsx)(n.a,{href:"#tests","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/test/configCases/dll-plugin/0-create-dll/webpack.config.js",children:"DllPlugin creation test"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/blob/main/test/configCases/dll-plugin/2-use-dll-without-scope/webpack.config.js",children:"DllPlugin without scope test"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack/tree/master/test/configCases/dll-plugin",children:"DllReferencePlugin use Dll test"})}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}}}]);