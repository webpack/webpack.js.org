"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4673],{4673:function(e,a,t){t.r(a),t(7378);var n=t(2682);function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function s({components:e,...a}){return(0,n.kt)("wrapper",o({components:e},a),(0,n.kt)("p",null,"Webpack accepts configuration files written in multiple programming and data languages. The list of supported file extensions can be found in the ",(0,n.kt)("a",{href:"https://github.com/gulpjs/interpret",parentName:"p"},"node-interpret")," package. Using ",(0,n.kt)("a",{href:"https://github.com/gulpjs/interpret",parentName:"p"},"node-interpret"),", webpack can handle many different types of configuration files."),(0,n.kt)("h2",{id:"typescript"},"TypeScript",(0,n.kt)("a",{href:"#typescript","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"To write the webpack configuration in ",(0,n.kt)("a",{href:"http://www.typescriptlang.org/",parentName:"p"},"TypeScript"),", you would first install the necessary dependencies, i.e., TypeScript and the relevant type definitions from the ",(0,n.kt)("a",{href:"https://definitelytyped.org/",parentName:"p"},"DefinitelyTyped")," project:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev typescript ts-node @types/node @types/webpack\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"# and, if using webpack-dev-server"),"\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev @types/webpack-dev-server")),(0,n.kt)("p",null,"and then proceed to write your configuration:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.ts")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"*")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"as")," path ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"*")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"as")," webpack ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// in case you run into any typescript error when configuring `devServer`"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack-dev-server'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," config",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," webpack",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"Configuration ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  mode",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'production'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  entry",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./foo.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  output",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    path",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," path",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__dirname",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'dist'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    filename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'foo.bundle.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," config",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"The above sample assumes version >= 2.7 or newer of TypeScript is used with the new ",(0,n.kt)("inlineCode",{parentName:"p"},"esModuleInterop")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"allowSyntheticDefaultImports")," compiler options in your ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," file."),(0,n.kt)("p",null,"Note that you'll also need to check your ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," file. If the ",(0,n.kt)("inlineCode",{parentName:"p"},"module")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"compilerOptions")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," is ",(0,n.kt)("inlineCode",{parentName:"p"},"commonjs"),", the setting is complete, else webpack will fail with an error. This occurs because ",(0,n.kt)("inlineCode",{parentName:"p"},"ts-node")," does not support any module syntax other than ",(0,n.kt)("inlineCode",{parentName:"p"},"commonjs"),"."),(0,n.kt)("p",null,"There are two solutions to this issue:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Modify ",(0,n.kt)("inlineCode",{parentName:"li"},"tsconfig.json"),"."),(0,n.kt)("li",{parentName:"ul"},"Install ",(0,n.kt)("inlineCode",{parentName:"li"},"tsconfig-paths"),".")),(0,n.kt)("p",null,"The ",(0,n.kt)("strong",{parentName:"p"},"first option")," is to open your ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," file and look for ",(0,n.kt)("inlineCode",{parentName:"p"},"compilerOptions"),". Set ",(0,n.kt)("inlineCode",{parentName:"p"},"target")," to ",(0,n.kt)("inlineCode",{parentName:"p"},'"ES5"')," and ",(0,n.kt)("inlineCode",{parentName:"p"},"module")," to ",(0,n.kt)("inlineCode",{parentName:"p"},'"CommonJS"')," (or completely remove the ",(0,n.kt)("inlineCode",{parentName:"p"},"module")," option)."),(0,n.kt)("p",null,"The ",(0,n.kt)("strong",{parentName:"p"},"second option")," is to install the ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig-paths")," package:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev tsconfig-paths")),(0,n.kt)("p",null,"And create a separate TypeScript configuration specifically for your webpack configs:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"tsconfig-for-webpack-config.json")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"compilerOptions"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"module"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"commonjs"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"target"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"es5"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"esModuleInterop"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},(0,n.kt)("inlineCode",{parentName:"p"},"ts-node")," can resolve a ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," file using the environment variable provided by ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig-paths"),".")),(0,n.kt)("p",null,"Then set the environment variable ",(0,n.kt)("inlineCode",{parentName:"p"},"process.env.TS_NODE_PROJECT")," provided by ",(0,n.kt)("inlineCode",{parentName:"p"},"tsconfig-paths")," like so:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"package.json")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"scripts"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"build"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},'"cross-env TS_NODE_PROJECT=\\"tsconfig-for-webpack-config.json\\" webpack"'),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"We had been getting reports that ",(0,n.kt)("inlineCode",{parentName:"p"},"TS_NODE_PROJECT")," might not work with ",(0,n.kt)("inlineCode",{parentName:"p"},'"TS_NODE_PROJECT" unrecognized command')," error. Therefore running it with ",(0,n.kt)("inlineCode",{parentName:"p"},"cross-env")," seems to fix the issue, for more info ",(0,n.kt)("a",{href:"https://github.com/webpack/webpack.js.org/issues/2733",parentName:"p"},"see this issue"),".")),(0,n.kt)("h2",{id:"coffeescript"},"CoffeeScript",(0,n.kt)("a",{href:"#coffeescript","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Similarly, to use ",(0,n.kt)("a",{href:"https://coffeescript.org/",parentName:"p"},"CoffeeScript"),", you would first install the necessary dependencies:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev coffeescript")),(0,n.kt)("p",null,"and then proceed to write your configuration:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.coffee")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-coffeescript",parentName:"pre"},"HtmlWebpackPlugin = require('html-webpack-plugin')\nwebpack = require('webpack')\npath = require('path')\n\nconfig =\n  mode: 'production'\n  entry: './path/to/my/entry/file.js'\n  output:\n    path: path.resolve(__dirname, 'dist')\n    filename: 'my-first-webpack.bundle.js'\n  module: rules: [ {\n    test: /\\.(js|jsx)$/\n    use: 'babel-loader'\n  } ]\n  plugins: [\n    new HtmlWebpackPlugin(template: './src/index.html')\n  ]\n\nmodule.exports = config\n")),(0,n.kt)("h2",{id:"babel-and-jsx"},"Babel and JSX",(0,n.kt)("a",{href:"#babel-and-jsx","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"In the example below JSX (React JavaScript Markup) and Babel are used, to create a JSON configuration that webpack can understand."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Courtesy of ",(0,n.kt)("a",{href:"https://twitter.com/_developit",parentName:"p"},"Jason Miller"))),(0,n.kt)("p",null,"First, install the necessary dependencies:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev babel-register jsxobj babel-preset-es2015")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".babelrc")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-json",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token property",parentName:"code"},'"presets"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},'"es2015"'),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.babel.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," jsxobj ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'jsxobj'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// example of an imported plugin"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"CustomPlugin")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"config"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"..."),"config",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'custom-plugin'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"webpack target",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"web"')," watch mode",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"production"'),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"entry path",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"src/index.js"')," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"resolve",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n      ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"alias\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"..."),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          react",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'preact-compat'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n          ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'react-dom'"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'preact-compat'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n      ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),"resolve",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n      ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"CustomPlugin foo",(0,n.kt)("span",{className:"token operator",parentName:"code"},"="),(0,n.kt)("span",{className:"token string",parentName:"code"},'"bar"')," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),"plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n  ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),"webpack",(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"If you are using Babel elsewhere and have ",(0,n.kt)("inlineCode",{parentName:"p"},"modules")," set to ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),", you will have to either maintain two separate ",(0,n.kt)("inlineCode",{parentName:"p"},".babelrc")," files or use ",(0,n.kt)("inlineCode",{parentName:"p"},"const jsxobj = require('jsxobj');")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"module.exports")," instead of the new ",(0,n.kt)("inlineCode",{parentName:"p"},"import")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"export")," syntax. This is because while Node does support many new ES6 features, they don't yet support ES6 module syntax.")))}s.isMDXComponent=!0,a.default=s}}]);