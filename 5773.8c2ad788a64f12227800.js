"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5773],{5773:function(e,a,t){t.r(a),t(7378);var n=t(2682);function s(){return(s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const o=("Badge",e=>(console.warn("Component `%s` was not imported, exported, or provided by MDXProvider as global scope","Badge"),(0,n.kt)(n.kt.Fragment,null,e.children)));function p({components:e,...a}){return(0,n.kt)("wrapper",s({components:e},a),(0,n.kt)("p",null,"A loader is a JavaScript module that exports a function. The ",(0,n.kt)("a",{href:"https://github.com/webpack/loader-runner",parentName:"p"},"loader runner")," calls this function and passes the result of the previous loader or the resource file into it. The ",(0,n.kt)("inlineCode",{parentName:"p"},"this")," context of the function is filled-in by webpack and the ",(0,n.kt)("a",{href:"https://github.com/webpack/loader-runner",parentName:"p"},"loader runner")," with some useful methods that allow the loader (among other things) to change its invocation style to async, or get query parameters."),(0,n.kt)("p",null,"The first loader is passed one argument: the content of the resource file. The compiler expects a result from the last loader. The result should be a ",(0,n.kt)("inlineCode",{parentName:"p"},"String")," or a ",(0,n.kt)("inlineCode",{parentName:"p"},"Buffer")," (which is converted to a string), representing the JavaScript source code of the module. An optional SourceMap result (as a JSON object) may also be passed."),(0,n.kt)("p",null,"A single result can be returned in ",(0,n.kt)("a",{href:"#synchronous-loaders",parentName:"p"},"sync mode"),". For multiple results the ",(0,n.kt)("inlineCode",{parentName:"p"},"this.callback()")," must be called. In ",(0,n.kt)("a",{href:"#asynchronous-loaders",parentName:"p"},"async mode")," ",(0,n.kt)("inlineCode",{parentName:"p"},"this.async()")," must be called to indicate that the ",(0,n.kt)("a",{href:"https://github.com/webpack/loader-runner",parentName:"p"},"loader runner")," should wait for an asynchronous result. It returns ",(0,n.kt)("inlineCode",{parentName:"p"},"this.callback()"),". Then the loader must return ",(0,n.kt)("inlineCode",{parentName:"p"},"undefined")," and call that callback."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token comment",parentName:"code"},"/**\n *\n * @param {string|Buffer} content Content of the resource file\n * @param {object} [map] SourceMap data consumable by https://github.com/mozilla/source-map\n * @param {any} [meta] Meta data, could be anything\n */"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpackLoader"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," meta"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// code of your webpack loader"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("h2",{id:"examples"},"Examples",(0,n.kt)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The following sections provide some basic examples of the different types of loaders. Note that the ",(0,n.kt)("inlineCode",{parentName:"p"},"map")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"meta")," parameters are optional, see ",(0,n.kt)("a",{href:"#thiscallback",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"this.callback"))," below."),(0,n.kt)("h3",{id:"synchronous-loaders"},"Synchronous Loaders",(0,n.kt)("a",{href:"#synchronous-loaders","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Either ",(0,n.kt)("inlineCode",{parentName:"p"},"return")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"this.callback")," can be used to return the transformed ",(0,n.kt)("inlineCode",{parentName:"p"},"content")," synchronously:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"sync-loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," meta"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someSyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"this.callback")," method is more flexible as it allows multiple arguments to be passed as opposed to only the ",(0,n.kt)("inlineCode",{parentName:"p"},"content"),"."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"sync-loader-with-multiple-results.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," meta"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"null"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someSyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," meta",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// always return undefined when calling callback()"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"asynchronous-loaders"},"Asynchronous Loaders",(0,n.kt)("a",{href:"#asynchronous-loaders","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"For asynchronous loaders, ",(0,n.kt)("a",{href:"#thisasync",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"this.async"))," is used to retrieve the ",(0,n.kt)("inlineCode",{parentName:"p"},"callback")," function:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"async-loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," meta"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," callback ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"async"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someAsyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," result"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"null"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," meta",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"async-loader-with-multiple-results.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," map",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," meta"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," callback ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"async"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someAsyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," sourceMaps",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," meta"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"null"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," sourceMaps",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," meta",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"Loaders were originally designed to work in synchronous loader pipelines, like Node.js (using ",(0,n.kt)("a",{href:"https://github.com/webpack/enhanced-require",parentName:"p"},"enhanced-require"),"), ",(0,n.kt)("em",{parentName:"p"},"and")," asynchronous pipelines, like in webpack. However, since expensive synchronous computations are a bad idea in a single-threaded environment like Node.js, we advise making your loader asynchronous if possible. Synchronous loaders are ok if the amount of computation is trivial.")),(0,n.kt)("h3",{id:"raw-loader"},'"Raw" Loader',(0,n.kt)("a",{href:"#raw-loader","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"By default, the resource file is converted to a UTF-8 string and passed to the loader. By setting the ",(0,n.kt)("inlineCode",{parentName:"p"},"raw")," flag to ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),", the loader will receive the raw ",(0,n.kt)("inlineCode",{parentName:"p"},"Buffer"),". Every loader is allowed to deliver its result as a ",(0,n.kt)("inlineCode",{parentName:"p"},"String")," or as a ",(0,n.kt)("inlineCode",{parentName:"p"},"Buffer"),". The compiler converts them between loaders."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"raw-loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token function",parentName:"code"},"assert"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"instanceof")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"Buffer"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someSyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// return value can be a `Buffer` too"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},'// This is also allowed if loader is not "raw"'),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"raw ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"pitching-loader"},"Pitching Loader",(0,n.kt)("a",{href:"#pitching-loader","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Loaders are ",(0,n.kt)("strong",{parentName:"p"},"always")," called from right to left. There are some instances where the loader only cares about the ",(0,n.kt)("strong",{parentName:"p"},"metadata")," behind a request and can ignore the results of the previous loader. The ",(0,n.kt)("inlineCode",{parentName:"p"},"pitch")," method on loaders is called from ",(0,n.kt)("strong",{parentName:"p"},"left to right")," before the loaders are actually executed (from right to left)."),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},'Loaders may be added inline in requests and disabled via inline prefixes, which will impact the order in which they are "pitched" and executed. See ',(0,n.kt)("a",{href:"/configuration/module/#ruleenforce",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"Rule.enforce"))," for more details.")),(0,n.kt)("p",null,"For the following configuration of ",(0,n.kt)("a",{href:"/configuration/module/#ruleuse",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"use")),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'a-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'b-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'c-loader'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"These steps would occur:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-diff",parentName:"pre"},"|- a-loader `pitch`\n",(0,n.kt)("span",{className:"token unchanged",parentName:"code"},(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"}," |- b-loader `pitch`\n"),(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"},"   |- c-loader `pitch`\n"),(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"},"     |- requested module is picked up as a dependency\n"),(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"},"   |- c-loader normal execution\n"),(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"}," |- b-loader normal execution\n")),"|- a-loader normal execution")),(0,n.kt)("p",null,'So why might a loader take advantage of the "pitching" phase?'),(0,n.kt)("p",null,"First, the ",(0,n.kt)("inlineCode",{parentName:"p"},"data")," passed to the ",(0,n.kt)("inlineCode",{parentName:"p"},"pitch")," method is exposed in the execution phase as well under ",(0,n.kt)("inlineCode",{parentName:"p"},"this.data")," and could be useful for capturing and sharing information from earlier in the cycle."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someSyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"data",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"value",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"pitch")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"remainingRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," precedingRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," data"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  data",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"value ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token number",parentName:"code"},"42"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Second, if a loader delivers a result in the ",(0,n.kt)("inlineCode",{parentName:"p"},"pitch")," method, the process turns around and skips the remaining loaders. In our example above, if the ",(0,n.kt)("inlineCode",{parentName:"p"},"b-loader"),"s ",(0,n.kt)("inlineCode",{parentName:"p"},"pitch")," method returned something:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"someSyncOperation"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"pitch")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"remainingRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," precedingRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," data"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token function",parentName:"code"},"someCondition"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n      ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'module.exports = require('")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+"),"\n      ",(0,n.kt)("span",{className:"token constant",parentName:"code"},"JSON"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"stringify"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'-!'")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+")," remainingRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+"),"\n      ",(0,n.kt)("span",{className:"token string",parentName:"code"},"');'"),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"The steps above would be shortened to:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-diff",parentName:"pre"},"|- a-loader `pitch`\n",(0,n.kt)("span",{className:"token unchanged",parentName:"code"},(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"}," |- b-loader `pitch` returns a module\n")),"|- a-loader normal execution")),(0,n.kt)("h2",{id:"the-loader-context"},"The Loader Context",(0,n.kt)("a",{href:"#the-loader-context","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The loader context represents the properties that are available inside of a loader assigned to the ",(0,n.kt)("inlineCode",{parentName:"p"},"this")," property."),(0,n.kt)("h3",{id:"example-for-the-loader-context"},"Example for the loader context",(0,n.kt)("a",{href:"#example-for-the-loader-context","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Given the following example, this require call is used:"),(0,n.kt)("p",null,"In ",(0,n.kt)("inlineCode",{parentName:"p"},"/abc/file.js"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./loader1?xyz!loader2!./resource?rrr'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"thisaddcontextdependency"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.addContextDependency"),(0,n.kt)("a",{href:"#thisaddcontextdependency","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"addContextDependency"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"directory",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"Add a directory as dependency of the loader result."),(0,n.kt)("h3",{id:"thisadddependency"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.addDependency"),(0,n.kt)("a",{href:"#thisadddependency","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"addDependency"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"file",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"dependency"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"file",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// shortcut"))),(0,n.kt)("p",null,"Add a file as dependency of the loader result in order to make them watchable. For example, ",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/sass-loader",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"sass-loader")),", ",(0,n.kt)("a",{href:"https://github.com/webpack-contrib/less-loader",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"less-loader"))," uses this to recompile whenever any imported ",(0,n.kt)("inlineCode",{parentName:"p"},"css")," file changes."),(0,n.kt)("h3",{id:"thisasync"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.async"),(0,n.kt)("a",{href:"#thisasync","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Tells the ",(0,n.kt)("a",{href:"https://github.com/webpack/loader-runner",parentName:"p"},"loader-runner")," that the loader intends to call back asynchronously. Returns ",(0,n.kt)("inlineCode",{parentName:"p"},"this.callback"),"."),(0,n.kt)("h3",{id:"thiscacheable"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.cacheable"),(0,n.kt)("a",{href:"#thiscacheable","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"A function that sets the cacheable flag:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"cacheable"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"flag ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"boolean"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"By default, loader results are flagged as cacheable. Call this method passing ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," to make the loader's result not cacheable."),(0,n.kt)("p",null,"A cacheable loader must have a deterministic result when inputs and dependencies haven't changed. This means the loader shouldn't have dependencies other than those specified with ",(0,n.kt)("inlineCode",{parentName:"p"},"this.addDependency"),"."),(0,n.kt)("h3",{id:"thiscallback"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.callback"),(0,n.kt)("a",{href:"#thiscallback","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"A function that can be called synchronously or asynchronously in order to return multiple results. The expected arguments are:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-ts",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  err",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," Error ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"|")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"null"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  content",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"|")," Buffer",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  sourceMap",(0,n.kt)("span",{className:"token operator",parentName:"code"},"?"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," SourceMap",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  meta",(0,n.kt)("span",{className:"token operator",parentName:"code"},"?"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"any"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"The first argument must be an ",(0,n.kt)("inlineCode",{parentName:"li"},"Error")," or ",(0,n.kt)("inlineCode",{parentName:"li"},"null")),(0,n.kt)("li",{parentName:"ol"},"The second argument is a ",(0,n.kt)("inlineCode",{parentName:"li"},"string")," or a ",(0,n.kt)("a",{href:"https://nodejs.org/api/buffer.html",parentName:"li"},(0,n.kt)("inlineCode",{parentName:"a"},"Buffer")),"."),(0,n.kt)("li",{parentName:"ol"},"Optional: The third argument must be a source map that is parsable by ",(0,n.kt)("a",{href:"https://github.com/mozilla/source-map",parentName:"li"},"this module"),"."),(0,n.kt)("li",{parentName:"ol"},"Optional: The fourth option, ignored by webpack, can be anything (e.g. some metadata).")),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"It can be useful to pass an abstract syntax tree (AST), like ",(0,n.kt)("a",{href:"https://github.com/estree/estree",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"ESTree")),", as the fourth argument (",(0,n.kt)("inlineCode",{parentName:"p"},"meta"),") to speed up the build time if you want to share common ASTs between loaders.")),(0,n.kt)("p",null,"In case this function is called, you should return undefined to avoid ambiguous loader results."),(0,n.kt)("h3",{id:"thiscleardependencies"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.clearDependencies"),(0,n.kt)("a",{href:"#thiscleardependencies","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"clearDependencies"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Remove all dependencies of the loader result, even initial dependencies and those of other loaders. Consider using ",(0,n.kt)("inlineCode",{parentName:"p"},"pitch"),"."),(0,n.kt)("h3",{id:"thiscontext"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.context"),(0,n.kt)("a",{href:"#thiscontext","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"The directory of the module.")," Can be used as a context for resolving other stuff."),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"/abc")," because ",(0,n.kt)("inlineCode",{parentName:"p"},"resource.js")," is in this directory"),(0,n.kt)("h3",{id:"thisdata"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.data"),(0,n.kt)("a",{href:"#thisdata","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"A data object shared between the pitch and the normal phase."),(0,n.kt)("h3",{id:"thisemiterror"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.emitError"),(0,n.kt)("a",{href:"#thisemiterror","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"emitError"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"error",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," Error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"Emit an error that also can be displayed in the output."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},"ERROR ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"in")," ./src/lib.js ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"./src/loader.js",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"./src/lib.js",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\nModule Error ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"from ./src/loader.js",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),":\nHere is an Error",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"\n @ ./src/index.js ",(0,n.kt)("span",{className:"token number",parentName:"code"},"1"),":0-25")),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"Unlike throwing an Error directly, it will NOT interrupt the compilation process of the current module.")),(0,n.kt)("h3",{id:"thisemitfile"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.emitFile"),(0,n.kt)("a",{href:"#thisemitfile","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"emitFile"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," content",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," Buffer",(0,n.kt)("span",{className:"token operator",parentName:"code"},"|"),(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," sourceMap",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"..."),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"Emit a file. This is webpack-specific."),(0,n.kt)("h3",{id:"thisemitwarning"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.emitWarning"),(0,n.kt)("a",{href:"#thisemitwarning","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"emitWarning"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"warning",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," Error",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"Emit a warning that will be displayed in the output like the following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},"WARNING ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"in")," ./src/lib.js ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"./src/loader.js",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"./src/lib.js",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\nModule Warning ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"from ./src/loader.js",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),":\nHere is a Warning",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"\n @ ./src/index.js ",(0,n.kt)("span",{className:"token number",parentName:"code"},"1"),":0-25")),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"Note that the warnings will not be displayed if ",(0,n.kt)("inlineCode",{parentName:"p"},"stats.warnings")," is set to ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),", or some other omit setting is used to ",(0,n.kt)("inlineCode",{parentName:"p"},"stats")," such as ",(0,n.kt)("inlineCode",{parentName:"p"},"none")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"errors-only"),". See the ",(0,n.kt)("a",{href:"/configuration/stats/#stats-presets",parentName:"p"},"stats presets configuration"),".")),(0,n.kt)("h3",{id:"thisfs"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.fs"),(0,n.kt)("a",{href:"#thisfs","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Access to the ",(0,n.kt)("inlineCode",{parentName:"p"},"compilation"),"'s ",(0,n.kt)("inlineCode",{parentName:"p"},"inputFileSystem")," property."),(0,n.kt)("h3",{id:"thisgetoptionsschema"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.getOptions(schema)"),(0,n.kt)("a",{href:"#thisgetoptionsschema","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Extracts given loader options. Optionally, accepts JSON schema as an argument."),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"Since webpack 5, ",(0,n.kt)("inlineCode",{parentName:"p"},"this.getOptions")," is available in loader context. It substitutes ",(0,n.kt)("inlineCode",{parentName:"p"},"getOptions")," method from ",(0,n.kt)("a",{href:"https://github.com/webpack/loader-utils#getoptions",parentName:"p"},"loader-utils"),".")),(0,n.kt)("h3",{id:"thisgetresolve"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.getResolve"),(0,n.kt)("a",{href:"#thisgetresolve","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"getResolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"options",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ResolveOptions",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," resolve\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"context",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," result",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"context",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"Promise"),(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"))),(0,n.kt)("p",null,"Creates a resolve function similar to ",(0,n.kt)("a",{href:"#thisresolve",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"this.resolve")),"."),(0,n.kt)("p",null,"Any options under webpack ",(0,n.kt)("a",{href:"/configuration/resolve/#resolve",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"resolve")," options")," are possible. They are merged with the configured ",(0,n.kt)("inlineCode",{parentName:"p"},"resolve")," options. Note that ",(0,n.kt)("inlineCode",{parentName:"p"},'"..."')," can be used in arrays to extend the value from ",(0,n.kt)("inlineCode",{parentName:"p"},"resolve")," options, e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},'{ extensions: [".sass", "..."] }'),"."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"options.dependencyType")," is an additional option. It allows us to specify the type of dependency, which is used to resolve ",(0,n.kt)("inlineCode",{parentName:"p"},"byDependency")," from the ",(0,n.kt)("inlineCode",{parentName:"p"},"resolve")," options."),(0,n.kt)("p",null,"All dependencies of the resolving operation are automatically added as dependencies to the current module."),(0,n.kt)("h3",{id:"thishot"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.hot"),(0,n.kt)("a",{href:"#thishot","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Information about HMR for loaders."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"source"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"hot",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// true if HMR is enabled via --hot flag or webpack configuration"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"thisimportmodule"},"this.importModule",(0,n.kt)("a",{href:"#thisimportmodule","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)(o,{text:"5.32.0+",mdxType:"Badge"}),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"this.importModule(request, options, [callback]): Promise")),(0,n.kt)("p",null,"An alternative lightweight solution for the child compiler to compile and execute a request at build time. It can be enabled\nwith the ",(0,n.kt)("a",{href:"/configuration/experiments/#experimentsexecutemodule",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"experiments.executeModule")),"."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"request"),": the request string to load the module from"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"options"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"layer"),": specify a layer in which this module is placed/compiled"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"publicPath"),": the public path used for the built modules"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"callback"),": an optional function returning the exports. ",(0,n.kt)("inlineCode",{parentName:"li"},"importModule")," will return a Promise if no callback is provided.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    rules",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        test",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token regex",parentName:"code"},"/stylesheet\\.js$/i"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        use",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./a-pitching-loader.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n        type",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'asset/source'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// we set type to 'asset/source' as the loader will return a string"),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"a-pitching-loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"exports",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"pitch")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"async")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"remaining"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," result ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"importModule"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"resourcePath ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'.webpack[javascript/auto]'")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'!=!'")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+")," remaining\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"default ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"||")," result",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"src/stylesheet.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," green",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," red ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./colors.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"default")," ",(0,n.kt)("span",{className:"token template-string",parentName:"code"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token string",parentName:"span"},"body { background: "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"red",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"; color: "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"green",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"; }"),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"src/colors.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," red ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'#f00'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," green ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'#0f0'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"src/index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," stylesheet ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./stylesheet.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// stylesheet will be a string `body { background: #f00; color: #0f0; }` at build time"))),(0,n.kt)("p",null,"You might notice something in the above example:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"We have a ",(0,n.kt)("a",{href:"#pitching-loader",parentName:"li"},"pitching loader"),","),(0,n.kt)("li",{parentName:"ol"},"We use ",(0,n.kt)("inlineCode",{parentName:"li"},"!=!")," syntax in that pitching loader to set ",(0,n.kt)("a",{href:"#inline-matchresource",parentName:"li"},"matchResource")," for the request, i.e., we'll use ",(0,n.kt)("inlineCode",{parentName:"li"},"this.resourcePath + '.webpack[javascript/auto]'")," to match with the ",(0,n.kt)("a",{href:"/configuration/module/#modulerules",parentName:"li"},(0,n.kt)("inlineCode",{parentName:"a"},"module.rules"))," instead of the original resource,"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},".webpack[javascript/auto]")," is a pseudo extension of the ",(0,n.kt)("inlineCode",{parentName:"li"},".webpack[type]")," pattern, we use it to specify a default ",(0,n.kt)("a",{href:"/configuration/module/#ruletype",parentName:"li"},"module type")," when no other module type is specified. It's typically used in conjunction with ",(0,n.kt)("inlineCode",{parentName:"li"},"!=!")," syntax.")),(0,n.kt)("p",null,"Note that the above example is a simplified one, you can check ",(0,n.kt)("a",{href:"https://github.com/webpack/webpack/tree/master/test/configCases/loader-import-module/css",parentName:"p"},"the full example on webpack repository"),"."),(0,n.kt)("h3",{id:"thisloaderindex"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.loaderIndex"),(0,n.kt)("a",{href:"#thisloaderindex","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The index in the loaders array of the current loader."),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),": in loader1: ",(0,n.kt)("inlineCode",{parentName:"p"},"0"),", in loader2: ",(0,n.kt)("inlineCode",{parentName:"p"},"1")),(0,n.kt)("h3",{id:"thisloadmodule"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.loadModule"),(0,n.kt)("a",{href:"#thisloadmodule","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"loadModule"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," sourceMap",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"module"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"Resolves the given request to a module, applies all configured loaders and calls back with the generated source, the sourceMap and the module instance (usually an instance of ",(0,n.kt)("a",{href:"https://github.com/webpack/webpack/blob/master/lib/NormalModule.js",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"NormalModule")),"). Use this function if you need to know the source code of another module to generate the result."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"this.loadModule")," in a loader context uses CommonJS resolve rules by default. Use ",(0,n.kt)("inlineCode",{parentName:"p"},"this.getResolve")," with an appropriate ",(0,n.kt)("inlineCode",{parentName:"p"},"dependencyType"),", e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"'esm'"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"'commonjs'")," or a custom one before using a different semantic."),(0,n.kt)("h3",{id:"thisloaders"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.loaders"),(0,n.kt)("a",{href:"#thisloaders","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"An array of all the loaders. It is writable in the pitch phase."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-ts",parentName:"pre"},"loaders ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," path",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," query",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"module"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"))),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'/abc/loader1.js?xyz'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    path",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'/abc/loader1.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    query",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'?xyz'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"Function",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'/abc/node_modules/loader2/index.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    path",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'/abc/node_modules/loader2/index.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    query",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"''"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    module",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"Function",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"thismode"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.mode"),(0,n.kt)("a",{href:"#thismode","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Read in which ",(0,n.kt)("a",{href:"/configuration/mode/",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"mode"))," webpack is running."),(0,n.kt)("p",null,"Possible values: ",(0,n.kt)("inlineCode",{parentName:"p"},"'production'"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"'development'"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"'none'")),(0,n.kt)("h3",{id:"thisquery"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.query"),(0,n.kt)("a",{href:"#thisquery","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"If the loader was configured with an ",(0,n.kt)("a",{href:"/configuration/module/#useentry",parentName:"li"},(0,n.kt)("inlineCode",{parentName:"a"},"options"))," object, this will point to that object."),(0,n.kt)("li",{parentName:"ol"},"If the loader has no ",(0,n.kt)("inlineCode",{parentName:"li"},"options"),", but was invoked with a query string, this will be a string starting with ",(0,n.kt)("inlineCode",{parentName:"li"},"?"),".")),(0,n.kt)("h3",{id:"thisrequest"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.request"),(0,n.kt)("a",{href:"#thisrequest","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The resolved request string."),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"'/abc/loader1.js?xyz!/abc/node_modules/loader2/index.js!/abc/resource.js?rrr'")),(0,n.kt)("h3",{id:"thisresolve"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.resolve"),(0,n.kt)("a",{href:"#thisresolve","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-typescript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"context",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," request",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," result",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token builtin",parentName:"code"},"string"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("p",null,"Resolve a request like a require expression."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"context")," must be an absolute path to a directory. This directory is used as the starting location for the resolving."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"request")," is the request to be resolved. Usually either relative requests like ",(0,n.kt)("inlineCode",{parentName:"li"},"./relative")," or module requests like ",(0,n.kt)("inlineCode",{parentName:"li"},"module/path")," are used, but absolute paths like ",(0,n.kt)("inlineCode",{parentName:"li"},"/some/path")," are also possible as requests."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"callback")," is a normal Node.js-style callback function giving the resolved path.")),(0,n.kt)("p",null,"All dependencies of the resolving operation are automatically added as dependencies to the current module."),(0,n.kt)("h3",{id:"thisresource"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.resource"),(0,n.kt)("a",{href:"#thisresource","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The resource part of the request, including query."),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"'/abc/resource.js?rrr'")),(0,n.kt)("h3",{id:"thisresourcepath"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.resourcePath"),(0,n.kt)("a",{href:"#thisresourcepath","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The resource file."),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"'/abc/resource.js'")),(0,n.kt)("h3",{id:"thisresourcequery"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.resourceQuery"),(0,n.kt)("a",{href:"#thisresourcequery","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The query of the resource."),(0,n.kt)("p",null,"In ",(0,n.kt)("a",{href:"#example-for-the-loader-context",parentName:"p"},"the example"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"'?rrr'")),(0,n.kt)("h3",{id:"thisrootcontext"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.rootContext"),(0,n.kt)("a",{href:"#thisrootcontext","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Since webpack 4, the formerly ",(0,n.kt)("inlineCode",{parentName:"p"},"this.options.context")," is provided as ",(0,n.kt)("inlineCode",{parentName:"p"},"this.rootContext"),"."),(0,n.kt)("h3",{id:"thissourcemap"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.sourceMap"),(0,n.kt)("a",{href:"#thissourcemap","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Tells if source map should be generated. Since generating source maps can be an expensive task, you should check if source maps are actually requested."),(0,n.kt)("h3",{id:"thistarget"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.target"),(0,n.kt)("a",{href:"#thistarget","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Target of compilation. Passed from configuration options."),(0,n.kt)("p",null,"Example values: ",(0,n.kt)("inlineCode",{parentName:"p"},"'web'"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"'node'")),(0,n.kt)("h3",{id:"thisutils"},"this.utils",(0,n.kt)("a",{href:"#thisutils","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)(o,{text:"5.27.0+",mdxType:"Badge"}),(0,n.kt)("p",null,"Access to ",(0,n.kt)("inlineCode",{parentName:"p"},"contextify")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"absolutify")," utilities."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"contextify"),": Return a new request string avoiding absolute paths when possible."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"absolutify"),": Return a new request string using absolute paths when possible.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"my-sync-loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"content"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"utils",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"contextify"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"context",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"utils",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"absolutify"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"context",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./index.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"utils",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"absolutify"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"context",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"resourcePath",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// "),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," content",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"thisversion"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.version"),(0,n.kt)("a",{href:"#thisversion","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Loader API version.")," Currently ",(0,n.kt)("inlineCode",{parentName:"p"},"2"),". This is useful for providing backwards compatibility. Using the version you can specify custom logic or fallbacks for breaking changes."),(0,n.kt)("h3",{id:"thiswebpack"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.webpack"),(0,n.kt)("a",{href:"#thiswebpack","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"This boolean is set to true when this is compiled by webpack."),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"Loaders were originally designed to also work as Babel transforms. Therefore, if you write a loader that works for both, you can use this property to know if there is access to additional loaderContext and webpack features.")),(0,n.kt)("h2",{id:"webpack-specific-properties"},"Webpack specific properties",(0,n.kt)("a",{href:"#webpack-specific-properties","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The loader interface provides all module relate information. However in rare cases you might need access to the compiler api itself."),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"Please note that using these webpack specific properties will have a negative impact on your loaders compatibility.")),(0,n.kt)("p",null,"Therefore you should only use them as a last resort. Using them will reduce the portability of your loader."),(0,n.kt)("h3",{id:"this_compilation"},(0,n.kt)("inlineCode",{parentName:"h3"},"this._compilation"),(0,n.kt)("a",{href:"#this_compilation","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Access to the current Compilation object of webpack."),(0,n.kt)("h3",{id:"this_compiler"},(0,n.kt)("inlineCode",{parentName:"h3"},"this._compiler"),(0,n.kt)("a",{href:"#this_compiler","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Access to the current Compiler object of webpack."),(0,n.kt)("h2",{id:"deprecated-context-properties"},"Deprecated context properties",(0,n.kt)("a",{href:"#deprecated-context-properties","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"The usage of these properties is highly discouraged since we are planning to remove them from the context. They are still listed here for documentation purposes.")),(0,n.kt)("h3",{id:"thisdebug"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.debug"),(0,n.kt)("a",{href:"#thisdebug","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"A boolean flag. It is set when in debug mode."),(0,n.kt)("h3",{id:"thisinputvalue"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.inputValue"),(0,n.kt)("a",{href:"#thisinputvalue","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Passed from the last loader. If you would execute the input argument as a module, consider reading this variable for a shortcut (for performance)."),(0,n.kt)("h3",{id:"thisminimize"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.minimize"),(0,n.kt)("a",{href:"#thisminimize","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Tells if result should be minimized."),(0,n.kt)("h3",{id:"thisvalue"},(0,n.kt)("inlineCode",{parentName:"h3"},"this.value"),(0,n.kt)("a",{href:"#thisvalue","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Pass values to the next loader. If you know what your result exports if executed as a module, set this value here (as an only element array)."),(0,n.kt)("h3",{id:"this_module"},(0,n.kt)("inlineCode",{parentName:"h3"},"this._module"),(0,n.kt)("a",{href:"#this_module","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Hacky access to the Module object being loaded."),(0,n.kt)("h2",{id:"error-reporting"},"Error Reporting",(0,n.kt)("a",{href:"#error-reporting","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"You can report errors from inside a loader by:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Using ",(0,n.kt)("a",{href:"/api/loaders/#thisemiterror",parentName:"li"},"this.emitError"),". Will report the errors without interrupting module's compilation."),(0,n.kt)("li",{parentName:"ul"},"Using ",(0,n.kt)("inlineCode",{parentName:"li"},"throw")," (or other uncaught exception). Throwing an error while a loader is running will cause current module compilation failure."),(0,n.kt)("li",{parentName:"ul"},"Using ",(0,n.kt)("inlineCode",{parentName:"li"},"callback")," (in async mode). Pass an error to the callback will also cause module compilation failure.")),(0,n.kt)("p",null,"For example:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"./src/index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./loader!./lib'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Throwing an error from loader:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"./src/loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"source"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"throw")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"Error"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'This is a Fatal Error!'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Or pass an error to the callback in async mode:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"./src/loader.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"source"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," callback ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"async"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"//..."),"\n  ",(0,n.kt)("span",{className:"token function",parentName:"code"},"callback"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"Error"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'This is a Fatal Error!'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"The module will get bundled like this:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'/***/ "./src/loader.js!./src/lib.js":\n/*!************************************!*\\\n  !*** ./src/loader.js!./src/lib.js ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nthrow new Error("Module build failed (from ./src/loader.js):\\nError: This is a Fatal Error!\\n    at Object.module.exports (/workspace/src/loader.js:3:9)");\n\n/***/ })\n')),(0,n.kt)("p",null,"Then the build output will also display the error (Similar to ",(0,n.kt)("inlineCode",{parentName:"p"},"this.emitError"),"):"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},"ERROR ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"in")," ./src/lib.js ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"./src/loader.js",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"./src/lib.js",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\nModule build failed ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"from ./src/loader.js",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),":\nError: This is a Fatal Error",(0,n.kt)("span",{className:"token operator",parentName:"code"},"!"),"\n    at Object.module.exports ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"/workspace/src/loader.js:2:9",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),"\n @ ./src/index.js ",(0,n.kt)("span",{className:"token number",parentName:"code"},"1"),":0-25")),(0,n.kt)("p",null,"As you can see below, not only error message, but also details about which loader and module are involved:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"the module path: ",(0,n.kt)("inlineCode",{parentName:"li"},"ERROR in ./src/lib.js")),(0,n.kt)("li",{parentName:"ul"},"the request string: ",(0,n.kt)("inlineCode",{parentName:"li"},"(./src/loader.js!./src/lib.js)")),(0,n.kt)("li",{parentName:"ul"},"the loader path: ",(0,n.kt)("inlineCode",{parentName:"li"},"(from ./src/loader.js)")),(0,n.kt)("li",{parentName:"ul"},"the caller path: ",(0,n.kt)("inlineCode",{parentName:"li"},"@ ./src/index.js 1:0-25"))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"The loader path in the error is displayed since webpack 4.12")),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"All the errors and warnings will be recorded into ",(0,n.kt)("inlineCode",{parentName:"p"},"stats"),". Please see ",(0,n.kt)("a",{href:"/api/stats/#errors-and-warnings",parentName:"p"},"Stats Data"),".")),(0,n.kt)("h2",{id:"inline-matchresource"},"Inline matchResource",(0,n.kt)("a",{href:"#inline-matchresource","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"A new inline request syntax was introduced in webpack v4. Prefixing ",(0,n.kt)("inlineCode",{parentName:"p"},"<match-resource>!=!")," to a request will set the ",(0,n.kt)("inlineCode",{parentName:"p"},"matchResource")," for this request."),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"It is not recommended to use this syntax in application code.\nInline request syntax is intended to only be used by loader generated code.\nNot following this recommendation will make your code webpack-specific and non-standard.")),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"A relative ",(0,n.kt)("inlineCode",{parentName:"p"},"matchResource")," will resolve relative to the current context of the containing module.")),(0,n.kt)("p",null,"When a ",(0,n.kt)("inlineCode",{parentName:"p"},"matchResource")," is set, it will be used to match with the ",(0,n.kt)("a",{href:"/configuration/module/#modulerules",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"module.rules"))," instead of the original resource. This can be useful if further loaders should be applied to the resource, or if the module type needs to be changed. It's also displayed in the stats and used for matching ",(0,n.kt)("a",{href:"/configuration/module/#ruleissuer",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"Rule.issuer"))," and ",(0,n.kt)("a",{href:"/plugins/split-chunks-plugin/#splitchunkscachegroupscachegrouptest",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"test")," in ",(0,n.kt)("inlineCode",{parentName:"a"},"splitChunks")),"."),(0,n.kt)("p",null,"Example:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,n.kt)("span",{className:"token comment",parentName:"code"},"/* STYLE: body { background: red; } */"),"\nconsole",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'yep'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"A loader could transform the file into the following file and use the ",(0,n.kt)("inlineCode",{parentName:"p"},"matchResource")," to apply the user-specified CSS processing rules:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"file.js")," (transformed by loader)"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./file.js.css!=!extract-style-loader/getStyles!./file.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\nconsole",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'yep'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"This will add a dependency to ",(0,n.kt)("inlineCode",{parentName:"p"},"extract-style-loader/getStyles!./file.js")," and treat the result as ",(0,n.kt)("inlineCode",{parentName:"p"},"file.js.css"),". Because ",(0,n.kt)("a",{href:"/configuration/module/#modulerules",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"module.rules"))," has a rule matching ",(0,n.kt)("inlineCode",{parentName:"p"},"/\\.css$/")," and it will apply to this dependency."),(0,n.kt)("p",null,"The loader could look like this:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"extract-style-loader/index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," stringifyRequest ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'loader-utils'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"stringifyRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," getRemainingRequest ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'loader-utils'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"getRemainingRequest",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," getStylesLoader ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," require",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"resolve"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./getStyle'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"source"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token constant",parentName:"code"},"STYLES_REGEXP"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"test"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    source ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"replace"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token constant",parentName:"code"},"STYLES_REGEXP"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"''"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," remReq ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"getRemainingRequest"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token template-string",parentName:"code"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token string",parentName:"span"},"import "),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),(0,n.kt)("span",{className:"token function",parentName:"span"},"stringifyRequest"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"("),"\n      ",(0,n.kt)("span",{className:"token template-string",parentName:"span"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),(0,n.kt)("span",{className:"token keyword",parentName:"span"},"this"),(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"."),"resource",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},".css!=!"),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"getStylesLoader",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},"!"),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"remReq",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},")"),(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token string",parentName:"span"},";"),(0,n.kt)("span",{className:"token interpolation",parentName:"span"},(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"${"),"source",(0,n.kt)("span",{className:"token interpolation-punctuation punctuation",parentName:"span"},"}")),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"extract-style-loader/getStyles.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-javascript",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function-variable function",parentName:"code"},"exports")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"source"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," match ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token constant",parentName:"code"},"STYLES_REGEXP"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"match"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"source",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," match",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token number",parentName:"code"},"0"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",{id:"logging"},"Logging",(0,n.kt)("a",{href:"#logging","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Logging API is available since the release of webpack 4.37. When ",(0,n.kt)("inlineCode",{parentName:"p"},"logging")," is enabled in ",(0,n.kt)("a",{href:"/configuration/stats/#statslogging",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"stats configuration"))," and/or when ",(0,n.kt)("a",{href:"/configuration/other-options/#infrastructurelogging",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"infrastructure logging"))," is enabled, loaders may log messages which will be printed out in the respective logger format (stats, infrastructure)."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Loaders should prefer to use ",(0,n.kt)("inlineCode",{parentName:"li"},"this.getLogger()")," for logging which is a shortcut to ",(0,n.kt)("inlineCode",{parentName:"li"},"compilation.getLogger()")," with loader path and processed file. This kind of logging is stored to the Stats and formatted accordingly. It can be filtered and exported by the webpack user."),(0,n.kt)("li",{parentName:"ul"},"Loaders may use ",(0,n.kt)("inlineCode",{parentName:"li"},"this.getLogger('name')")," to get an independent logger with a child name. Loader path and processed file is still added."),(0,n.kt)("li",{parentName:"ul"},"Loaders may use special fallback logic for detecting logging support ",(0,n.kt)("inlineCode",{parentName:"li"},"this.getLogger() ? this.getLogger() : console")," to provide a fallback when an older webpack version is used which does not support ",(0,n.kt)("inlineCode",{parentName:"li"},"getLogger")," method.")))}p.isMDXComponent=!0,a.default=p}}]);