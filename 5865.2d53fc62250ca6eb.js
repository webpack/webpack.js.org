"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5865],{5865:function(e,n,s){s.r(n),s.d(n,{default:function(){return t}});var a=s(2540),c=s(3317);function o(e){const n={a:"a",aside:"aside",code:"code",h2:"h2",h6:"h6",p:"p",pre:"pre",span:"span",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["ECMAScript Modules (ESM) is a ",(0,a.jsx)(n.a,{href:"https://tc39.github.io/ecma262/#sec-modules",children:"specification"})," for using Modules in the Web.\nIt's supported by all modern browsers and the recommended way of writing modular code for the Web."]}),"\n",(0,a.jsx)(n.p,{children:"Webpack supports processing ECMAScript Modules to optimize them."}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"exporting"}),"Exporting",(0,a.jsx)(n.a,{href:"#exporting","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"export"})," keyword allows to expose things from an ESM to other modules:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"CONSTANT"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token number",children:"42"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"let"})," variable ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token number",children:"42"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"// only reading is exposed"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"// it's not possible to modify the variable from outside"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"function"})," ",(0,a.jsx)(n.span,{className:"token function",children:"fun"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  console",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"log"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'fun'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"class"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"C"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"extends"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Super"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token function",children:"method"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    console",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"log"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:"'method'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"let"})," a",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," b",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," other",(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," a",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," b",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," other ",(0,a.jsx)(n.span,{className:"token keyword",children:"as"})," c ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"default"})," ",(0,a.jsx)(n.span,{className:"token number",children:"1"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(n.span,{className:"token number",children:"2"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(n.span,{className:"token number",children:"3"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"+"})," ",(0,a.jsx)(n.span,{className:"token function",children:"more"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"importing"}),"Importing",(0,a.jsx)(n.a,{href:"#importing","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"import"})," keyword allows to get references to things from other modules into an ESM:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-js",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"CONSTANT"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," variable ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"from"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'./module.js'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:'// import "bindings" to exports from another module'}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"// these bindings are live. The values are not copied,"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:'// instead accessing "variable" will get the current value'}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"// in the imported module"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"*"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"as"})," module ",(0,a.jsx)(n.span,{className:"token keyword",children:"from"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'./module.js'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\nmodule",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"fun"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:'// import the "namespace object" which contains all exports'}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," theDefaultValue ",(0,a.jsx)(n.span,{className:"token keyword",children:"from"})," ",(0,a.jsx)(n.span,{className:"token string",children:"'./module.js'"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:'// shortcut to import the "default" export'})]})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"flagging-modules-as-esm"}),"Flagging modules as ESM",(0,a.jsx)(n.a,{href:"#flagging-modules-as-esm","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"By default webpack will automatically detect whether a file is an ESM or a different module system."}),"\n",(0,a.jsxs)(n.p,{children:["Node.js established a way of explicitly setting the module type of files by using a property in the ",(0,a.jsx)(n.code,{children:"package.json"}),".\nSetting ",(0,a.jsx)(n.code,{children:'"type": "module"'})," in a package.json does force all files below this package.json to be ECMAScript Modules.\nSetting ",(0,a.jsx)(n.code,{children:'"type": "commonjs"'})," will instead force them to be CommonJS Modules."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"type"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"module"'}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsxs)(n.p,{children:["In addition to that, files can set the module type by using ",(0,a.jsx)(n.code,{children:".mjs"})," or ",(0,a.jsx)(n.code,{children:".cjs"})," extension. ",(0,a.jsx)(n.code,{children:".mjs"})," will force them to be ESM, ",(0,a.jsx)(n.code,{children:".cjs"})," force them to be CommonJs."]}),"\n",(0,a.jsxs)(n.p,{children:["In DataURIs using the ",(0,a.jsx)(n.code,{children:"text/javascript"})," or ",(0,a.jsx)(n.code,{children:"application/javascript"})," mime type will also force module type to ESM."]}),"\n",(0,a.jsx)(n.p,{children:"In addition to the module format, flagging modules as ESM also affect the resolving logic, interop logic and the available symbols in modules."}),"\n",(0,a.jsxs)(n.p,{children:["Imports in ESM are resolved more strictly. Relative requests must include a filename and file extension (e.g. ",(0,a.jsx)(n.code,{children:"*.js"})," or ",(0,a.jsx)(n.code,{children:"*.mjs"}),") unless you have the behaviour disabled with ",(0,a.jsx)(n.a,{href:"/configuration/module/#resolvefullyspecified",children:(0,a.jsx)(n.code,{children:"fullySpecified=false"})}),"."]}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["Requests to packages e.g. ",(0,a.jsx)(n.code,{children:'import "lodash"'})," are still supported."]})]}),"\n",(0,a.jsx)(n.p,{children:'Only the "default" export can be imported from non-ESM. Named exports are not available.'}),"\n",(0,a.jsxs)(n.p,{children:["CommonJs Syntax is not available: ",(0,a.jsx)(n.code,{children:"require"}),", ",(0,a.jsx)(n.code,{children:"module"}),", ",(0,a.jsx)(n.code,{children:"exports"}),", ",(0,a.jsx)(n.code,{children:"__filename"}),", ",(0,a.jsx)(n.code,{children:"__dirname"}),"."]}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:["HMR can be used with ",(0,a.jsx)(n.a,{href:"/api/module-variables/#importmetawebpackhot",children:(0,a.jsx)(n.code,{children:"import.meta.webpackHot"})})," instead of ",(0,a.jsx)(n.a,{href:"/api/module-variables/#modulehot-webpack-specific",children:(0,a.jsx)(n.code,{children:"module.hot"})}),"."]})]})]})}function t(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}}}]);