"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6334],{6334:function(e,n,s){s.r(n),s.d(n,{default:function(){return t}});var a=s(2540),c=s(9710);function o(e){const n={a:"a",aside:"aside",blockquote:"blockquote",code:"code",h2:"h2",h6:"h6",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["Webpack accepts configuration files written in multiple programming and data languages. The list of supported file extensions can be found in the ",(0,a.jsx)(n.a,{href:"https://github.com/gulpjs/interpret",children:"node-interpret"})," package. Using ",(0,a.jsx)(n.a,{href:"https://github.com/gulpjs/interpret",children:"node-interpret"}),", webpack can handle many different types of configuration files."]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"typescript"}),"TypeScript",(0,a.jsx)(n.a,{href:"#typescript","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["To write the webpack configuration in ",(0,a.jsx)(n.a,{href:"http://www.typescriptlang.org/",children:"TypeScript"}),", you would first install the necessary dependencies, i.e., TypeScript and the relevant type definitions from the ",(0,a.jsx)(n.a,{href:"https://definitelytyped.org/",children:"DefinitelyTyped"})," project:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-bash",children:[(0,a.jsx)(n.span,{className:"token function",children:"npm"})," ",(0,a.jsx)(n.span,{className:"token function",children:"install"})," --save-dev typescript ts-node @types/node @types/webpack\n",(0,a.jsx)(n.span,{className:"token comment",children:"# and, if using webpack-dev-server < v4.7.0"}),"\n",(0,a.jsx)(n.span,{className:"token function",children:"npm"})," ",(0,a.jsx)(n.span,{className:"token function",children:"install"})," --save-dev @types/webpack-dev-server"]})}),"\n",(0,a.jsx)(n.p,{children:"and then proceed to write your configuration:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.ts"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-typescript",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," path ",(0,a.jsx)(n.span,{className:"token keyword",children:"from"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"path"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," webpack ",(0,a.jsx)(n.span,{className:"token keyword",children:"from"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"webpack"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(n.span,{className:"token comment",children:"// in case you run into any typescript error when configuring `devServer`"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"import"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"webpack-dev-server"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"const"})," config",(0,a.jsx)(n.span,{className:"token operator",children:":"})," webpack",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),"Configuration ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  mode",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"production"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  entry",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"./foo.js"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  output",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    path",(0,a.jsx)(n.span,{className:"token operator",children:":"})," path",(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token function",children:"resolve"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"__dirname",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token string",children:'"dist"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    filename",(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"foo.bundle.js"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:";"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"export"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"default"})," config",(0,a.jsx)(n.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"tsconfig.json"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"compilerOptions"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"allowSyntheticDefaultImports"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token boolean",children:"true"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"esModuleInterop"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token boolean",children:"true"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsxs)(n.p,{children:["The above sample assumes version >= 2.7 or newer of TypeScript is used with the new ",(0,a.jsx)(n.code,{children:"esModuleInterop"})," and ",(0,a.jsx)(n.code,{children:"allowSyntheticDefaultImports"})," compiler options in your ",(0,a.jsx)(n.code,{children:"tsconfig.json"})," file."]}),"\n",(0,a.jsxs)(n.p,{children:["Note that you'll also need to check your ",(0,a.jsx)(n.code,{children:"tsconfig.json"})," file. If the ",(0,a.jsx)(n.code,{children:"module"})," in ",(0,a.jsx)(n.code,{children:"compilerOptions"})," in ",(0,a.jsx)(n.code,{children:"tsconfig.json"})," is ",(0,a.jsx)(n.code,{children:"commonjs"}),", the setting is complete, else webpack will fail with an error. This occurs because ",(0,a.jsx)(n.code,{children:"ts-node"})," does not support any module syntax other than ",(0,a.jsx)(n.code,{children:"commonjs"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"There are three solutions to this issue:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Modify ",(0,a.jsx)(n.code,{children:"tsconfig.json"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Modify ",(0,a.jsx)(n.code,{children:"tsconfig.json"})," and add settings for ",(0,a.jsx)(n.code,{children:"ts-node"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Install ",(0,a.jsx)(n.code,{children:"tsconfig-paths"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"first option"})," is to open your ",(0,a.jsx)(n.code,{children:"tsconfig.json"})," file and look for ",(0,a.jsx)(n.code,{children:"compilerOptions"}),". Set ",(0,a.jsx)(n.code,{children:"target"})," to ",(0,a.jsx)(n.code,{children:'"ES5"'})," and ",(0,a.jsx)(n.code,{children:"module"})," to ",(0,a.jsx)(n.code,{children:'"CommonJS"'})," (or completely remove the ",(0,a.jsx)(n.code,{children:"module"})," option)."]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"second option"})," is to add settings for ts-node:"]}),"\n",(0,a.jsxs)(n.p,{children:["You can keep ",(0,a.jsx)(n.code,{children:'"module": "ESNext"'})," for ",(0,a.jsx)(n.code,{children:"tsc"}),", and if you use webpack, or another build tool, set an override for ts-node. ",(0,a.jsx)(n.a,{href:"https://typestrong.org/ts-node/docs/imports/",children:"ts-node config"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"compilerOptions"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"module"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"ESNext"'}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"ts-node"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"compilerOptions"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n      ",(0,a.jsx)(n.span,{className:"token property",children:'"module"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"CommonJS"'}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.strong,{children:"third option"})," is to install the ",(0,a.jsx)(n.code,{children:"tsconfig-paths"})," package:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-bash",children:[(0,a.jsx)(n.span,{className:"token function",children:"npm"})," ",(0,a.jsx)(n.span,{className:"token function",children:"install"})," --save-dev tsconfig-paths"]})}),"\n",(0,a.jsx)(n.p,{children:"And create a separate TypeScript configuration specifically for your webpack configs:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"tsconfig-for-webpack-config.json"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"compilerOptions"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"module"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"commonjs"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"target"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"es5"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"esModuleInterop"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token boolean",children:"true"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsxs)(n.aside,{className:"tip",children:[(0,a.jsx)(n.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"ts-node"})," can resolve a ",(0,a.jsx)(n.code,{children:"tsconfig.json"})," file using the environment variable provided by ",(0,a.jsx)(n.code,{children:"tsconfig-paths"}),"."]})]}),"\n",(0,a.jsxs)(n.p,{children:["Then set the environment variable ",(0,a.jsx)(n.code,{children:"process.env.TS_NODE_PROJECT"})," provided by ",(0,a.jsx)(n.code,{children:"tsconfig-paths"})," like so:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"package.json"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"scripts"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n    ",(0,a.jsx)(n.span,{className:"token property",children:'"build"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"cross-env TS_NODE_PROJECT=\\"tsconfig-for-webpack-config.json\\" webpack"'}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:["We had been getting reports that ",(0,a.jsx)(n.code,{children:"TS_NODE_PROJECT"})," might not work with ",(0,a.jsx)(n.code,{children:'"TS_NODE_PROJECT" unrecognized command'})," error. Therefore running it with ",(0,a.jsx)(n.code,{children:"cross-env"})," seems to fix the issue, for more info ",(0,a.jsx)(n.a,{href:"https://github.com/webpack/webpack.js.org/issues/2733",children:"see this issue"}),"."]})]}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"coffeescript"}),"CoffeeScript",(0,a.jsx)(n.a,{href:"#coffeescript","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsxs)(n.p,{children:["Similarly, to use ",(0,a.jsx)(n.a,{href:"https://coffeescript.org/",children:"CoffeeScript"}),", you would first install the necessary dependencies:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-bash",children:[(0,a.jsx)(n.span,{className:"token function",children:"npm"})," ",(0,a.jsx)(n.span,{className:"token function",children:"install"})," --save-dev coffeescript"]})}),"\n",(0,a.jsx)(n.p,{children:"and then proceed to write your configuration:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.coffee"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"hljs language-coffeescript",children:"HtmlWebpackPlugin = require('html-webpack-plugin')\nwebpack = require('webpack')\npath = require('path')\n\nconfig =\n  mode: 'production'\n  entry: './path/to/my/entry/file.js'\n  output:\n    path: path.resolve(__dirname, 'dist')\n    filename: 'my-first-webpack.bundle.js'\n  module: rules: [ {\n    test: /\\.(js|jsx)$/\n    use: 'babel-loader'\n  } ]\n  plugins: [\n    new HtmlWebpackPlugin(template: './src/index.html')\n  ]\n\nmodule.exports = config\n"})}),"\n",(0,a.jsxs)(n.h2,{children:[(0,a.jsx)(n.span,{id:"babel-and-jsx"}),"Babel and JSX",(0,a.jsx)(n.a,{href:"#babel-and-jsx","aria-hidden":"true",tabIndex:"-1",children:(0,a.jsx)(n.span,{className:"header-link"})})]}),"\n",(0,a.jsx)(n.p,{children:"In the example below JSX (React JavaScript Markup) and Babel are used, to create a JSON configuration that webpack can understand."}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Courtesy of ",(0,a.jsx)(n.a,{href:"https://twitter.com/_developit",children:"Jason Miller"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"First, install the necessary dependencies:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-bash",children:[(0,a.jsx)(n.span,{className:"token function",children:"npm"})," ",(0,a.jsx)(n.span,{className:"token function",children:"install"})," --save-dev babel-register jsxobj babel-preset-es2015"]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:".babelrc"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{className:"hljs language-json",children:[(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token property",children:'"presets"'}),(0,a.jsx)(n.span,{className:"token operator",children:":"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token string",children:'"es2015"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"webpack.config.babel.js"})}),"\n","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"hljs language-jsx",children:'import jsxobj from "jsxobj";\n\n// example of an imported plugin\nconst CustomPlugin = (config) => ({\n  ...config,\n  name: "custom-plugin",\n});\n\nexport default (\n  <webpack target="web" watch mode="production">\n    <entry path="src/index.js" />\n    <resolve>\n      <alias\n        {...{\n          react: "preact-compat",\n          "react-dom": "preact-compat",\n        }}\n      />\n    </resolve>\n    <plugins>\n      <CustomPlugin foo="bar" />\n    </plugins>\n  </webpack>\n);\n'})}),"\n",(0,a.jsxs)(n.aside,{className:"warning",children:[(0,a.jsx)(n.h6,{className:"warning__prefix",children:"warning"}),(0,a.jsxs)(n.p,{children:["If you are using Babel elsewhere and have ",(0,a.jsx)(n.code,{children:"modules"})," set to ",(0,a.jsx)(n.code,{children:"false"}),", you will have to either maintain two separate ",(0,a.jsx)(n.code,{children:".babelrc"})," files or use ",(0,a.jsx)(n.code,{children:"const jsxobj = require('jsxobj');"})," and ",(0,a.jsx)(n.code,{children:"module.exports"})," instead of the new ",(0,a.jsx)(n.code,{children:"import"})," and ",(0,a.jsx)(n.code,{children:"export"})," syntax. This is because while Node does support many new ES6 features, they don't yet support ES6 module syntax."]})]})]})}function t(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}}}]);