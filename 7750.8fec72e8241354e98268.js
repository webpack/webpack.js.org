"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7750],{7750:function(e,a,t){t.r(a),t(7378);var n=t(2682);function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}const s=("StackBlitzPreview",e=>(console.warn("Component `%s` was not imported, exported, or provided by MDXProvider as global scope","StackBlitzPreview"),(0,n.kt)(n.kt.Fragment,null,e.children)));function p(e){let{components:a,...t}=e;return(0,n.kt)("wrapper",o({components:a},t),(0,n.kt)("h2",{id:"motivation"},"Motivation",(0,n.kt)("a",{href:"#motivation","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Multiple separate builds should form a single application. These separate builds should not have dependencies between each other, so they can be developed and deployed individually."),(0,n.kt)("p",null,"This is often known as Micro-Frontends, but is not limited to that."),(0,n.kt)(s,{example:"module-federation?terminal=start&terminal=",description:"Check out this live module federation example on StackBlitz.",mdxType:"StackBlitzPreview"}),(0,n.kt)("h2",{id:"low-level-concepts"},"Low-level concepts",(0,n.kt)("a",{href:"#low-level-concepts","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"We distinguish between local and remote modules. Local modules are normal modules which are part of the current build. Remote modules are modules that are not part of the current build and loaded from a so-called container at the runtime."),(0,n.kt)("p",null,"Loading remote modules is considered an asynchronous operation. When using a remote module these asynchronous operations will be placed in the next chunk loading operation(s) that is between the remote module and the entrypoint. It's not possible to use a remote module without a chunk loading operation."),(0,n.kt)("p",null,"A chunk loading operation is usually an ",(0,n.kt)("inlineCode",{parentName:"p"},"import()")," call, but older constructs like ",(0,n.kt)("inlineCode",{parentName:"p"},"require.ensure")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"require([...])")," are supported as well."),(0,n.kt)("p",null,"A container is created through a container entry, which exposes asynchronous access to the specific modules. The exposed access is separated into two steps:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"loading the module (asynchronous)"),(0,n.kt)("li",{parentName:"ol"},"evaluating the module (synchronous).")),(0,n.kt)("p",null,"Step 1 will be done during the chunk loading. Step 2 will be done during the module evaluation interleaved with other (local and remote) modules. This way, evaluation order is unaffected by converting a module from local to remote or the other way around."),(0,n.kt)("p",null,"It is possible to nest a container. Containers can use modules from other containers. Circular dependencies between containers are also possible."),(0,n.kt)("h2",{id:"high-level-concepts"},"High-level concepts",(0,n.kt)("a",{href:"#high-level-concepts","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Each build acts as a container and also consumes other builds as containers. This way each build is able to access any other exposed module by loading it from its container."),(0,n.kt)("p",null,"Shared modules are modules that are both overridable and provided as overrides to nested container. They usually point to the same module in each build, e.g. the same library."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"packageName")," option allows setting a package name to look for a ",(0,n.kt)("inlineCode",{parentName:"p"},"requiredVersion"),". It is automatically inferred for the module requests by default, set ",(0,n.kt)("inlineCode",{parentName:"p"},"requiredVersion")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," when automatic infer should be disabled."),(0,n.kt)("h2",{id:"building-blocks"},"Building blocks",(0,n.kt)("a",{href:"#building-blocks","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",{id:"containerplugin-low-level"},"ContainerPlugin (low level)",(0,n.kt)("a",{href:"#containerplugin-low-level","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"This plugin creates an additional container entry with the specified exposed modules."),(0,n.kt)("h3",{id:"containerreferenceplugin-low-level"},"ContainerReferencePlugin (low level)",(0,n.kt)("a",{href:"#containerreferenceplugin-low-level","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"This plugin adds specific references to containers as externals and allows to import remote modules from these containers. It also calls the ",(0,n.kt)("inlineCode",{parentName:"p"},"override")," API of these containers to provide overrides to them. Local overrides (via ",(0,n.kt)("inlineCode",{parentName:"p"},"__webpack_override__")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"override")," API when build is also a container) and specified overrides are provided to all referenced containers."),(0,n.kt)("h3",{id:"modulefederationplugin-high-level"},"ModuleFederationPlugin (high level)",(0,n.kt)("a",{href:"#modulefederationplugin-high-level","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"/plugins/module-federation-plugin",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"ModuleFederationPlugin"))," combines ",(0,n.kt)("inlineCode",{parentName:"p"},"ContainerPlugin")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"ContainerReferencePlugin"),"."),(0,n.kt)("h2",{id:"concept-goals"},"Concept goals",(0,n.kt)("a",{href:"#concept-goals","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"It should be possible to expose and use any module type that webpack supports."),(0,n.kt)("li",{parentName:"ul"},"Chunk loading should load everything needed in parallel (web: single round-trip to server)."),(0,n.kt)("li",{parentName:"ul"},"Control from consumer to container",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Overriding modules is a one-directional operation."),(0,n.kt)("li",{parentName:"ul"},"Sibling containers cannot override each other's modules."))),(0,n.kt)("li",{parentName:"ul"},"Concept should be environment-independent.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Usable in web, Node.js, etc."))),(0,n.kt)("li",{parentName:"ul"},"Relative and absolute request in shared:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Will always be provided, even if not used."),(0,n.kt)("li",{parentName:"ul"},"Will resolve relative to ",(0,n.kt)("inlineCode",{parentName:"li"},"config.context"),"."),(0,n.kt)("li",{parentName:"ul"},"Does not use a ",(0,n.kt)("inlineCode",{parentName:"li"},"requiredVersion")," by default."))),(0,n.kt)("li",{parentName:"ul"},"Module requests in shared:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Are only provided when they are used."),(0,n.kt)("li",{parentName:"ul"},"Will match all used equal module requests in your build."),(0,n.kt)("li",{parentName:"ul"},"Will provide all matching modules."),(0,n.kt)("li",{parentName:"ul"},"Will extract ",(0,n.kt)("inlineCode",{parentName:"li"},"requiredVersion")," from package.json at this position in the graph."),(0,n.kt)("li",{parentName:"ul"},"Could provide and consume multiple different versions when you have nested node_modules."))),(0,n.kt)("li",{parentName:"ul"},"Module requests with trailing ",(0,n.kt)("inlineCode",{parentName:"li"},"/")," in shared will match all module requests with this prefix.")),(0,n.kt)("h2",{id:"use-cases"},"Use cases",(0,n.kt)("a",{href:"#use-cases","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",{id:"separate-builds-per-page"},"Separate builds per page",(0,n.kt)("a",{href:"#separate-builds-per-page","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Each page of a Single Page Application is exposed from container build in a separate build. The application shell is also a separate build referencing all pages as remote modules. This way each page can be separately deployed. The application shell is deployed when routes are updated or new routes are added. The application shell defines commonly used libraries as shared modules to avoid duplication of them in the page builds."),(0,n.kt)("h3",{id:"components-library-as-container"},"Components library as container",(0,n.kt)("a",{href:"#components-library-as-container","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Many applications share a common components library which could be built as a container with each component exposed. Each application consumes components from the components library container. Changes to the components library can be separately deployed without the need to re-deploy all applications. The application automatically uses the up-to-date version of the components library."),(0,n.kt)("h2",{id:"dynamic-remote-containers"},"Dynamic Remote Containers",(0,n.kt)("a",{href:"#dynamic-remote-containers","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The container interface supports ",(0,n.kt)("inlineCode",{parentName:"p"},"get")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"init")," methods.\n",(0,n.kt)("inlineCode",{parentName:"p"},"init")," is an ",(0,n.kt)("inlineCode",{parentName:"p"},"async")," compatible method that is called with one argument: the shared scope object. This object is used as a shared scope in the remote container and is filled with the provided modules from a host.\nIt can be leveraged to connect remote containers to a host container dynamically at runtime."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"init.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"async")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Initializes the shared scope. Fills it with known provided modules from this build and all remotes"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"__webpack_init_sharing__"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'default'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," container ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"someContainer",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// or get the container somewhere else"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Initialize the container, it may provide shared modules"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," container",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"init"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__webpack_share_scopes__",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"default",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," module ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," container",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"get"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./module'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"The container tries to provide shared modules, but if the shared module has already been used, a warning and the provided shared module will be ignored. The container might still use it as a fallback."),(0,n.kt)("p",null,"This way you could dynamically load an A/B test which provides a different version of a shared module."),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"Ensure you have loaded the container before attempting to dynamically connect a remote container.")),(0,n.kt)("p",null,"Example:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"init.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"loadComponent"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"scope",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," module"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"async")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Initializes the shared scope. Fills it with known provided modules from this build and all remotes"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"__webpack_init_sharing__"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'default'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," container ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"scope",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// or get the container somewhere else"),"\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Initialize the container, it may provide shared modules"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," container",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"init"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"__webpack_share_scopes__",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"default",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," factory ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," window",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"scope",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"get"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," Module ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"factory"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return")," Module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"loadComponent"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'abtests'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'test123'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("a",{href:"https://github.com/module-federation/module-federation-examples/tree/master/advanced-api/dynamic-remotes",parentName:"p"},"See full implementation")),(0,n.kt)("h2",{id:"promise-based-dynamic-remotes"},"Promise Based Dynamic Remotes",(0,n.kt)("a",{href:"#promise-based-dynamic-remotes","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Generally, remotes are configured using URL's like in this example:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"ModuleFederationPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'host'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      remotes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        app1",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'app1@http://localhost:3001/remoteEntry.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"But you can also pass in a promise to this remote, which will be resolved at runtime. You should resolve this promise with any module that fits the ",(0,n.kt)("inlineCode",{parentName:"p"},"get/init")," interface described above. For example, if you wanted to pass in which version of a federated module you should use, via a query parameter you could do something like the following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"ModuleFederationPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'host'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      remotes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        app1",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token template-string",parentName:"code"},(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`"),(0,n.kt)("span",{className:"token string",parentName:"span"},"promise new Promise(resolve => {\n      const urlParams = new URLSearchParams(window.location.search)\n      const version = urlParams.get('app1VersionParam')\n      // This part depends on how you plan on hosting and versioning your federated modules\n      const remoteUrlWithVersion = 'http://localhost:3001/' + version + '/remoteEntry.js'\n      const script = document.createElement('script')\n      script.src = remoteUrlWithVersion\n      script.onload = () => {\n        // the injected script has loaded and is available on window\n        // we can now resolve this Promise\n        const proxy = {\n          get: (request) => window.app1.get(request),\n          init: (arg) => {\n            try {\n              return window.app1.init(arg)\n            } catch(e) {\n              console.log('remote container already initialized')\n            }\n          }\n        }\n        resolve(proxy)\n      }\n      // inject this script with the src set to the versioned remoteEntry.js\n      document.head.appendChild(script);\n    })\n    "),(0,n.kt)("span",{className:"token template-punctuation string",parentName:"span"},"`")),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Note that when using this API you ",(0,n.kt)("em",{parentName:"p"},"have")," to resolve an object which contains the get/init API."),(0,n.kt)("h2",{id:"dynamic-public-path"},"Dynamic Public Path",(0,n.kt)("a",{href:"#dynamic-public-path","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",{id:"offer-a-host-api-to-set-the-publicpath"},"Offer a host API to set the publicPath",(0,n.kt)("a",{href:"#offer-a-host-api-to-set-the-publicpath","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"One could allow the host to set the publicPath of a remote module at runtime by exposing a method from that remote module."),(0,n.kt)("p",null,"This approach is particularly helpful when you mount independently deployed child applications on the sub path of the host domain."),(0,n.kt)("p",null,"Scenario:"),(0,n.kt)("p",null,"You have a host app hosted on ",(0,n.kt)("inlineCode",{parentName:"p"},"https://my-host.com/app/*")," and a child app hosted on ",(0,n.kt)("inlineCode",{parentName:"p"},"https://foo-app.com"),". The child app is also mounted on the host domain, hence,\n",(0,n.kt)("inlineCode",{parentName:"p"},"https://foo-app.com")," is expected to be accessible via ",(0,n.kt)("inlineCode",{parentName:"p"},"https://my-host.com/app/foo-app")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"https://my-host.com/app/foo-app/*")," requests are redirected to ",(0,n.kt)("inlineCode",{parentName:"p"},"https://foo-app.com/*")," via a proxy."),(0,n.kt)("p",null,"Example:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js (remote)")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  entry",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    remote",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./public-path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"ModuleFederationPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'remote'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// this name needs to match with the entry name"),"\n      exposes",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'./public-path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"public-path.js (remote)")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"function")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"set"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"value"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  __webpack_public_path__ ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," value",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"src/index.js (host)")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-ts",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," publicPath ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"await")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'remote/public-path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\npublicPath",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"set"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'/your-public-path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token comment",parentName:"code"},"//boostrap app  e.g. import('./boostrap.js')"))),(0,n.kt)("h3",{id:"infer-publicpath-from-script"},"Infer publicPath from script",(0,n.kt)("a",{href:"#infer-publicpath-from-script","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"One could infer the publicPath from the script tag from ",(0,n.kt)("inlineCode",{parentName:"p"},"document.currentScript.src")," and set it with the ",(0,n.kt)("a",{href:"/api/module-variables/#__webpack_public_path__-webpack-specific",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"__webpack_public_path__"))," module variable at runtime."),(0,n.kt)("p",null,"Example:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js (remote)")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  entry",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    remote",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./setup-public-path'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"ModuleFederationPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      name",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'remote'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// this name needs to match with the entry name"),"\n      ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"setup-public-path.js (remote)")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token comment",parentName:"code"},"// derive the publicPath with your own logic and set it with the __webpack_public_path__ API"),"\n__webpack_public_path__ ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"currentScript",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"src ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'/../'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"There is also an ",(0,n.kt)("inlineCode",{parentName:"p"},"'auto'")," value available to ",(0,n.kt)("a",{href:"/configuration/output/#outputpublicpath",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"output.publicPath"))," which automatically determines the publicPath for you.")),(0,n.kt)("h2",{id:"troubleshooting"},"Troubleshooting",(0,n.kt)("a",{href:"#troubleshooting","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("h3",{id:"uncaught-error-shared-module-is-not-available-for-eager-consumption"},(0,n.kt)("inlineCode",{parentName:"h3"},"Uncaught Error: Shared module is not available for eager consumption"),(0,n.kt)("a",{href:"#uncaught-error-shared-module-is-not-available-for-eager-consumption","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The application is eagerly executing an application that is operating as an omnidirectional host. There are options to choose from:"),(0,n.kt)("p",null,"You can set the dependency as eager inside the advanced API of Module Federation, which doesn’t put the modules in an async chunk, but provides them synchronously. This allows us to use these shared modules in the initial chunk. But be careful as all provided and fallback modules will always be downloaded. It’s recommended to provide it only at one point of your application, e.g. the shell."),(0,n.kt)("p",null,"We strongly recommend using an asynchronous boundary. It will split out the initialization code of a larger chunk to avoid any additional round trips and improve performance in general."),(0,n.kt)("p",null,"For example, your entry looked like this:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," React ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'react'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," ReactDOM ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'react-dom'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," App ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./App'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\nReactDOM",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"render"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token operator",parentName:"code"},"<"),"App ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,n.kt)("span",{className:"token operator",parentName:"code"},">"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," document",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"getElementById"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'root'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Let's create ",(0,n.kt)("inlineCode",{parentName:"p"},"bootstrap.js")," file and move contents of the entry into it, and import that bootstrap into the entry:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"index.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-diff",parentName:"pre"},(0,n.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,n.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import('./bootstrap');\n")),(0,n.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,n.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import React from 'react';\n"),(0,n.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import ReactDOM from 'react-dom';\n"),(0,n.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import App from './App';\n"),(0,n.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,n.kt)("span",{className:"token line",parentName:"span"}," ReactDOM.render(<App />, document.getElementById('root'));")))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"bootstrap.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-diff",parentName:"pre"},(0,n.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,n.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import React from 'react';\n"),(0,n.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import ReactDOM from 'react-dom';\n"),(0,n.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,n.kt)("span",{className:"token line",parentName:"span"}," import App from './App';\n"),(0,n.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,n.kt)("span",{className:"token line",parentName:"span"}," ReactDOM.render(<App />, document.getElementById('root'));")))),(0,n.kt)("p",null,"This method works but can have limitations or drawbacks."),(0,n.kt)("p",null,"Setting ",(0,n.kt)("inlineCode",{parentName:"p"},"eager: true")," for dependency via the ",(0,n.kt)("inlineCode",{parentName:"p"},"ModuleFederationPlugin")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"ModuleFederationPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  shared",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"..."),"deps",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    react",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      eager",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h3",{id:"uncaught-error-module-button-does-not-exist-in-container"},(0,n.kt)("inlineCode",{parentName:"h3"},'Uncaught Error: Module "./Button" does not exist in container.'),(0,n.kt)("a",{href:"#uncaught-error-module-button-does-not-exist-in-container","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"It likely does not say ",(0,n.kt)("inlineCode",{parentName:"p"},'"./Button"'),", but the error message will look similar. This issue is typically seen if you are upgrading from webpack beta.16 to webpack beta.17."),(0,n.kt)("p",null,"Within ModuleFederationPlugin. Change the exposes from:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-diff",parentName:"pre"},"new ModuleFederationPlugin({\n",(0,n.kt)("span",{className:"token unchanged",parentName:"code"},(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"}," exposes: {\n")),(0,n.kt)("span",{className:"token deleted-sign deleted",parentName:"code"},(0,n.kt)("span",{className:"token prefix deleted",parentName:"span"},"-"),(0,n.kt)("span",{className:"token line",parentName:"span"},"   'Button': './src/Button'\n")),(0,n.kt)("span",{className:"token inserted-sign inserted",parentName:"code"},(0,n.kt)("span",{className:"token prefix inserted",parentName:"span"},"+"),(0,n.kt)("span",{className:"token line",parentName:"span"},"   './Button':'./src/Button'\n")),(0,n.kt)("span",{className:"token unchanged",parentName:"code"},(0,n.kt)("span",{className:"token prefix unchanged",parentName:"span"}," "),(0,n.kt)("span",{className:"token line",parentName:"span"}," }\n")),"});")),(0,n.kt)("h3",{id:"uncaught-typeerror-fn-is-not-a-function"},(0,n.kt)("inlineCode",{parentName:"h3"},"Uncaught TypeError: fn is not a function"),(0,n.kt)("a",{href:"#uncaught-typeerror-fn-is-not-a-function","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"You are likely missing the remote container, make sure it's added.\nIf you have the container loaded for the remote you are trying to consume, but still see this error, add the host container's remote container file to the HTML as well."),(0,n.kt)("h3",{id:"collision-between-modules-from-different-remotes"},"Collision between modules from different remotes",(0,n.kt)("a",{href:"#collision-between-modules-from-different-remotes","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"If you're going to load multiple modules from different remotes, it's advised to set the ",(0,n.kt)("a",{href:"/configuration/output/#outputuniquename",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"output.uniqueName"))," option for your remote builds to avoid collisions between multiple webpack runtimes."))}p.isMDXComponent=!0,a.default=p}}]);