"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7756],{7756:function(e,a,n){n.r(a),n(3696);var t=n(1445);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s.apply(null,arguments)}function o(e){let{components:a,...n}=e;return(0,t.yg)("wrapper",s({components:a},n),(0,t.yg)("div",{align:"center"}),(0,t.yg)("p",null,(0,t.yg)("a",{href:"https://npmjs.com/package/compression-webpack-plugin",parentName:"p"},(0,t.yg)("img",{src:"https://img.shields.io/npm/v/compression-webpack-plugin.svg",alt:"npm",parentName:"a"})),"\n",(0,t.yg)("a",{href:"https://nodejs.org",parentName:"p"},(0,t.yg)("img",{src:"https://img.shields.io/node/v/compression-webpack-plugin.svg",alt:"node",parentName:"a"})),"\n",(0,t.yg)("a",{href:"https://github.com/webpack-contrib/compression-webpack-plugin/actions",parentName:"p"},(0,t.yg)("img",{src:"https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg",alt:"tests",parentName:"a"})),"\n",(0,t.yg)("a",{href:"https://codecov.io/gh/webpack-contrib/compression-webpack-plugin",parentName:"p"},(0,t.yg)("img",{src:"https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg",alt:"cover",parentName:"a"})),"\n",(0,t.yg)("a",{href:"https://github.com/webpack/webpack/discussions",parentName:"p"},(0,t.yg)("img",{src:"https://img.shields.io/github/discussions/webpack/webpack",alt:"discussion",parentName:"a"})),"\n",(0,t.yg)("a",{href:"https://packagephobia.now.sh/result?p=compression-webpack-plugin",parentName:"p"},(0,t.yg)("img",{src:"https://packagephobia.now.sh/badge?p=compression-webpack-plugin",alt:"size",parentName:"a"}))),(0,t.yg)("p",null,"Prepare compressed versions of assets to serve them with Content-Encoding."),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"getting-started",parentName:"h2"}),"Getting Started",(0,t.yg)("a",{href:"#getting-started","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"To begin, you'll need to install ",(0,t.yg)("inlineCode",{parentName:"p"},"compression-webpack-plugin"),":"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-console",parentName:"pre"},"npm install compression-webpack-plugin --save-dev\n")),(0,t.yg)("p",null,"or"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-console",parentName:"pre"},"yarn add -D compression-webpack-plugin\n")),(0,t.yg)("p",null,"or"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-console",parentName:"pre"},"pnpm add -D compression-webpack-plugin\n")),(0,t.yg)("p",null,"Then add the plugin to your ",(0,t.yg)("inlineCode",{parentName:"p"},"webpack")," config. For example:"),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"const")," CompressionPlugin ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token function",parentName:"code"},"require"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},'"compression-webpack-plugin"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"And run ",(0,t.yg)("inlineCode",{parentName:"p"},"webpack")," via your preferred method."),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"options",parentName:"h2"}),"Options",(0,t.yg)("a",{href:"#options","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#test",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"test")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#include",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"include")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#exclude",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"exclude")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#algorithm",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"algorithm")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#compressionoptions",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"compressionOptions")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#threshold",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"threshold")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#minratio",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"minRatio")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#filename",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"filename")))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{href:"#deleteoriginalassets",parentName:"strong"},(0,t.yg)("inlineCode",{parentName:"a"},"deleteOriginalAssets"))))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"test",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"test"),(0,t.yg)("a",{href:"#test","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"test")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," RegExp ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"Array"),(0,t.yg)("span",{className:"token operator",parentName:"code"},"<"),(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," RegExp",(0,t.yg)("span",{className:"token operator",parentName:"code"},">"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"undefined")),(0,t.yg)("p",null,"Include all assets that pass test assertion."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      test",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\.js(\\?.*)?$/i"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"include",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"include"),(0,t.yg)("a",{href:"#include","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"include")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," RegExp ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"Array"),(0,t.yg)("span",{className:"token operator",parentName:"code"},"<"),(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," RegExp",(0,t.yg)("span",{className:"token operator",parentName:"code"},">"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"undefined")),(0,t.yg)("p",null,"Include all assets matching any of these conditions."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      include",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\/includes/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"exclude",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"exclude"),(0,t.yg)("a",{href:"#exclude","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"exclude")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," RegExp ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"Array"),(0,t.yg)("span",{className:"token operator",parentName:"code"},"<"),(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," RegExp",(0,t.yg)("span",{className:"token operator",parentName:"code"},">"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"undefined")),(0,t.yg)("p",null,"Exclude all assets matching any of these conditions."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      exclude",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\/excludes/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"algorithm",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"algorithm"),(0,t.yg)("a",{href:"#algorithm","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"algorithm")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"="),"\n  ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),"\n  ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"\n      input",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," Buffer",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      options",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," CompressionOptions",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token function-variable function",parentName:"code"},"callback"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"\n        error",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," Error ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"null")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"undefined"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n        result",(0,t.yg)("span",{className:"token operator",parentName:"code"},":"),"\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),"\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ArrayBuffer\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," SharedArrayBuffer\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," Uint8Array\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"readonly")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),"\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,t.yg)("span",{className:"token function",parentName:"code"},"valueOf"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ArrayBuffer ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," SharedArrayBuffer",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),"\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,t.yg)("span",{className:"token function",parentName:"code"},"valueOf"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," Uint8Array ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"readonly")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),"\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,t.yg)("span",{className:"token function",parentName:"code"},"valueOf"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),"\n          ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n              ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"Symbol",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"toPrimitive",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"hint",(0,t.yg)("span",{className:"token operator",parentName:"code"},":"),(0,t.yg)("span",{className:"token operator",parentName:"code"},"%"),(0,t.yg)("span",{className:"token number",parentName:"code"},"20"),(0,t.yg)("span",{className:"token operator",parentName:"code"},"%"),(0,t.yg)("span",{className:"token number",parentName:"code"},"22"),(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),(0,t.yg)("span",{className:"token operator",parentName:"code"},"%"),(0,t.yg)("span",{className:"token number",parentName:"code"},"22"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n            ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"void"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"any"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"gzip")),(0,t.yg)("p",null,"The compression algorithm/function."),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},"[!NOTE]"),(0,t.yg)("p",{parentName:"blockquote"},"If you use custom function for the ",(0,t.yg)("inlineCode",{parentName:"p"},"algorithm")," option, the default value of the ",(0,t.yg)("inlineCode",{parentName:"p"},"compressionOptions")," option is ",(0,t.yg)("inlineCode",{parentName:"p"},"{}"),".")),(0,t.yg)("h4",null,(0,t.yg)("span",{id:"string",parentName:"h4"}),(0,t.yg)("inlineCode",{parentName:"h4"},"string"),(0,t.yg)("a",{href:"#string","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"The algorithm is taken from ",(0,t.yg)("a",{href:"https://nodejs.org/api/zlib.html",parentName:"p"},"zlib"),"."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      algorithm",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"gzip"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h4",null,(0,t.yg)("span",{id:"function",parentName:"h4"}),(0,t.yg)("inlineCode",{parentName:"h4"},"function"),(0,t.yg)("a",{href:"#function","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Allow to specify a custom compression function."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      ",(0,t.yg)("span",{className:"token function",parentName:"code"},"algorithm"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"input",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," compressionOptions",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," callback"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token function",parentName:"code"},"compressionFunction"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"input",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," compressionOptions",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," callback",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"compressionoptions",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"compressionOptions"),(0,t.yg)("a",{href:"#compressionoptions","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"compressionOptions")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  flush",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  finishFlush",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  chunkSize",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  windowBits",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  level",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  memLevel",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  strategy",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  dictionary",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," Buffer ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," TypedArray ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," DataView ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ArrayBuffer",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  info",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"boolean"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n  maxOutputLength",(0,t.yg)("span",{className:"token operator",parentName:"code"},"?"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"{ level: 9 }")),(0,t.yg)("p",null,"Compression options for ",(0,t.yg)("inlineCode",{parentName:"p"},"algorithm"),"."),(0,t.yg)("p",null,"You can find all options here ",(0,t.yg)("a",{href:"https://nodejs.org/api/zlib.html#zlib_class_options",parentName:"p"},"zlib"),"."),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},"[!NOTE]"),(0,t.yg)("p",{parentName:"blockquote"},"If you use custom function for the ",(0,t.yg)("inlineCode",{parentName:"p"},"algorithm")," option, the default value is ",(0,t.yg)("inlineCode",{parentName:"p"},"{}"),".")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      compressionOptions",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{")," level",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"1")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"threshold",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"threshold"),(0,t.yg)("a",{href:"#threshold","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"threshold")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"0")),(0,t.yg)("p",null,"Only assets bigger than this size are processed. In bytes."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      threshold",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"8192"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"minratio",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"minRatio"),(0,t.yg)("a",{href:"#minratio","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"minRatio")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"number"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"0.8")),(0,t.yg)("p",null,"Only assets that compress better than this ratio are processed (",(0,t.yg)("inlineCode",{parentName:"p"},"minRatio = Compressed Size / Original Size"),").\nExample: you have ",(0,t.yg)("inlineCode",{parentName:"p"},"image.png")," file with 1024b size, compressed version of file has 768b size, so ",(0,t.yg)("inlineCode",{parentName:"p"},"minRatio")," equal ",(0,t.yg)("inlineCode",{parentName:"p"},"0.75"),".\nIn other words assets will be processed when the ",(0,t.yg)("inlineCode",{parentName:"p"},"Compressed Size / Original Size")," value less ",(0,t.yg)("inlineCode",{parentName:"p"},"minRatio")," value."),(0,t.yg)("p",null,"You can use ",(0,t.yg)("inlineCode",{parentName:"p"},"1")," value to process assets that are smaller than the original."),(0,t.yg)("p",null,"Use a value of ",(0,t.yg)("inlineCode",{parentName:"p"},"Infinity")," to process all assets even if they are larger than the original size or their original size is ",(0,t.yg)("inlineCode",{parentName:"p"},"0")," bytes (useful when you are pre-zipping all assets for AWS)."),(0,t.yg)("p",null,"Use a value of ",(0,t.yg)("inlineCode",{parentName:"p"},"Number.MAX_SAFE_INTEGER")," to process all assets even if they are larger than the original size, excluding assets with their original size is ",(0,t.yg)("inlineCode",{parentName:"p"},"0")," bytes."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// Compress all assets, including files with `0` bytes size"),"\n      ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// minRatio: Infinity"),"\n\n      ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// Compress all assets, excluding files with `0` bytes size"),"\n      ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// minRatio: Number.MAX_SAFE_INTEGER"),"\n\n      minRatio",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"0.8"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"filename",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"filename"),(0,t.yg)("a",{href:"#filename","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"filename")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"pathdata",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," PathData",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},'"[path][base].gz"')),(0,t.yg)("p",null,"The target asset filename."),(0,t.yg)("h4",null,(0,t.yg)("span",{id:"string-1",parentName:"h4"}),(0,t.yg)("inlineCode",{parentName:"h4"},"string"),(0,t.yg)("a",{href:"#string-1","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"For example we have ",(0,t.yg)("inlineCode",{parentName:"p"},"assets/images/image.png?foo=bar#hash"),":"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[path]")," is replaced with the directories to the original asset, included trailing ",(0,t.yg)("inlineCode",{parentName:"p"},"/")," (",(0,t.yg)("inlineCode",{parentName:"p"},"assets/images/"),")."),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[file]")," is replaced with the path of original asset (",(0,t.yg)("inlineCode",{parentName:"p"},"assets/images/image.png"),")."),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[base]")," is replaced with the base (",(0,t.yg)("inlineCode",{parentName:"p"},"[name]")," + ",(0,t.yg)("inlineCode",{parentName:"p"},"[ext]"),") of the original asset (",(0,t.yg)("inlineCode",{parentName:"p"},"image.png"),")."),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[name]")," is replaced with the name of the original asset (",(0,t.yg)("inlineCode",{parentName:"p"},"image"),")."),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[ext]")," is replaced with the extension of the original asset, included ",(0,t.yg)("inlineCode",{parentName:"p"},".")," (",(0,t.yg)("inlineCode",{parentName:"p"},".png"),")."),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[query]")," is replaced with the query of the original asset, included ",(0,t.yg)("inlineCode",{parentName:"p"},"?")," (",(0,t.yg)("inlineCode",{parentName:"p"},"?foo=bar"),")."),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"[fragment]")," is replaced with the fragment (in the concept of URL it is called ",(0,t.yg)("inlineCode",{parentName:"p"},"hash"),") of the original asset (",(0,t.yg)("inlineCode",{parentName:"p"},"#hash"),")."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      filename",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"[path][base].gz"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h4",null,(0,t.yg)("span",{id:"function-1",parentName:"h4"}),(0,t.yg)("inlineCode",{parentName:"h4"},"function"),(0,t.yg)("a",{href:"#function-1","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      ",(0,t.yg)("span",{className:"token function",parentName:"code"},"filename"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"pathData"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// The `pathData` argument contains all placeholders - `path`/`name`/`ext`/etc"),"\n        ",(0,t.yg)("span",{className:"token comment",parentName:"code"},"// Available properties described above, for the `String` notation"),"\n        ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\.svg$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"test"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"pathData",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"filename",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"assets/svg/[path][base].gz"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n        ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n        ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"assets/js/[path][base].gz"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"deleteoriginalassets",parentName:"h3"}),(0,t.yg)("inlineCode",{parentName:"h3"},"deleteOriginalAssets"),(0,t.yg)("a",{href:"#deleteoriginalassets","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Type:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-ts",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"type")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"deleteOriginalAssets")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"="),"\n  ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"boolean"),"\n  ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"keep-source-map"'),"\n  ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"|")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"name",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"string"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token builtin",parentName:"code"},"boolean"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Default: ",(0,t.yg)("inlineCode",{parentName:"p"},"false")),(0,t.yg)("p",null,"Whether to delete the original assets or not."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      deleteOriginalAssets",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"To exclude sourcemaps from compression:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      exclude",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/.map$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      deleteOriginalAssets",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"keep-source-map"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"Using a custom function:"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      exclude",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/.map$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token function-variable function",parentName:"code"},"deleteOriginalAssets"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"name"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\.js$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"test"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"name",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n        ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n        ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," ",(0,t.yg)("span",{className:"token boolean",parentName:"code"},"true"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"examples",parentName:"h2"}),"Examples",(0,t.yg)("a",{href:"#examples","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"using-zopfli",parentName:"h3"}),"Using Zopfli",(0,t.yg)("a",{href:"#using-zopfli","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Prepare compressed versions of assets using ",(0,t.yg)("inlineCode",{parentName:"p"},"zopfli")," library."),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},"[!NOTE]"),(0,t.yg)("p",{parentName:"blockquote"},(0,t.yg)("inlineCode",{parentName:"p"},"@gfx/zopfli")," require minimum ",(0,t.yg)("inlineCode",{parentName:"p"},"8")," version of ",(0,t.yg)("inlineCode",{parentName:"p"},"node"),".")),(0,t.yg)("p",null,"To begin, you'll need to install ",(0,t.yg)("inlineCode",{parentName:"p"},"@gfx/zopfli"),":"),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-console",parentName:"pre"},"$ npm install @gfx/zopfli --save-dev\n")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"const")," zopfli ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token function",parentName:"code"},"require"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},'"@gfx/zopfli"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      compressionOptions",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        numiterations",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"15"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token function",parentName:"code"},"algorithm"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token parameter",parentName:"code"},"input",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," compressionOptions",(0,t.yg)("span",{className:"token punctuation",parentName:"span"},",")," callback"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"return")," zopfli",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token function",parentName:"code"},"gzip"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),"input",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," compressionOptions",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},",")," callback",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"using-brotli",parentName:"h3"}),"Using Brotli",(0,t.yg)("a",{href:"#using-brotli","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("a",{href:"https://en.wikipedia.org/wiki/Brotli",parentName:"p"},"Brotli")," is a compression algorithm originally developed by Google, and offers compression superior to gzip."),(0,t.yg)("p",null,"Node 10.16.0 and later has ",(0,t.yg)("a",{href:"https://nodejs.org/api/zlib.html#zlib_zlib_createbrotlicompress_options",parentName:"p"},"native support")," for Brotli compression in its zlib module."),(0,t.yg)("p",null,"We can take advantage of this built-in support for Brotli in Node 10.16.0 and later by just passing in the appropriate ",(0,t.yg)("inlineCode",{parentName:"p"},"algorithm")," to the CompressionPlugin:"),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"const")," zlib ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token function",parentName:"code"},"require"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},'"zlib"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      filename",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"[path][base].br"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      algorithm",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"brotliCompress"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      test",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\.(js|css|html|svg)$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      compressionOptions",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        params",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"zlib",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"constants",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token constant",parentName:"code"},"BROTLI_PARAM_QUALITY"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"11"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      threshold",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"10240"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      minRatio",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"0.8"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      deleteOriginalAssets",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token boolean",parentName:"code"},"false"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("p",null,"[!NOTE] Brotlis ",(0,t.yg)("inlineCode",{parentName:"p"},"BROTLI_PARAM_QUALITY")," option is functionally equivalent to zlibs ",(0,t.yg)("inlineCode",{parentName:"p"},"level")," option.\nYou can find all Brotlis options in ",(0,t.yg)("a",{href:"https://nodejs.org/api/zlib.html#zlib_class_brotlioptions",parentName:"p"},"the relevant part of the zlib module documentation"),"."),(0,t.yg)("h3",null,(0,t.yg)("span",{id:"multiple-compressed-versions-of-assets-for-different-algorithm",parentName:"h3"}),"Multiple compressed versions of assets for different algorithm",(0,t.yg)("a",{href:"#multiple-compressed-versions-of-assets-for-different-algorithm","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"webpack.config.js")),(0,t.yg)("pre",null,(0,t.yg)("code",{className:"hljs language-js",parentName:"pre"},(0,t.yg)("span",{className:"token keyword",parentName:"code"},"const")," zlib ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token function",parentName:"code"},"require"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token string",parentName:"code"},'"zlib"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.yg)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  plugins",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      filename",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"[path][base].gz"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      algorithm",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"gzip"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      test",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\.js$|\\.css$|\\.html$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      threshold",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"10240"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      minRatio",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"0.8"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,t.yg)("span",{className:"token class-name",parentName:"code"},"CompressionPlugin"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      filename",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"[path][base].br"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      algorithm",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token string",parentName:"code"},'"brotliCompress"'),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      test",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token regex",parentName:"code"},"/\\.(js|css|html|svg)$/"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      compressionOptions",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n        params",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"{"),"\n          ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"["),"zlib",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),"constants",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.yg)("span",{className:"token constant",parentName:"code"},"BROTLI_PARAM_QUALITY"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"11"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n        ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      threshold",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"10240"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n      minRatio",(0,t.yg)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.yg)("span",{className:"token number",parentName:"code"},"0.8"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"]"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.yg)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.yg)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"contributing",parentName:"h2"}),"Contributing",(0,t.yg)("a",{href:"#contributing","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,"Please take a moment to read our contributing guidelines if you haven't yet done so."),(0,t.yg)("p",null,(0,t.yg)("a",{href:"https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/.github/CONTRIBUTING.md",parentName:"p"},"CONTRIBUTING")),(0,t.yg)("h2",null,(0,t.yg)("span",{id:"license",parentName:"h2"}),"License",(0,t.yg)("a",{href:"#license","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.yg)("span",{className:"header-link",parentName:"a"}))),(0,t.yg)("p",null,(0,t.yg)("a",{href:"https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/LICENSE",parentName:"p"},"MIT")))}o.isMDXComponent=!0,a.default=o}}]);