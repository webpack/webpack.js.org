(self.webpackChunk=self.webpackChunk||[]).push([[8038],{8038:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}}),t(7378);var n=t(5318);function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){p(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var r=("Badge",function(e){return console.warn("Component Badge was not imported, exported, or provided by MDXProvider as global scope"),(0,n.kt)("div",o({},e))}),c={};function m(e){var a=e.components,t=function(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,["components"]);return(0,n.kt)("wrapper",o(o(o({},c),t),{},{components:a,mdxType:"MDXLayout"}),(0,n.kt)("hr",null),(0,n.kt)("p",null,"title: Externals\nsort: 15\ncontributors:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"sokra"),(0,n.kt)("li",{parentName:"ul"},"skipjack"),(0,n.kt)("li",{parentName:"ul"},"pksjce"),(0,n.kt)("li",{parentName:"ul"},"fadysamirsadek"),(0,n.kt)("li",{parentName:"ul"},"byzyk"),(0,n.kt)("li",{parentName:"ul"},"zefman"),(0,n.kt)("li",{parentName:"ul"},"Mistyyyy"),(0,n.kt)("li",{parentName:"ul"},"jamesgeorge007"),(0,n.kt)("li",{parentName:"ul"},"tanhauhau"),(0,n.kt)("li",{parentName:"ul"},"snitin315"),(0,n.kt)("li",{parentName:"ul"},"beejunk"),(0,n.kt)("li",{parentName:"ul"},"EugeneHlushko"),(0,n.kt)("li",{parentName:"ul"},"chenxsan"),(0,n.kt)("li",{parentName:"ul"},"pranshuchittora"),(0,n.kt)("li",{parentName:"ul"},"kinetifex"),(0,n.kt)("li",{parentName:"ul"},"anshumanv")),(0,n.kt)("hr",null),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"externals")," configuration option provides a way of excluding dependencies from the output bundles. Instead, the created bundle relies on that dependency to be present in the consumer's (any end-user application) environment. This feature is typically most useful to ",(0,n.kt)("strong",{parentName:"p"},"library developers"),", however there are a variety of applications for it."),(0,n.kt)("h2",o({},{id:"externals"}),(0,n.kt)("inlineCode",{parentName:"h2"},"externals"),(0,n.kt)("a",o({parentName:"h2"},{href:"#externals","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"string")," ",(0,n.kt)("inlineCode",{parentName:"p"},"[string]")," ",(0,n.kt)("inlineCode",{parentName:"p"},"object")," ",(0,n.kt)("inlineCode",{parentName:"p"},"function"),"  ",(0,n.kt)("inlineCode",{parentName:"p"},"RegExp")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Prevent bundling")," of certain ",(0,n.kt)("inlineCode",{parentName:"p"},"import"),"ed packages and instead retrieve these ",(0,n.kt)("em",{parentName:"p"},"external dependencies")," at runtime."),(0,n.kt)("p",null,"For example, to include ",(0,n.kt)("a",o({parentName:"p"},{href:"https://jquery.com/"}),"jQuery")," from a CDN instead of bundling it:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"index.html")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-html"}),(0,n.kt)("span",o({parentName:"code"},{className:"token tag"}),(0,n.kt)("span",o({parentName:"span"},{className:"token tag"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),"script"),"\n  ",(0,n.kt)("span",o({parentName:"span"},{className:"token attr-name"}),"src"),(0,n.kt)("span",o({parentName:"span"},{className:"token attr-value"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation attr-equals"}),"="),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),'"'),"https://code.jquery.com/jquery-3.1.0.js",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),'"')),"\n  ",(0,n.kt)("span",o({parentName:"span"},{className:"token attr-name"}),"integrity"),(0,n.kt)("span",o({parentName:"span"},{className:"token attr-value"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation attr-equals"}),"="),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),'"'),"sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),'"')),"\n  ",(0,n.kt)("span",o({parentName:"span"},{className:"token attr-name"}),"crossorigin"),(0,n.kt)("span",o({parentName:"span"},{className:"token attr-value"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation attr-equals"}),"="),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),'"'),"anonymous",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),'"')),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),">")),(0,n.kt)("span",o({parentName:"code"},{className:"token script"}),(0,n.kt)("span",o({parentName:"span"},{className:"token language-javascript"}),"\n")),(0,n.kt)("span",o({parentName:"code"},{className:"token tag"}),(0,n.kt)("span",o({parentName:"span"},{className:"token tag"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),"</"),"script"),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),">")))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    jquery",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'jQuery'"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"This leaves any dependent modules unchanged, i.e. the code shown below will still work:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"import")," $ ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"from")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'jquery'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"$"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'.my-element'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"animate"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"/* ... */"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"The bundle with external dependencies can be used in various module contexts, such as ",(0,n.kt)("a",o({parentName:"p"},{href:"/concepts/modules"}),"CommonJS, AMD, global and ES2015 modules"),". The external library may be available in any of these forms:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"root"),": The library should be available as a global variable (e.g. via a script tag)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"commonjs"),": The library should be available as a CommonJS module."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"commonjs2"),": Similar to the above but where the export is ",(0,n.kt)("inlineCode",{parentName:"li"},"module.exports.default"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"amd"),": Similar to ",(0,n.kt)("inlineCode",{parentName:"li"},"commonjs")," but using AMD module system.")),(0,n.kt)("p",null,"The following syntaxes are accepted..."),(0,n.kt)("h3",o({},{id:"string"}),"string",(0,n.kt)("a",o({parentName:"h3"},{href:"#string","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,"See the example above. The property name ",(0,n.kt)("inlineCode",{parentName:"p"},"jquery")," indicates that the module ",(0,n.kt)("inlineCode",{parentName:"p"},"jquery")," in ",(0,n.kt)("inlineCode",{parentName:"p"},"import $ from 'jquery'")," should be excluded. In order to replace this module, the value ",(0,n.kt)("inlineCode",{parentName:"p"},"jQuery")," will be used to retrieve a global ",(0,n.kt)("inlineCode",{parentName:"p"},"jQuery")," variable. In other words, when a string is provided it will be treated as ",(0,n.kt)("inlineCode",{parentName:"p"},"root")," (defined above and below)."),(0,n.kt)("p",null,"On the other hand, if you want to externalise a library that is available as a CommonJS module, you can provide the external library type together with the library name."),(0,n.kt)("p",null,"For example, if you want to exclude ",(0,n.kt)("inlineCode",{parentName:"p"},"fs-extra")," from the output bundle and import it during the runtime instead, you can specify it as follows:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'fs-extra'"),(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'commonjs2 fs-extra'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"This leaves any dependent modules unchanged, i.e. the code shown below:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"import")," fs ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"from")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'fs-extra'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"will compile to something like:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"const")," fs ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"require"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'fs-extra'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("h3",o({},{id:"string-1"}),(0,n.kt)("inlineCode",{parentName:"h3"},"[string]"),(0,n.kt)("a",o({parentName:"h3"},{href:"#string-1","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    subtract",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'./math'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'subtract'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"subtract: ['./math', 'subtract']")," allows you select part of a commonjs module, where ",(0,n.kt)("inlineCode",{parentName:"p"},"./math")," is the module and your bundle only requires the subset under the ",(0,n.kt)("inlineCode",{parentName:"p"},"subtract")," variable. This example would translate to ",(0,n.kt)("inlineCode",{parentName:"p"},"require('./math').subtract;")),(0,n.kt)("h3",o({},{id:"object"}),"object",(0,n.kt)("a",o({parentName:"h3"},{href:"#object","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("aside",o({},{className:"warning"}),(0,n.kt)("h6",o({parentName:"aside"},{className:"warning__prefix"}),"warning"),(0,n.kt)("p",{parentName:"aside"},"An object with ",(0,n.kt)("inlineCode",{parentName:"p"},"{ root, amd, commonjs, ... }")," is only allowed for ",(0,n.kt)("a",o({parentName:"p"},{href:"/configuration/output/#outputlibrarytarget"}),(0,n.kt)("inlineCode",{parentName:"a"},"libraryTarget: 'umd'")),". It's not allowed for other library targets.")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externals ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    react",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'react'"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// or"),"\n\n  externals ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    lodash ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      commonjs",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'lodash'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n      amd",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'lodash'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n      root",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'_'")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// indicates global variable"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// or"),"\n\n  externals ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    subtract ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      root",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'math'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'subtract'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"This syntax is used to describe all the possible ways that an external library can be made available. ",(0,n.kt)("inlineCode",{parentName:"p"},"lodash")," here is available as ",(0,n.kt)("inlineCode",{parentName:"p"},"lodash")," under AMD and CommonJS module systems but available as ",(0,n.kt)("inlineCode",{parentName:"p"},"_")," in a global variable form. ",(0,n.kt)("inlineCode",{parentName:"p"},"subtract")," here is available via the property ",(0,n.kt)("inlineCode",{parentName:"p"},"subtract")," under the global ",(0,n.kt)("inlineCode",{parentName:"p"},"math")," object (e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"window['math']['subtract']"),")."),(0,n.kt)("h3",o({},{id:"function"}),"function",(0,n.kt)("a",o({parentName:"h3"},{href:"#function","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"function ({ context, request, contextInfo, getResolve }, callback)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"function ({ context, request, contextInfo, getResolve }) => promise")," ",(0,n.kt)(r,{text:"5.15.0+",mdxType:"Badge"}))),(0,n.kt)("p",null,"It might be useful to define your own function to control the behavior of what you want to externalize from webpack. ",(0,n.kt)("a",o({parentName:"p"},{href:"https://www.npmjs.com/package/webpack-node-externals"}),"webpack-node-externals"),", for example, excludes all modules from the ",(0,n.kt)("inlineCode",{parentName:"p"},"node_modules")," directory and provides options to whitelist packages."),(0,n.kt)("p",null,"Here're arguments the function can receive:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ctx")," (",(0,n.kt)("inlineCode",{parentName:"li"},"object"),"): Object containing details of the file.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ctx.context")," (",(0,n.kt)("inlineCode",{parentName:"li"},"string"),"): The directory of the file which contains the import."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ctx.request")," (",(0,n.kt)("inlineCode",{parentName:"li"},"string"),"): The import path being requested."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ctx.contextInfo")," (",(0,n.kt)("inlineCode",{parentName:"li"},"string"),"): Contains information about the issuer (e.g. the layer)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"ctx.getResolve")," ",(0,n.kt)(r,{text:"5.15.0+",mdxType:"Badge"}),": Get a resolve function with the current resolver options."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"callback")," (",(0,n.kt)("inlineCode",{parentName:"li"},"function (err, result, type)"),"): Callback function used to indicate how the module should be externalized.")),(0,n.kt)("p",null,"The callback function takes three arguments:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"err")," (",(0,n.kt)("inlineCode",{parentName:"li"},"Error"),"): Used to indicate if there has been an error while externalizing the import. If there is an error, this should be the only parameter used."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"result")," (",(0,n.kt)("inlineCode",{parentName:"li"},"string")," ",(0,n.kt)("inlineCode",{parentName:"li"},"[string]")," ",(0,n.kt)("inlineCode",{parentName:"li"},"object"),"): Describes the external module. Can accept a string in the format ",(0,n.kt)("inlineCode",{parentName:"li"},"${type} ${path}"),", or one of the other standard external formats (",(0,n.kt)("a",o({parentName:"li"},{href:"#string"}),(0,n.kt)("inlineCode",{parentName:"a"},"string")),", ",(0,n.kt)("a",o({parentName:"li"},{href:"#string-1"}),(0,n.kt)("inlineCode",{parentName:"a"},"[string]")),", or ",(0,n.kt)("a",o({parentName:"li"},{href:"#object"}),(0,n.kt)("inlineCode",{parentName:"a"},"object")),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"type")," (",(0,n.kt)("inlineCode",{parentName:"li"},"string"),"): Optional parameter that indicates the module type (if it has not already been indicated in the ",(0,n.kt)("inlineCode",{parentName:"li"},"result")," parameter).")),(0,n.kt)("p",null,"As an example, to externalize all imports where the import path matches a regular expression you could do the following:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"function"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token parameter"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),"{")," context",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," request ",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"if")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token regex"}),"/^yourregex$/"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"test"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"request",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// Externalize to a commonjs module using the request path"),"\n        ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"return")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"null"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'commonjs '")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"+")," request",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// Continue without externalizing the import"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"Other examples using different module formats:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"function"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token parameter"}),"ctx",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// The external is a `commonjs2` module located in `@scope/library`"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"null"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'@scope/library'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'commonjs2'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"function"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token parameter"}),"ctx",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// The external is a global variable called `nameOfGlobal`."),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"null"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'nameOfGlobal'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"function"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token parameter"}),"ctx",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// The external is a named export in the `@scope/library` module."),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"null"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'@scope/library'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'namedexport'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'commonjs'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"function"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token parameter"}),"ctx",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// The external is a UMD module"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"null"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        root",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'componentsGlobal'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n        commonjs",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'@scope/components'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n        commonjs2",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'@scope/components'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n        amd",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'components'"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("h3",o({},{id:"regexp"}),"RegExp",(0,n.kt)("a",o({parentName:"h3"},{href:"#regexp","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,"Every dependency that matches the given regular expression will be excluded from the output bundles."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token regex"}),"/^(jquery|\\$)$/i"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"In this case, any dependency named ",(0,n.kt)("inlineCode",{parentName:"p"},"jQuery"),", capitalized or not, or ",(0,n.kt)("inlineCode",{parentName:"p"},"$")," would be externalized."),(0,n.kt)("h3",o({},{id:"combining-syntaxes"}),"Combining syntaxes",(0,n.kt)("a",o({parentName:"h3"},{href:"#combining-syntaxes","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,"Sometimes you may want to use a combination of the above syntaxes. This can be done in the following manner:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// String"),"\n      react",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'react'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// Object"),"\n      lodash ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        commonjs",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'lodash'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n        amd",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'lodash'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n        root",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'_'")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// indicates global variable"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// [string]"),"\n      subtract",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'./math'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'subtract'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// Function"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"function"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token parameter"}),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),"{")," context",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," request ",(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"span"},{className:"token punctuation"}),",")," callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"if")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token regex"}),"/^yourregex$/"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"test"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"request",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"return")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"null"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'commonjs '")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"+")," request",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"callback"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// Regex"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"/"),(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"^"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"jquery",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"|"),"\\$",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"$",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"/"),"i\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("aside",o({},{className:"warning"}),(0,n.kt)("h6",o({parentName:"aside"},{className:"warning__prefix"}),"warning"),(0,n.kt)("p",{parentName:"aside"},"",(0,n.kt)("a",o({parentName:"p"},{href:"/configuration/externals/#externalstype"}),"Default type")," will be used if you specify ",(0,n.kt)("inlineCode",{parentName:"p"},"externals")," without a type e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"externals: { react: 'react' }")," instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"externals: { react: 'commonjs-module react' }"),".")),(0,n.kt)("p",null,"For more information on how to use this configuration, please refer to the article on ",(0,n.kt)("a",o({parentName:"p"},{href:"/guides/author-libraries"}),"how to author a library"),"."),(0,n.kt)("h3",o({},{id:"bylayer"}),(0,n.kt)("inlineCode",{parentName:"h3"},"byLayer"),(0,n.kt)("a",o({parentName:"h3"},{href:"#bylayer","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"function")," ",(0,n.kt)("inlineCode",{parentName:"p"},"object")),(0,n.kt)("p",null,"Specify externals by layer."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    byLayer ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n      layer",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n        external1",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'var 43'"),"\n      ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("h2",o({},{id:"externalstype"}),(0,n.kt)("inlineCode",{parentName:"h2"},"externalsType"),(0,n.kt)("a",o({parentName:"h2"},{href:"#externalstype","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"string = 'var'")),(0,n.kt)("p",null,"Specifies the default type of externals. ",(0,n.kt)("inlineCode",{parentName:"p"},"amd"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"umd"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"system")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"jsonp")," externals ",(0,n.kt)("strong",{parentName:"p"},"depend on the ",(0,n.kt)("a",o({parentName:"strong"},{href:"/configuration/output/#outputlibrarytarget"}),(0,n.kt)("inlineCode",{parentName:"a"},"output.libraryTarget")))," being set to the same value e.g. you can only consume ",(0,n.kt)("inlineCode",{parentName:"p"},"amd")," externals within an ",(0,n.kt)("inlineCode",{parentName:"p"},"amd")," library."),(0,n.kt)("p",null,"Supported types:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'var'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'module'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'assign'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'this'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'window'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'self'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'global'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'commonjs'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'commonjs-module'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'amd'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'amd-require'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'umd'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'umd2'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'jsonp'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'system'")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'promise'")," - same as ",(0,n.kt)("inlineCode",{parentName:"li"},"'var'")," but awaits the result (async module)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'import'")," - uses ",(0,n.kt)("inlineCode",{parentName:"li"},"import()")," to load a native EcmaScript module (async module)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"'script'")," - load script exposing predefined global variables with HTML ",(0,n.kt)("inlineCode",{parentName:"li"},"<script>")," element")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"//..."),"\n  externalsType",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'promise'"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("h3",o({},{id:"script"}),(0,n.kt)("inlineCode",{parentName:"h3"},"script"),(0,n.kt)("a",o({parentName:"h3"},{href:"#script","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,"External script can be loaded from any URL when ",(0,n.kt)("a",o({parentName:"p"},{href:"#externalstype"}),(0,n.kt)("inlineCode",{parentName:"a"},"externalsType"))," is set to ",(0,n.kt)("inlineCode",{parentName:"p"},"'script'"),". The ",(0,n.kt)("inlineCode",{parentName:"p"},"<script>")," tag would be removed after the script has been loaded."),(0,n.kt)("h4",o({},{id:"syntax"}),"Syntax",(0,n.kt)("a",o({parentName:"h4"},{href:"#syntax","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    packageName",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'http://example.com/script.js'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'global'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'property'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'property'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// properties are optional"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"You can also use the shortcut syntax if you're not going to specify any properties:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-javascript"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    packageName",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'global@http://example.com/script.js'")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// no properties here"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("aside",o({},{className:"tip"}),(0,n.kt)("h6",o({parentName:"aside"},{className:"tip__prefix"}),"tip"),(0,n.kt)("p",{parentName:"aside"},"",(0,n.kt)("a",o({parentName:"p"},{href:"/configuration/output/#outputpublicpath"}),(0,n.kt)("inlineCode",{parentName:"a"},"output.publicPath"))," won't be added to the provided URL.")),(0,n.kt)("h4",o({},{id:"example"}),"Example",(0,n.kt)("a",o({parentName:"h4"},{href:"#example","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,"Let's load a ",(0,n.kt)("inlineCode",{parentName:"p"},"lodash")," from CDN:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-js"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  externalsType",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'script'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    lodash",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'https://cdn.jsdelivr.net/npm/lodash@4.17.19/lodash.min.js'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'_'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"Then use it in code:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-js"}),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"import")," _ ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"from")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'lodash'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\nconsole",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"log"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"_",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"head"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token number"}),"1"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token number"}),"2"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token number"}),"3"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"Here's how we specify properties for the above example:"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-js"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  externalsType",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'script'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  externals",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    lodash",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'https://cdn.jsdelivr.net/npm/lodash@4.17.19/lodash.min.js'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'_'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'head'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))),(0,n.kt)("p",null,"Both local variable ",(0,n.kt)("inlineCode",{parentName:"p"},"head")," and global ",(0,n.kt)("inlineCode",{parentName:"p"},"window._")," will be exposed when you ",(0,n.kt)("inlineCode",{parentName:"p"},"import")," ",(0,n.kt)("inlineCode",{parentName:"p"},"lodash"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-js"}),(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"import")," head ",(0,n.kt)("span",o({parentName:"code"},{className:"token keyword"}),"from")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'lodash'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\nconsole",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"log"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"head"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token number"}),"1"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token number"}),"2"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token number"}),"3"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// logs 1 here"),"\nconsole",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"log"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"window",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"_",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),(0,n.kt)("span",o({parentName:"code"},{className:"token function"}),"head"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"("),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"["),(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'a'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token string"}),"'b'"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),")"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// logs a here"))),(0,n.kt)("aside",o({},{className:"tip"}),(0,n.kt)("h6",o({parentName:"aside"},{className:"tip__prefix"}),"tip"),(0,n.kt)("p",{parentName:"aside"},"When loading code with HTML ",(0,n.kt)("inlineCode",{parentName:"p"},"<script>")," tags, the webpack runtime will try to find an existing ",(0,n.kt)("inlineCode",{parentName:"p"},"<script>")," tag that matches the ",(0,n.kt)("inlineCode",{parentName:"p"},"src")," attribute or has a specific ",(0,n.kt)("inlineCode",{parentName:"p"},"data-webpack")," attribute. For chunk loading ",(0,n.kt)("inlineCode",{parentName:"p"},"data-webpack")," attribute would have value of ",(0,n.kt)("inlineCode",{parentName:"p"},"'[output.uniqueName]:chunk-[chunkId]'")," while external script has value of ",(0,n.kt)("inlineCode",{parentName:"p"},"'[output.uniqueName]:[global]'"),".")),(0,n.kt)("aside",o({},{className:"tip"}),(0,n.kt)("h6",o({parentName:"aside"},{className:"tip__prefix"}),"tip"),(0,n.kt)("p",{parentName:"aside"},"Options like ",(0,n.kt)("inlineCode",{parentName:"p"},"output.chunkLoadTimeout"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"output.crossOriginLoading")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"output.scriptType")," will also have effect on the external scripts loaded this way.")),(0,n.kt)("h2",o({},{id:"externalspresets"}),(0,n.kt)("inlineCode",{parentName:"h2"},"externalsPresets"),(0,n.kt)("a",o({parentName:"h2"},{href:"#externalspresets","aria-hidden":"true",tabIndex:-1}),(0,n.kt)("span",o({parentName:"a"},{className:"header-link"})))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"object")),(0,n.kt)("p",null,"Enable presets of externals for specific targets."),(0,n.kt)("aside",o({},{className:"warning"}),(0,n.kt)("h6",o({parentName:"aside"},{className:"warning__prefix"}),"warning"),(0,n.kt)("p",{parentName:"aside"},"In earlier webpack versions, the following functionality was achieved by using ",(0,n.kt)("a",o({parentName:"p"},{href:"/configuration/target/"}),(0,n.kt)("inlineCode",{parentName:"a"},"target")),".")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",o({parentName:"tr"},{align:null}),"Option"),(0,n.kt)("th",o({parentName:"tr"},{align:null}),"Description"),(0,n.kt)("th",o({parentName:"tr"},{align:null}),"Input Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electron"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat common electron built-in modules in main and preload context like ",(0,n.kt)("inlineCode",{parentName:"span"},"electron"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"ipc")," or ",(0,n.kt)("inlineCode",{parentName:"span"},"shell")," as external and load them via ",(0,n.kt)("inlineCode",{parentName:"span"},"require()")," when used.")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electronMain"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat electron built-in modules in the main context like ",(0,n.kt)("inlineCode",{parentName:"span"},"app"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"ipc-main")," or ",(0,n.kt)("inlineCode",{parentName:"span"},"shell")," as external and load them via ",(0,n.kt)("inlineCode",{parentName:"span"},"require()")," when used.")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electronPreload"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat electron built-in modules in the preload context like ",(0,n.kt)("inlineCode",{parentName:"span"},"web-frame"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"ipc-renderer")," or ",(0,n.kt)("inlineCode",{parentName:"span"},"shell")," as external and load them via require() when used.")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electronRenderer"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat electron built-in modules in the renderer context like ",(0,n.kt)("inlineCode",{parentName:"span"},"web-frame"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"ipc-renderer")," or ",(0,n.kt)("inlineCode",{parentName:"span"},"shell")," as external and load them via ",(0,n.kt)("inlineCode",{parentName:"span"},"require()")," when used.")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"node"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat node.js built-in modules like ",(0,n.kt)("inlineCode",{parentName:"span"},"fs"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"path")," or ",(0,n.kt)("inlineCode",{parentName:"span"},"vm")," as external and load them via ",(0,n.kt)("inlineCode",{parentName:"span"},"require()")," when used.")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"nwjs"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat ",(0,n.kt)("inlineCode",{parentName:"span"},"NW.js")," legacy ",(0,n.kt)("inlineCode",{parentName:"span"},"nw.gui")," module as external and load it via ",(0,n.kt)("inlineCode",{parentName:"span"},"require()")," when used.")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"web"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat references to ",(0,n.kt)("inlineCode",{parentName:"span"},"http(s)://...")," and ",(0,n.kt)("inlineCode",{parentName:"span"},"std:...")," as external and load them via ",(0,n.kt)("inlineCode",{parentName:"span"},"import")," when used. ",(0,n.kt)("strong",{parentName:"span"},"(Note that this changes execution order as externals are executed before any other code in the chunk)"),".")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Option"}),(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"webAsync"))),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Description"}),(0,n.kt)("span",{parentName:"td"},"Treat references to ",(0,n.kt)("inlineCode",{parentName:"span"},"http(s)://...")," and ",(0,n.kt)("inlineCode",{parentName:"span"},"std:...")," as external and load them via ",(0,n.kt)("inlineCode",{parentName:"span"},"async import()")," when used ",(0,n.kt)("strong",{parentName:"span"},"(Note that this external type is an ",(0,n.kt)("inlineCode",{parentName:"strong"},"async")," module, which has various effects on the execution)"),".")),(0,n.kt)("td",o({parentName:"tr"},{align:null,"data-th":"Input Type"}),(0,n.kt)("span",{parentName:"td"},"boolean"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Example")),(0,n.kt)("p",null,"Using ",(0,n.kt)("inlineCode",{parentName:"p"},"node")," preset will not bundle built-in modules and treats them as external and loads them via ",(0,n.kt)("inlineCode",{parentName:"p"},"require()")," when used."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",o({parentName:"pre"},{className:"hljs language-js"}),"module",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"exports ",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  externalsPresets",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n    node",(0,n.kt)("span",o({parentName:"code"},{className:"token operator"}),":")," ",(0,n.kt)("span",o({parentName:"code"},{className:"token boolean"}),"true"),"\n  ",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n",(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),(0,n.kt)("span",o({parentName:"code"},{className:"token punctuation"}),";"))))}m.isMDXComponent=!0}}]);