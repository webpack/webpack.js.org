"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8768],{8768:function(n,e,s){s.r(e),s.d(e,{default:function(){return t}});var a=s(2540),c=s(3317);function o(n){const e={a:"a",aside:"aside",code:"code",h6:"h6",p:"p",pre:"pre",span:"span",strong:"strong",...(0,c.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:["To disambiguate in your ",(0,a.jsx)(e.code,{children:"webpack.config.js"})," between ",(0,a.jsx)(e.a,{href:"/guides/development",children:"development"})," and ",(0,a.jsx)(e.a,{href:"/guides/production",children:"production builds"})," you may use environment variables."]}),"\n",(0,a.jsxs)(e.aside,{className:"tip",children:[(0,a.jsx)(e.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(e.p,{children:["webpack's environment variables are different from the ",(0,a.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Environment_variable",children:"environment variables"})," of operating system shells like ",(0,a.jsx)(e.code,{children:"bash"})," and ",(0,a.jsx)(e.code,{children:"CMD.exe"})]})]}),"\n",(0,a.jsxs)(e.p,{children:["The webpack command line ",(0,a.jsx)(e.a,{href:"/api/cli/#environment-options",children:"environment option"})," ",(0,a.jsx)(e.code,{children:"--env"})," allows you to pass in as many environment variables as you like. Environment variables will be made accessible in your ",(0,a.jsx)(e.code,{children:"webpack.config.js"}),". For example, ",(0,a.jsx)(e.code,{children:"--env production"})," or ",(0,a.jsx)(e.code,{children:"--env goal=local"}),"."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsxs)(e.code,{className:"hljs language-bash",children:["npx webpack --env ",(0,a.jsx)(e.span,{className:"token assign-left variable",children:"goal"}),(0,a.jsx)(e.span,{className:"token operator",children:"="}),"local --env production --progress"]})}),"\n",(0,a.jsxs)(e.aside,{className:"tip",children:[(0,a.jsx)(e.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(e.p,{children:["Setting up your ",(0,a.jsx)(e.code,{children:"env"})," variable without assignment, ",(0,a.jsx)(e.code,{children:"--env production"})," sets ",(0,a.jsx)(e.code,{children:"env.production"})," to ",(0,a.jsx)(e.code,{children:"true"})," by default. There are also other syntaxes that you can use. See the ",(0,a.jsx)(e.a,{href:"/api/cli/#environment-options",children:"webpack CLI"})," documentation for more information."]})]}),"\n",(0,a.jsxs)(e.p,{children:["There is one change that you will have to make to your webpack config. Typically, ",(0,a.jsx)(e.code,{children:"module.exports"})," points to the configuration object. To use the ",(0,a.jsx)(e.code,{children:"env"})," variable, you must convert ",(0,a.jsx)(e.code,{children:"module.exports"})," to a function:"]}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"webpack.config.js"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsxs)(e.code,{className:"hljs language-js",children:[(0,a.jsx)(e.span,{className:"token keyword",children:"const"})," path ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token function",children:"require"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'path'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:";"}),"\n\nmodule",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),(0,a.jsx)(e.span,{className:"token function-variable function",children:"exports"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"="})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token parameter",children:"env"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(e.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(e.span,{className:"token comment",children:"// Use env.<YOUR VARIABLE> here:"}),"\n  console",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),(0,a.jsx)(e.span,{className:"token function",children:"log"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'Goal: '"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," env",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"goal",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:";"})," ",(0,a.jsx)(e.span,{className:"token comment",children:"// 'local'"}),"\n  console",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),(0,a.jsx)(e.span,{className:"token function",children:"log"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),(0,a.jsx)(e.span,{className:"token string",children:"'Production: '"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","})," env",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),"production",(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:";"})," ",(0,a.jsx)(e.span,{className:"token comment",children:"// true"}),"\n\n  ",(0,a.jsx)(e.span,{className:"token keyword",children:"return"})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n    entry",(0,a.jsx)(e.span,{className:"token operator",children:":"})," ",(0,a.jsx)(e.span,{className:"token string",children:"'./src/index.js'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"\n    output",(0,a.jsx)(e.span,{className:"token operator",children:":"})," ",(0,a.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n      filename",(0,a.jsx)(e.span,{className:"token operator",children:":"})," ",(0,a.jsx)(e.span,{className:"token string",children:"'bundle.js'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"\n      path",(0,a.jsx)(e.span,{className:"token operator",children:":"})," path",(0,a.jsx)(e.span,{className:"token punctuation",children:"."}),(0,a.jsx)(e.span,{className:"token function",children:"resolve"}),(0,a.jsx)(e.span,{className:"token punctuation",children:"("}),"__dirname",(0,a.jsx)(e.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(e.span,{className:"token string",children:"'dist'"}),(0,a.jsx)(e.span,{className:"token punctuation",children:")"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(e.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(e.span,{className:"token punctuation",children:","}),"\n  ",(0,a.jsx)(e.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(e.span,{className:"token punctuation",children:";"}),"\n",(0,a.jsx)(e.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(e.span,{className:"token punctuation",children:";"})]})}),"\n",(0,a.jsxs)(e.aside,{className:"tip",children:[(0,a.jsx)(e.h6,{className:"tip__prefix",children:"tip"}),(0,a.jsxs)(e.p,{children:["Webpack CLI offers some ",(0,a.jsx)(e.a,{href:"/api/cli/#cli-environment-variables",children:"built-in environment variables"})," which you can access inside a webpack configuration."]})]})]})}function t(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(o,{...n})}):o(n)}}}]);