<!DOCTYPE html><html lang="en"><head><title data-rh="true">Combined printable page | webpack</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="robots" content="noindex,nofollow"/><meta data-rh="true" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:site_name" content="webpack"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="Combined printable page | webpack"/><meta data-rh="true" property="og:description" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.js.org/api/printable/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><link rel="stylesheet" href=/index.b7c9c1d4b2348087bd8b.css /><link rel="stylesheet" href=/3010.ff917b2e31c4f209be30.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="bg-blue-800 dark:bg-gray-900"><div class="flex items-center py-10 px-[16px] justify-between md:px-[24px] md:max-w-[1024px] md:mx-auto md:justify-start"><button class="bg-transparent border-none md:hidden"><svg viewBox="-62 138 25 25" width="20" height="20" class="fill-current text-white"><path d="M-60.2 140.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8zM-60.2 148.7h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8zM-60.2 157.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8z"></path></svg></button><a class="md:mr-auto" href="/"><img class="logo" src="/site-logo.1fcab817090e78435061.svg" alt="webpack logo" width="122" height="35"/></a><nav class="hidden md:inline-grid md:grid-flow-col md:gap-x-[18px]"><a aria-current="page" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200 active-menu" href="/concepts/">Documentation</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/contribute/">Contribute</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/vote/">Vote</a><a class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/blog/">Blog</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center" title="webpack on GitHub"><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M12 2A10 10 0 002 12a10 10 0 006.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 015 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0012 2z"></path></svg></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center" title="webpack on Twitter"><svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="#fff" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 002.345-2.951 10.696 10.696 0 01-3.388 1.295 5.334 5.334 0 00-9.089 4.864A15.143 15.143 0 013.809 5.411a5.321 5.321 0 00-.721 2.683 5.33 5.33 0 002.372 4.439 5.323 5.323 0 01-2.416-.667v.067a5.335 5.335 0 004.279 5.23 5.336 5.336 0 01-2.409.092 5.34 5.34 0 004.983 3.705 10.699 10.699 0 01-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 008.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0028 6.937z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center" title="webpack on StackOverflow"><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4zM6.8 14.3l.3-1.7 8.8 1.8-.3 1.8zm1.1-4.2l.8-1.6 8.1 3.8-.7 1.6zm2.3-4l1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8z"></path></svg></a><nav class="dropdown "><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="/language-icon.87a028c9bf555eeb5932.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/api/printable/" class="px-5 block"><span>English</span></a></li><li><a href="https://webpack.docschina.org/api/printable/" class="px-5 block"><span lang="zh">中文</span></a></li><li><a href="https://webpack.kr/api/printable/" class="px-5 block"><span lang="ko">한국어</span></a></li></ul></div></nav></nav><div class="inline-flex items-center ml-[18px]"><button aria-label="Switch to dark theme" class="bg-transparent border-none cursor-pointer text-[16px] p-0 inline-flex items-center" data-testid="hello-darkness">☀️</button><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div class="bg-gray-100 dark:bg-gray-800 hidden md:block"><div class="md:max-w-[1024px] md:mx-auto md:grid md:grid-flow-col md:justify-end md:gap-x-[20px] md:px-[24px]" data-testid="sub-navigation"><a aria-current="page" class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white active-submenu" title="api" href="/api/">api</a><a class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" title="concepts" href="/concepts/">concepts</a><a class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" title="configuration" href="/configuration/">configuration</a><a class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" title="guides" href="/guides/">guides</a><a class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" title="loaders" href="/loaders/">loaders</a><a class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" title="migrate" href="/migrate/">migrate</a><a class="text-blue-400 py-5 text-sm capitalize hover:text-black dark:hover:text-white" title="plugins" href="/plugins/">plugins</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img src="/ag-grid-logo.4fe9d34532b2c0821fc9.png"/><img class="sponsors__img__webpack" src="/icon-square-small.85ba630cf0c5f29ae3e3.svg"/><div class="sponsors__content-cont">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="relative z-0 bg-white dark:bg-gray-100 "><select class="text-gray-600 text-14 px-5 py-5 appearance-none box-border border border-gray-200 border-solid flex-col flex w-full rounded-none bg-transparent bg-none"><option selected="" value="5">Webpack 5</option><option value="4">Webpack 4</option></select><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="absolute right-5 top-5 fill-current text-gray-300 z-[-1]" width="20" height="20"><path d="M4.5 7.5c.5-.4 1-.4 1.6 0l3.9 3.8 4-3.8c.4-.4 1-.4 1.5 0 .4.5.4 1.2 0 1.7l-4.7 4.5a1 1 0 01-1.6 0L4.5 9.2c-.4-.5-.4-1.2 0-1.7z"></path></svg></div><div class="sidebar-item sidebar-item--disabled`"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8s.5.4.8.4c.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8s-.5-.4-.8-.4z"></path></svg><a class="sidebar-item__title sidebar-link__print" href="/api/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="/icon-print.d4d2cfa27f8b9a98e34a.svg" width="27" height="20" alt="Printer Icon"/></a></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/">Introduction</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="CLI"><a aria-current="page" class="active" href="/api/#cli">CLI</a></li><li class="sidebar-item__anchor" title="Module"><a aria-current="page" class="active" href="/api/#module">Module</a></li><li class="sidebar-item__anchor" title="Node"><a aria-current="page" class="active" href="/api/#node">Node</a></li><li class="sidebar-item__anchor" title="Loaders"><a aria-current="page" class="active" href="/api/#loaders">Loaders</a></li><li class="sidebar-item__anchor" title="Plugins"><a aria-current="page" class="active" href="/api/#plugins">Plugins</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/cli/">Command Line Interface</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Commands"><a href="/api/cli/#commands">Commands</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Init"><a href="/api/cli/#init">Init</a></li><li class="sidebar-item__anchor" title="Info"><a href="/api/cli/#info">Info</a></li><li class="sidebar-item__anchor" title="Configtest"><a href="/api/cli/#configtest">Configtest</a></li></ul></li><li class="sidebar-item__anchor" title="Flags"><a href="/api/cli/#flags">Flags</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Negated Flags"><a href="/api/cli/#negated-flags">Negated Flags</a></li><li class="sidebar-item__anchor" title="Core Flags"><a href="/api/cli/#core-flags">Core Flags</a></li></ul></li><li class="sidebar-item__anchor" title="Usage"><a href="/api/cli/#usage">Usage</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="With configuration file"><a href="/api/cli/#with-configuration-file">With configuration file</a></li><li class="sidebar-item__anchor" title="Without configuration file"><a href="/api/cli/#without-configuration-file">Without configuration file</a></li></ul></li><li class="sidebar-item__anchor" title="Default Configurations"><a href="/api/cli/#default-configurations">Default Configurations</a></li><li class="sidebar-item__anchor" title="Common Options"><a href="/api/cli/#common-options">Common Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="help"><a href="/api/cli/#help">help</a></li><li class="sidebar-item__anchor" title="version"><a href="/api/cli/#version">version</a></li><li class="sidebar-item__anchor" title="config"><a href="/api/cli/#config">config</a></li><li class="sidebar-item__anchor" title="config-name"><a href="/api/cli/#config-name">config-name</a></li><li class="sidebar-item__anchor" title="merge"><a href="/api/cli/#merge">merge</a></li><li class="sidebar-item__anchor" title="json"><a href="/api/cli/#json">json</a></li></ul></li><li class="sidebar-item__anchor" title="Environment Options"><a href="/api/cli/#environment-options">Environment Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="env"><a href="/api/cli/#env">env</a></li><li class="sidebar-item__anchor" title="node-env"><a href="/api/cli/#node-env">node-env</a></li></ul></li><li class="sidebar-item__anchor" title="Configuration Options"><a href="/api/cli/#configuration-options">Configuration Options</a></li><li class="sidebar-item__anchor" title="Analyzing Bundle"><a href="/api/cli/#analyzing-bundle">Analyzing Bundle</a></li><li class="sidebar-item__anchor" title="Progress"><a href="/api/cli/#progress">Progress</a></li><li class="sidebar-item__anchor" title="Pass CLI arguments to Node.js"><a href="/api/cli/#pass-cli-arguments-to-nodejs">Pass CLI arguments to Node.js</a></li><li class="sidebar-item__anchor" title="Exit codes and their meanings"><a href="/api/cli/#exit-codes-and-their-meanings">Exit codes and their meanings</a></li><li class="sidebar-item__anchor" title="CLI Environment Variables"><a href="/api/cli/#cli-environment-variables">CLI Environment Variables</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="WEBPACK_PACKAGE"><a href="/api/cli/#webpack_package">WEBPACK_PACKAGE</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/node/">Node Interface</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Installation"><a href="/api/node/#installation">Installation</a></li><li class="sidebar-item__anchor" title="webpack()"><a href="/api/node/#webpack">webpack()</a></li><li class="sidebar-item__anchor" title="Compiler Instance"><a href="/api/node/#compiler-instance">Compiler Instance</a></li><li class="sidebar-item__anchor" title="Run"><a href="/api/node/#run">Run</a></li><li class="sidebar-item__anchor" title="Watching"><a href="/api/node/#watching">Watching</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Close Watching"><a href="/api/node/#close-watching">Close Watching</a></li><li class="sidebar-item__anchor" title="Invalidate Watching"><a href="/api/node/#invalidate-watching">Invalidate Watching</a></li></ul></li><li class="sidebar-item__anchor" title="Stats Object"><a href="/api/node/#stats-object">Stats Object</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="stats.hasErrors()"><a href="/api/node/#statshaserrors">stats.hasErrors()</a></li><li class="sidebar-item__anchor" title="stats.hasWarnings()"><a href="/api/node/#statshaswarnings">stats.hasWarnings()</a></li><li class="sidebar-item__anchor" title="stats.toJson(options)"><a href="/api/node/#statstojsonoptions">stats.toJson(options)</a></li><li class="sidebar-item__anchor" title="stats.toString(options)"><a href="/api/node/#statstostringoptions">stats.toString(options)</a></li></ul></li><li class="sidebar-item__anchor" title="MultiCompiler"><a href="/api/node/#multicompiler">MultiCompiler</a></li><li class="sidebar-item__anchor" title="Error Handling"><a href="/api/node/#error-handling">Error Handling</a></li><li class="sidebar-item__anchor" title="Custom File Systems"><a href="/api/node/#custom-file-systems">Custom File Systems</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/stats/">Stats Data</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Structure"><a href="/api/stats/#structure">Structure</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Asset Objects"><a href="/api/stats/#asset-objects">Asset Objects</a></li><li class="sidebar-item__anchor" title="Chunk Objects"><a href="/api/stats/#chunk-objects">Chunk Objects</a></li><li class="sidebar-item__anchor" title="Module Objects"><a href="/api/stats/#module-objects">Module Objects</a></li><li class="sidebar-item__anchor" title="Entry Objects"><a href="/api/stats/#entry-objects">Entry Objects</a></li><li class="sidebar-item__anchor" title="Errors and Warnings"><a href="/api/stats/#errors-and-warnings">Errors and Warnings</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/hot-module-replacement/">Hot Module Replacement</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Module API"><a href="/api/hot-module-replacement/#module-api">Module API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="accept"><a href="/api/hot-module-replacement/#accept">accept</a></li><li class="sidebar-item__anchor" title="accept (self)"><a href="/api/hot-module-replacement/#accept-self">accept (self)</a></li><li class="sidebar-item__anchor" title="decline"><a href="/api/hot-module-replacement/#decline">decline</a></li><li class="sidebar-item__anchor" title="decline (self)"><a href="/api/hot-module-replacement/#decline-self">decline (self)</a></li><li class="sidebar-item__anchor" title="dispose (or addDisposeHandler)"><a href="/api/hot-module-replacement/#dispose-or-adddisposehandler">dispose (or addDisposeHandler)</a></li><li class="sidebar-item__anchor" title="invalidate"><a href="/api/hot-module-replacement/#invalidate">invalidate</a></li><li class="sidebar-item__anchor" title="removeDisposeHandler"><a href="/api/hot-module-replacement/#removedisposehandler">removeDisposeHandler</a></li></ul></li><li class="sidebar-item__anchor" title="Management API"><a href="/api/hot-module-replacement/#management-api">Management API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="status"><a href="/api/hot-module-replacement/#status">status</a></li><li class="sidebar-item__anchor" title="check"><a href="/api/hot-module-replacement/#check">check</a></li><li class="sidebar-item__anchor" title="apply"><a href="/api/hot-module-replacement/#apply">apply</a></li><li class="sidebar-item__anchor" title="addStatusHandler"><a href="/api/hot-module-replacement/#addstatushandler">addStatusHandler</a></li><li class="sidebar-item__anchor" title="removeStatusHandler"><a href="/api/hot-module-replacement/#removestatushandler">removeStatusHandler</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/loaders/">Loader Interface</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Examples"><a href="/api/loaders/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Synchronous Loaders"><a href="/api/loaders/#synchronous-loaders">Synchronous Loaders</a></li><li class="sidebar-item__anchor" title="Asynchronous Loaders"><a href="/api/loaders/#asynchronous-loaders">Asynchronous Loaders</a></li><li class="sidebar-item__anchor" title="&quot;Raw&quot; Loader"><a href="/api/loaders/#raw-loader">&quot;Raw&quot; Loader</a></li><li class="sidebar-item__anchor" title="Pitching Loader"><a href="/api/loaders/#pitching-loader">Pitching Loader</a></li></ul></li><li class="sidebar-item__anchor" title="The Loader Context"><a href="/api/loaders/#the-loader-context">The Loader Context</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Example for the loader context"><a href="/api/loaders/#example-for-the-loader-context">Example for the loader context</a></li><li class="sidebar-item__anchor" title="this.addContextDependency"><a href="/api/loaders/#thisaddcontextdependency">this.addContextDependency</a></li><li class="sidebar-item__anchor" title="this.addDependency"><a href="/api/loaders/#thisadddependency">this.addDependency</a></li><li class="sidebar-item__anchor" title="this.async"><a href="/api/loaders/#thisasync">this.async</a></li><li class="sidebar-item__anchor" title="this.cacheable"><a href="/api/loaders/#thiscacheable">this.cacheable</a></li><li class="sidebar-item__anchor" title="this.callback"><a href="/api/loaders/#thiscallback">this.callback</a></li><li class="sidebar-item__anchor" title="this.clearDependencies"><a href="/api/loaders/#thiscleardependencies">this.clearDependencies</a></li><li class="sidebar-item__anchor" title="this.context"><a href="/api/loaders/#thiscontext">this.context</a></li><li class="sidebar-item__anchor" title="this.data"><a href="/api/loaders/#thisdata">this.data</a></li><li class="sidebar-item__anchor" title="this.emitError"><a href="/api/loaders/#thisemiterror">this.emitError</a></li><li class="sidebar-item__anchor" title="this.emitFile"><a href="/api/loaders/#thisemitfile">this.emitFile</a></li><li class="sidebar-item__anchor" title="this.emitWarning"><a href="/api/loaders/#thisemitwarning">this.emitWarning</a></li><li class="sidebar-item__anchor" title="this.fs"><a href="/api/loaders/#thisfs">this.fs</a></li><li class="sidebar-item__anchor" title="this.getOptions(schema)"><a href="/api/loaders/#thisgetoptionsschema">this.getOptions(schema)</a></li><li class="sidebar-item__anchor" title="this.getResolve"><a href="/api/loaders/#thisgetresolve">this.getResolve</a></li><li class="sidebar-item__anchor" title="this.hot"><a href="/api/loaders/#thishot">this.hot</a></li><li class="sidebar-item__anchor" title="this.importModule"><a href="/api/loaders/#thisimportmodule">this.importModule</a></li><li class="sidebar-item__anchor" title="this.loaderIndex"><a href="/api/loaders/#thisloaderindex">this.loaderIndex</a></li><li class="sidebar-item__anchor" title="this.loadModule"><a href="/api/loaders/#thisloadmodule">this.loadModule</a></li><li class="sidebar-item__anchor" title="this.loaders"><a href="/api/loaders/#thisloaders">this.loaders</a></li><li class="sidebar-item__anchor" title="this.mode"><a href="/api/loaders/#thismode">this.mode</a></li><li class="sidebar-item__anchor" title="this.query"><a href="/api/loaders/#thisquery">this.query</a></li><li class="sidebar-item__anchor" title="this.request"><a href="/api/loaders/#thisrequest">this.request</a></li><li class="sidebar-item__anchor" title="this.resolve"><a href="/api/loaders/#thisresolve">this.resolve</a></li><li class="sidebar-item__anchor" title="this.resource"><a href="/api/loaders/#thisresource">this.resource</a></li><li class="sidebar-item__anchor" title="this.resourcePath"><a href="/api/loaders/#thisresourcepath">this.resourcePath</a></li><li class="sidebar-item__anchor" title="this.resourceQuery"><a href="/api/loaders/#thisresourcequery">this.resourceQuery</a></li><li class="sidebar-item__anchor" title="this.rootContext"><a href="/api/loaders/#thisrootcontext">this.rootContext</a></li><li class="sidebar-item__anchor" title="this.sourceMap"><a href="/api/loaders/#thissourcemap">this.sourceMap</a></li><li class="sidebar-item__anchor" title="this.target"><a href="/api/loaders/#thistarget">this.target</a></li><li class="sidebar-item__anchor" title="this.utils"><a href="/api/loaders/#thisutils">this.utils</a></li><li class="sidebar-item__anchor" title="this.version"><a href="/api/loaders/#thisversion">this.version</a></li><li class="sidebar-item__anchor" title="this.webpack"><a href="/api/loaders/#thiswebpack">this.webpack</a></li></ul></li><li class="sidebar-item__anchor" title="Webpack specific properties"><a href="/api/loaders/#webpack-specific-properties">Webpack specific properties</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="this._compilation"><a href="/api/loaders/#this_compilation">this._compilation</a></li><li class="sidebar-item__anchor" title="this._compiler"><a href="/api/loaders/#this_compiler">this._compiler</a></li></ul></li><li class="sidebar-item__anchor" title="Deprecated context properties"><a href="/api/loaders/#deprecated-context-properties">Deprecated context properties</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="this.debug"><a href="/api/loaders/#thisdebug">this.debug</a></li><li class="sidebar-item__anchor" title="this.inputValue"><a href="/api/loaders/#thisinputvalue">this.inputValue</a></li><li class="sidebar-item__anchor" title="this.minimize"><a href="/api/loaders/#thisminimize">this.minimize</a></li><li class="sidebar-item__anchor" title="this.value"><a href="/api/loaders/#thisvalue">this.value</a></li><li class="sidebar-item__anchor" title="this._module"><a href="/api/loaders/#this_module">this._module</a></li></ul></li><li class="sidebar-item__anchor" title="Error Reporting"><a href="/api/loaders/#error-reporting">Error Reporting</a></li><li class="sidebar-item__anchor" title="Inline matchResource"><a href="/api/loaders/#inline-matchresource">Inline matchResource</a></li><li class="sidebar-item__anchor" title="Logging"><a href="/api/loaders/#logging">Logging</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/logging/">Logger Interface</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Examples of how to get and use webpack logger in loaders and plugins"><a href="/api/logging/#examples-of-how-to-get-and-use-webpack-logger-in-loaders-and-plugins">Examples of how to get and use webpack logger in loaders and plugins</a></li><li class="sidebar-item__anchor" title="Logger methods"><a href="/api/logging/#logger-methods">Logger methods</a></li><li class="sidebar-item__anchor" title="Runtime Logger API"><a href="/api/logging/#runtime-logger-api">Runtime Logger API</a></li></ul></div></div><div><h4 class="sidebar__group">Modules</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/module-methods/">Module Methods</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ES6 (Recommended)"><a href="/api/module-methods/#es6-recommended">ES6 (Recommended)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="import"><a href="/api/module-methods/#import">import</a></li><li class="sidebar-item__anchor" title="export"><a href="/api/module-methods/#export">export</a></li><li class="sidebar-item__anchor" title="import()"><a href="/api/module-methods/#import-1">import()</a></li><li class="sidebar-item__anchor" title="Dynamic expressions in import()"><a href="/api/module-methods/#dynamic-expressions-in-import">Dynamic expressions in import()</a></li></ul></li><li class="sidebar-item__anchor" title="CommonJS"><a href="/api/module-methods/#commonjs">CommonJS</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="require"><a href="/api/module-methods/#require">require</a></li><li class="sidebar-item__anchor" title="require.resolve"><a href="/api/module-methods/#requireresolve">require.resolve</a></li><li class="sidebar-item__anchor" title="require.cache"><a href="/api/module-methods/#requirecache">require.cache</a></li><li class="sidebar-item__anchor" title="require.ensure"><a href="/api/module-methods/#requireensure">require.ensure</a></li></ul></li><li class="sidebar-item__anchor" title="AMD"><a href="/api/module-methods/#amd">AMD</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="define (with factory)"><a href="/api/module-methods/#define-with-factory">define (with factory)</a></li><li class="sidebar-item__anchor" title="define (with value)"><a href="/api/module-methods/#define-with-value">define (with value)</a></li><li class="sidebar-item__anchor" title="require (amd-version)"><a href="/api/module-methods/#require-amd-version">require (amd-version)</a></li></ul></li><li class="sidebar-item__anchor" title="Labeled Modules"><a href="/api/module-methods/#labeled-modules">Labeled Modules</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="export label"><a href="/api/module-methods/#export-label">export label</a></li><li class="sidebar-item__anchor" title="require label"><a href="/api/module-methods/#require-label">require label</a></li></ul></li><li class="sidebar-item__anchor" title="Webpack"><a href="/api/module-methods/#webpack">Webpack</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="require.context"><a href="/api/module-methods/#requirecontext">require.context</a></li><li class="sidebar-item__anchor" title="require.include"><a href="/api/module-methods/#requireinclude">require.include</a></li><li class="sidebar-item__anchor" title="require.resolveWeak"><a href="/api/module-methods/#requireresolveweak">require.resolveWeak</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/module-variables/">Module Variables</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="module.loaded (NodeJS)"><a href="/api/module-variables/#moduleloaded-nodejs">module.loaded (NodeJS)</a></li><li class="sidebar-item__anchor" title="module.hot (webpack-specific)"><a href="/api/module-variables/#modulehot-webpack-specific">module.hot (webpack-specific)</a></li><li class="sidebar-item__anchor" title="module.id (CommonJS)"><a href="/api/module-variables/#moduleid-commonjs">module.id (CommonJS)</a></li><li class="sidebar-item__anchor" title="module.exports (CommonJS)"><a href="/api/module-variables/#moduleexports-commonjs">module.exports (CommonJS)</a></li><li class="sidebar-item__anchor" title="exports (CommonJS)"><a href="/api/module-variables/#exports-commonjs">exports (CommonJS)</a></li><li class="sidebar-item__anchor" title="global (NodeJS)"><a href="/api/module-variables/#global-nodejs">global (NodeJS)</a></li><li class="sidebar-item__anchor" title="__dirname (NodeJS)"><a href="/api/module-variables/#__dirname-nodejs">__dirname (NodeJS)</a></li><li class="sidebar-item__anchor" title="import.meta.url"><a href="/api/module-variables/#importmetaurl">import.meta.url</a></li><li class="sidebar-item__anchor" title="import.meta.webpack"><a href="/api/module-variables/#importmetawebpack">import.meta.webpack</a></li><li class="sidebar-item__anchor" title="import.meta.webpackHot"><a href="/api/module-variables/#importmetawebpackhot">import.meta.webpackHot</a></li><li class="sidebar-item__anchor" title="__filename (NodeJS)"><a href="/api/module-variables/#__filename-nodejs">__filename (NodeJS)</a></li><li class="sidebar-item__anchor" title="__resourceQuery (webpack-specific)"><a href="/api/module-variables/#__resourcequery-webpack-specific">__resourceQuery (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_public_path__ (webpack-specific)"><a href="/api/module-variables/#__webpack_public_path__-webpack-specific">__webpack_public_path__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_require__ (webpack-specific)"><a href="/api/module-variables/#__webpack_require__-webpack-specific">__webpack_require__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_chunk_load__ (webpack-specific)"><a href="/api/module-variables/#__webpack_chunk_load__-webpack-specific">__webpack_chunk_load__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_modules__ (webpack-specific)"><a href="/api/module-variables/#__webpack_modules__-webpack-specific">__webpack_modules__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_hash__ (webpack-specific)"><a href="/api/module-variables/#__webpack_hash__-webpack-specific">__webpack_hash__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__non_webpack_require__ (webpack-specific)"><a href="/api/module-variables/#__non_webpack_require__-webpack-specific">__non_webpack_require__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_exports_info__ (webpack-specific)"><a href="/api/module-variables/#__webpack_exports_info__-webpack-specific">__webpack_exports_info__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_is_included__ (webpack-specific)"><a href="/api/module-variables/#__webpack_is_included__-webpack-specific">__webpack_is_included__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_base_uri__ (webpack-specific)"><a href="/api/module-variables/#__webpack_base_uri__-webpack-specific">__webpack_base_uri__ (webpack-specific)</a></li><li class="sidebar-item__anchor" title="__webpack_runtime_id__"><a href="/api/module-variables/#__webpack_runtime_id__">__webpack_runtime_id__</a></li><li class="sidebar-item__anchor" title="DEBUG (webpack-specific)"><a href="/api/module-variables/#debug-webpack-specific">DEBUG (webpack-specific)</a></li></ul></div></div><div><h4 class="sidebar__group">Objects</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/compilation-object/">Compilation Object</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="compilation object methods"><a href="/api/compilation-object/#compilation-object-methods">compilation object methods</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="getStats"><a href="/api/compilation-object/#getstats">getStats</a></li><li class="sidebar-item__anchor" title="addModule"><a href="/api/compilation-object/#addmodule">addModule</a></li><li class="sidebar-item__anchor" title="getModule"><a href="/api/compilation-object/#getmodule">getModule</a></li><li class="sidebar-item__anchor" title="findModule"><a href="/api/compilation-object/#findmodule">findModule</a></li><li class="sidebar-item__anchor" title="buildModule"><a href="/api/compilation-object/#buildmodule">buildModule</a></li><li class="sidebar-item__anchor" title="processModuleDependencies"><a href="/api/compilation-object/#processmoduledependencies">processModuleDependencies</a></li><li class="sidebar-item__anchor" title="addEntry"><a href="/api/compilation-object/#addentry">addEntry</a></li><li class="sidebar-item__anchor" title="rebuildModule"><a href="/api/compilation-object/#rebuildmodule">rebuildModule</a></li><li class="sidebar-item__anchor" title="finish"><a href="/api/compilation-object/#finish">finish</a></li><li class="sidebar-item__anchor" title="seal"><a href="/api/compilation-object/#seal">seal</a></li><li class="sidebar-item__anchor" title="unseal"><a href="/api/compilation-object/#unseal">unseal</a></li><li class="sidebar-item__anchor" title="reportDependencyErrorsAndWarnings"><a href="/api/compilation-object/#reportdependencyerrorsandwarnings">reportDependencyErrorsAndWarnings</a></li><li class="sidebar-item__anchor" title="addChunkInGroup"><a href="/api/compilation-object/#addchunkingroup">addChunkInGroup</a></li><li class="sidebar-item__anchor" title="addChunk"><a href="/api/compilation-object/#addchunk">addChunk</a></li><li class="sidebar-item__anchor" title="assignDepth"><a href="/api/compilation-object/#assigndepth">assignDepth</a></li><li class="sidebar-item__anchor" title="getDependencyReference"><a href="/api/compilation-object/#getdependencyreference">getDependencyReference</a></li><li class="sidebar-item__anchor" title="processDependenciesBlocksForChunkGroups"><a href="/api/compilation-object/#processdependenciesblocksforchunkgroups">processDependenciesBlocksForChunkGroups</a></li><li class="sidebar-item__anchor" title="removeReasonsOfDependencyBlock"><a href="/api/compilation-object/#removereasonsofdependencyblock">removeReasonsOfDependencyBlock</a></li><li class="sidebar-item__anchor" title="patchChunksAfterReasonRemoval"><a href="/api/compilation-object/#patchchunksafterreasonremoval">patchChunksAfterReasonRemoval</a></li><li class="sidebar-item__anchor" title="removeChunkFromDependencies"><a href="/api/compilation-object/#removechunkfromdependencies">removeChunkFromDependencies</a></li><li class="sidebar-item__anchor" title="sortItemsWithModuleIds"><a href="/api/compilation-object/#sortitemswithmoduleids">sortItemsWithModuleIds</a></li><li class="sidebar-item__anchor" title="sortItemsWithChunkIds"><a href="/api/compilation-object/#sortitemswithchunkids">sortItemsWithChunkIds</a></li><li class="sidebar-item__anchor" title="summarizeDependencies"><a href="/api/compilation-object/#summarizedependencies">summarizeDependencies</a></li><li class="sidebar-item__anchor" title="createHash"><a href="/api/compilation-object/#createhash">createHash</a></li><li class="sidebar-item__anchor" title="createModuleAssets"><a href="/api/compilation-object/#createmoduleassets">createModuleAssets</a></li><li class="sidebar-item__anchor" title="createChunkAssets"><a href="/api/compilation-object/#createchunkassets">createChunkAssets</a></li><li class="sidebar-item__anchor" title="getPath"><a href="/api/compilation-object/#getpath">getPath</a></li><li class="sidebar-item__anchor" title="getPathWithInfo"><a href="/api/compilation-object/#getpathwithinfo">getPathWithInfo</a></li><li class="sidebar-item__anchor" title="createChildCompiler"><a href="/api/compilation-object/#createchildcompiler">createChildCompiler</a></li><li class="sidebar-item__anchor" title="checkConstraints"><a href="/api/compilation-object/#checkconstraints">checkConstraints</a></li><li class="sidebar-item__anchor" title="emitAsset"><a href="/api/compilation-object/#emitasset">emitAsset</a></li><li class="sidebar-item__anchor" title="updateAsset"><a href="/api/compilation-object/#updateasset">updateAsset</a></li><li class="sidebar-item__anchor" title="deleteAsset"><a href="/api/compilation-object/#deleteasset">deleteAsset</a></li><li class="sidebar-item__anchor" title="getAssets"><a href="/api/compilation-object/#getassets">getAssets</a></li><li class="sidebar-item__anchor" title="getAsset"><a href="/api/compilation-object/#getasset">getAsset</a></li></ul></li></ul></div></div><div><h4 class="sidebar__group">Plugins</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/compiler-hooks/">Compiler Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Watching"><a href="/api/compiler-hooks/#watching">Watching</a></li><li class="sidebar-item__anchor" title="Hooks"><a href="/api/compiler-hooks/#hooks">Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="environment"><a href="/api/compiler-hooks/#environment">environment</a></li><li class="sidebar-item__anchor" title="afterEnvironment"><a href="/api/compiler-hooks/#afterenvironment">afterEnvironment</a></li><li class="sidebar-item__anchor" title="entryOption"><a href="/api/compiler-hooks/#entryoption">entryOption</a></li><li class="sidebar-item__anchor" title="afterPlugins"><a href="/api/compiler-hooks/#afterplugins">afterPlugins</a></li><li class="sidebar-item__anchor" title="afterResolvers"><a href="/api/compiler-hooks/#afterresolvers">afterResolvers</a></li><li class="sidebar-item__anchor" title="initialize"><a href="/api/compiler-hooks/#initialize">initialize</a></li><li class="sidebar-item__anchor" title="beforeRun"><a href="/api/compiler-hooks/#beforerun">beforeRun</a></li><li class="sidebar-item__anchor" title="run"><a href="/api/compiler-hooks/#run">run</a></li><li class="sidebar-item__anchor" title="watchRun"><a href="/api/compiler-hooks/#watchrun">watchRun</a></li><li class="sidebar-item__anchor" title="normalModuleFactory"><a href="/api/compiler-hooks/#normalmodulefactory">normalModuleFactory</a></li><li class="sidebar-item__anchor" title="contextModuleFactory"><a href="/api/compiler-hooks/#contextmodulefactory">contextModuleFactory</a></li><li class="sidebar-item__anchor" title="beforeCompile"><a href="/api/compiler-hooks/#beforecompile">beforeCompile</a></li><li class="sidebar-item__anchor" title="compile"><a href="/api/compiler-hooks/#compile">compile</a></li><li class="sidebar-item__anchor" title="thisCompilation"><a href="/api/compiler-hooks/#thiscompilation">thisCompilation</a></li><li class="sidebar-item__anchor" title="compilation"><a href="/api/compiler-hooks/#compilation">compilation</a></li><li class="sidebar-item__anchor" title="make"><a href="/api/compiler-hooks/#make">make</a></li><li class="sidebar-item__anchor" title="afterCompile"><a href="/api/compiler-hooks/#aftercompile">afterCompile</a></li><li class="sidebar-item__anchor" title="shouldEmit"><a href="/api/compiler-hooks/#shouldemit">shouldEmit</a></li><li class="sidebar-item__anchor" title="emit"><a href="/api/compiler-hooks/#emit">emit</a></li><li class="sidebar-item__anchor" title="afterEmit"><a href="/api/compiler-hooks/#afteremit">afterEmit</a></li><li class="sidebar-item__anchor" title="assetEmitted"><a href="/api/compiler-hooks/#assetemitted">assetEmitted</a></li><li class="sidebar-item__anchor" title="done"><a href="/api/compiler-hooks/#done">done</a></li><li class="sidebar-item__anchor" title="additionalPass"><a href="/api/compiler-hooks/#additionalpass">additionalPass</a></li><li class="sidebar-item__anchor" title="failed"><a href="/api/compiler-hooks/#failed">failed</a></li><li class="sidebar-item__anchor" title="invalid"><a href="/api/compiler-hooks/#invalid">invalid</a></li><li class="sidebar-item__anchor" title="watchClose"><a href="/api/compiler-hooks/#watchclose">watchClose</a></li><li class="sidebar-item__anchor" title="infrastructureLog"><a href="/api/compiler-hooks/#infrastructurelog">infrastructureLog</a></li><li class="sidebar-item__anchor" title="log"><a href="/api/compiler-hooks/#log">log</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/compilation-hooks/">Compilation Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="buildModule"><a href="/api/compilation-hooks/#buildmodule">buildModule</a></li><li class="sidebar-item__anchor" title="rebuildModule"><a href="/api/compilation-hooks/#rebuildmodule">rebuildModule</a></li><li class="sidebar-item__anchor" title="failedModule"><a href="/api/compilation-hooks/#failedmodule">failedModule</a></li><li class="sidebar-item__anchor" title="succeedModule"><a href="/api/compilation-hooks/#succeedmodule">succeedModule</a></li><li class="sidebar-item__anchor" title="finishModules"><a href="/api/compilation-hooks/#finishmodules">finishModules</a></li><li class="sidebar-item__anchor" title="finishRebuildingModule"><a href="/api/compilation-hooks/#finishrebuildingmodule">finishRebuildingModule</a></li><li class="sidebar-item__anchor" title="seal"><a href="/api/compilation-hooks/#seal">seal</a></li><li class="sidebar-item__anchor" title="unseal"><a href="/api/compilation-hooks/#unseal">unseal</a></li><li class="sidebar-item__anchor" title="optimizeDependencies"><a href="/api/compilation-hooks/#optimizedependencies">optimizeDependencies</a></li><li class="sidebar-item__anchor" title="afterOptimizeDependencies"><a href="/api/compilation-hooks/#afteroptimizedependencies">afterOptimizeDependencies</a></li><li class="sidebar-item__anchor" title="optimize"><a href="/api/compilation-hooks/#optimize">optimize</a></li><li class="sidebar-item__anchor" title="optimizeModules"><a href="/api/compilation-hooks/#optimizemodules">optimizeModules</a></li><li class="sidebar-item__anchor" title="afterOptimizeModules"><a href="/api/compilation-hooks/#afteroptimizemodules">afterOptimizeModules</a></li><li class="sidebar-item__anchor" title="optimizeChunks"><a href="/api/compilation-hooks/#optimizechunks">optimizeChunks</a></li><li class="sidebar-item__anchor" title="afterOptimizeChunks"><a href="/api/compilation-hooks/#afteroptimizechunks">afterOptimizeChunks</a></li><li class="sidebar-item__anchor" title="optimizeTree"><a href="/api/compilation-hooks/#optimizetree">optimizeTree</a></li><li class="sidebar-item__anchor" title="afterOptimizeTree"><a href="/api/compilation-hooks/#afteroptimizetree">afterOptimizeTree</a></li><li class="sidebar-item__anchor" title="optimizeChunkModules"><a href="/api/compilation-hooks/#optimizechunkmodules">optimizeChunkModules</a></li><li class="sidebar-item__anchor" title="afterOptimizeChunkModules"><a href="/api/compilation-hooks/#afteroptimizechunkmodules">afterOptimizeChunkModules</a></li><li class="sidebar-item__anchor" title="shouldRecord"><a href="/api/compilation-hooks/#shouldrecord">shouldRecord</a></li><li class="sidebar-item__anchor" title="reviveModules"><a href="/api/compilation-hooks/#revivemodules">reviveModules</a></li><li class="sidebar-item__anchor" title="beforeModuleIds"><a href="/api/compilation-hooks/#beforemoduleids">beforeModuleIds</a></li><li class="sidebar-item__anchor" title="moduleIds"><a href="/api/compilation-hooks/#moduleids">moduleIds</a></li><li class="sidebar-item__anchor" title="optimizeModuleIds"><a href="/api/compilation-hooks/#optimizemoduleids">optimizeModuleIds</a></li><li class="sidebar-item__anchor" title="afterOptimizeModuleIds"><a href="/api/compilation-hooks/#afteroptimizemoduleids">afterOptimizeModuleIds</a></li><li class="sidebar-item__anchor" title="reviveChunks"><a href="/api/compilation-hooks/#revivechunks">reviveChunks</a></li><li class="sidebar-item__anchor" title="beforeChunkIds"><a href="/api/compilation-hooks/#beforechunkids">beforeChunkIds</a></li><li class="sidebar-item__anchor" title="chunkIds"><a href="/api/compilation-hooks/#chunkids">chunkIds</a></li><li class="sidebar-item__anchor" title="optimizeChunkIds"><a href="/api/compilation-hooks/#optimizechunkids">optimizeChunkIds</a></li><li class="sidebar-item__anchor" title="afterOptimizeChunkIds"><a href="/api/compilation-hooks/#afteroptimizechunkids">afterOptimizeChunkIds</a></li><li class="sidebar-item__anchor" title="recordModules"><a href="/api/compilation-hooks/#recordmodules">recordModules</a></li><li class="sidebar-item__anchor" title="recordChunks"><a href="/api/compilation-hooks/#recordchunks">recordChunks</a></li><li class="sidebar-item__anchor" title="beforeModuleHash"><a href="/api/compilation-hooks/#beforemodulehash">beforeModuleHash</a></li><li class="sidebar-item__anchor" title="afterModuleHash"><a href="/api/compilation-hooks/#aftermodulehash">afterModuleHash</a></li><li class="sidebar-item__anchor" title="beforeHash"><a href="/api/compilation-hooks/#beforehash">beforeHash</a></li><li class="sidebar-item__anchor" title="afterHash"><a href="/api/compilation-hooks/#afterhash">afterHash</a></li><li class="sidebar-item__anchor" title="recordHash"><a href="/api/compilation-hooks/#recordhash">recordHash</a></li><li class="sidebar-item__anchor" title="record"><a href="/api/compilation-hooks/#record">record</a></li><li class="sidebar-item__anchor" title="beforeModuleAssets"><a href="/api/compilation-hooks/#beforemoduleassets">beforeModuleAssets</a></li><li class="sidebar-item__anchor" title="additionalChunkAssets"><a href="/api/compilation-hooks/#additionalchunkassets">additionalChunkAssets</a></li><li class="sidebar-item__anchor" title="shouldGenerateChunkAssets"><a href="/api/compilation-hooks/#shouldgeneratechunkassets">shouldGenerateChunkAssets</a></li><li class="sidebar-item__anchor" title="beforeChunkAssets"><a href="/api/compilation-hooks/#beforechunkassets">beforeChunkAssets</a></li><li class="sidebar-item__anchor" title="additionalAssets"><a href="/api/compilation-hooks/#additionalassets">additionalAssets</a></li><li class="sidebar-item__anchor" title="optimizeChunkAssets"><a href="/api/compilation-hooks/#optimizechunkassets">optimizeChunkAssets</a></li><li class="sidebar-item__anchor" title="afterOptimizeChunkAssets"><a href="/api/compilation-hooks/#afteroptimizechunkassets">afterOptimizeChunkAssets</a></li><li class="sidebar-item__anchor" title="optimizeAssets"><a href="/api/compilation-hooks/#optimizeassets">optimizeAssets</a></li><li class="sidebar-item__anchor" title="afterOptimizeAssets"><a href="/api/compilation-hooks/#afteroptimizeassets">afterOptimizeAssets</a></li><li class="sidebar-item__anchor" title="processAssets"><a href="/api/compilation-hooks/#processassets">processAssets</a></li><li class="sidebar-item__anchor" title="afterProcessAssets"><a href="/api/compilation-hooks/#afterprocessassets">afterProcessAssets</a></li><li class="sidebar-item__anchor" title="needAdditionalSeal"><a href="/api/compilation-hooks/#needadditionalseal">needAdditionalSeal</a></li><li class="sidebar-item__anchor" title="afterSeal"><a href="/api/compilation-hooks/#afterseal">afterSeal</a></li><li class="sidebar-item__anchor" title="chunkHash"><a href="/api/compilation-hooks/#chunkhash">chunkHash</a></li><li class="sidebar-item__anchor" title="moduleAsset"><a href="/api/compilation-hooks/#moduleasset">moduleAsset</a></li><li class="sidebar-item__anchor" title="chunkAsset"><a href="/api/compilation-hooks/#chunkasset">chunkAsset</a></li><li class="sidebar-item__anchor" title="assetPath"><a href="/api/compilation-hooks/#assetpath">assetPath</a></li><li class="sidebar-item__anchor" title="needAdditionalPass"><a href="/api/compilation-hooks/#needadditionalpass">needAdditionalPass</a></li><li class="sidebar-item__anchor" title="childCompiler"><a href="/api/compilation-hooks/#childcompiler">childCompiler</a></li><li class="sidebar-item__anchor" title="normalModuleLoader"><a href="/api/compilation-hooks/#normalmoduleloader">normalModuleLoader</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/contextmodulefactory-hooks/">ContextModuleFactory Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="beforeResolve"><a href="/api/contextmodulefactory-hooks/#beforeresolve">beforeResolve</a></li><li class="sidebar-item__anchor" title="afterResolve"><a href="/api/contextmodulefactory-hooks/#afterresolve">afterResolve</a></li><li class="sidebar-item__anchor" title="contextModuleFiles"><a href="/api/contextmodulefactory-hooks/#contextmodulefiles">contextModuleFiles</a></li><li class="sidebar-item__anchor" title="alternativeRequests"><a href="/api/contextmodulefactory-hooks/#alternativerequests">alternativeRequests</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/parser/">JavascriptParser Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Hooks"><a href="/api/parser/#hooks">Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="evaluateTypeof"><a href="/api/parser/#evaluatetypeof">evaluateTypeof</a></li><li class="sidebar-item__anchor" title="evaluate"><a href="/api/parser/#evaluate">evaluate</a></li><li class="sidebar-item__anchor" title="evaluateIdentifier"><a href="/api/parser/#evaluateidentifier">evaluateIdentifier</a></li><li class="sidebar-item__anchor" title="evaluateDefinedIdentifier"><a href="/api/parser/#evaluatedefinedidentifier">evaluateDefinedIdentifier</a></li><li class="sidebar-item__anchor" title="evaluateCallExpressionMember"><a href="/api/parser/#evaluatecallexpressionmember">evaluateCallExpressionMember</a></li><li class="sidebar-item__anchor" title="statement"><a href="/api/parser/#statement">statement</a></li><li class="sidebar-item__anchor" title="statementIf"><a href="/api/parser/#statementif">statementIf</a></li><li class="sidebar-item__anchor" title="label"><a href="/api/parser/#label">label</a></li><li class="sidebar-item__anchor" title="import"><a href="/api/parser/#import">import</a></li><li class="sidebar-item__anchor" title="importSpecifier"><a href="/api/parser/#importspecifier">importSpecifier</a></li><li class="sidebar-item__anchor" title="export"><a href="/api/parser/#export">export</a></li><li class="sidebar-item__anchor" title="exportImport"><a href="/api/parser/#exportimport">exportImport</a></li><li class="sidebar-item__anchor" title="exportDeclaration"><a href="/api/parser/#exportdeclaration">exportDeclaration</a></li><li class="sidebar-item__anchor" title="exportExpression"><a href="/api/parser/#exportexpression">exportExpression</a></li><li class="sidebar-item__anchor" title="exportSpecifier"><a href="/api/parser/#exportspecifier">exportSpecifier</a></li><li class="sidebar-item__anchor" title="exportImportSpecifier"><a href="/api/parser/#exportimportspecifier">exportImportSpecifier</a></li><li class="sidebar-item__anchor" title="varDeclaration"><a href="/api/parser/#vardeclaration">varDeclaration</a></li><li class="sidebar-item__anchor" title="varDeclarationLet"><a href="/api/parser/#vardeclarationlet">varDeclarationLet</a></li><li class="sidebar-item__anchor" title="varDeclarationConst"><a href="/api/parser/#vardeclarationconst">varDeclarationConst</a></li><li class="sidebar-item__anchor" title="varDeclarationVar"><a href="/api/parser/#vardeclarationvar">varDeclarationVar</a></li><li class="sidebar-item__anchor" title="canRename"><a href="/api/parser/#canrename">canRename</a></li><li class="sidebar-item__anchor" title="rename"><a href="/api/parser/#rename">rename</a></li><li class="sidebar-item__anchor" title="assigned"><a href="/api/parser/#assigned">assigned</a></li><li class="sidebar-item__anchor" title="assign"><a href="/api/parser/#assign">assign</a></li><li class="sidebar-item__anchor" title="typeof"><a href="/api/parser/#typeof">typeof</a></li><li class="sidebar-item__anchor" title="call"><a href="/api/parser/#call">call</a></li><li class="sidebar-item__anchor" title="callMemberChain"><a href="/api/parser/#callmemberchain">callMemberChain</a></li><li class="sidebar-item__anchor" title="new"><a href="/api/parser/#new">new</a></li><li class="sidebar-item__anchor" title="expression"><a href="/api/parser/#expression">expression</a></li><li class="sidebar-item__anchor" title="expressionConditionalOperator"><a href="/api/parser/#expressionconditionaloperator">expressionConditionalOperator</a></li><li class="sidebar-item__anchor" title="program"><a href="/api/parser/#program">program</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/normalmodulefactory-hooks/">NormalModuleFactory Hooks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="beforeResolve"><a href="/api/normalmodulefactory-hooks/#beforeresolve">beforeResolve</a></li><li class="sidebar-item__anchor" title="factorize"><a href="/api/normalmodulefactory-hooks/#factorize">factorize</a></li><li class="sidebar-item__anchor" title="resolve"><a href="/api/normalmodulefactory-hooks/#resolve">resolve</a></li><li class="sidebar-item__anchor" title="resolveForScheme"><a href="/api/normalmodulefactory-hooks/#resolveforscheme">resolveForScheme</a></li><li class="sidebar-item__anchor" title="afterResolve"><a href="/api/normalmodulefactory-hooks/#afterresolve">afterResolve</a></li><li class="sidebar-item__anchor" title="createModule"><a href="/api/normalmodulefactory-hooks/#createmodule">createModule</a></li><li class="sidebar-item__anchor" title="module"><a href="/api/normalmodulefactory-hooks/#module">module</a></li><li class="sidebar-item__anchor" title="createParser"><a href="/api/normalmodulefactory-hooks/#createparser">createParser</a></li><li class="sidebar-item__anchor" title="parser"><a href="/api/normalmodulefactory-hooks/#parser">parser</a></li><li class="sidebar-item__anchor" title="createGenerator"><a href="/api/normalmodulefactory-hooks/#creategenerator">createGenerator</a></li><li class="sidebar-item__anchor" title="generator"><a href="/api/normalmodulefactory-hooks/#generator">generator</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/plugins/">Plugin API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Tapable"><a href="/api/plugins/#tapable">Tapable</a></li><li class="sidebar-item__anchor" title="Plugin Types"><a href="/api/plugins/#plugin-types">Plugin Types</a></li><li class="sidebar-item__anchor" title="Custom Hooks"><a href="/api/plugins/#custom-hooks">Custom Hooks</a></li><li class="sidebar-item__anchor" title="Reporting Progress"><a href="/api/plugins/#reporting-progress">Reporting Progress</a></li><li class="sidebar-item__anchor" title="Logging"><a href="/api/plugins/#logging">Logging</a></li><li class="sidebar-item__anchor" title="Next Steps"><a href="/api/plugins/#next-steps">Next Steps</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/api/resolvers/">Resolvers</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Types"><a href="/api/resolvers/#types">Types</a></li><li class="sidebar-item__anchor" title="Configuration Options"><a href="/api/resolvers/#configuration-options">Configuration Options</a></li></ul></div></div></div></nav><section class="page"><div class="markdown"><h1>Printable</h1><div><h1 id="introduction">Introduction<a href="#introduction" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>A variety of interfaces are available to customize the compilation process. Some features overlap between interfaces, e.g. a configuration option may be available via a CLI flag, while others exist only through a single interface. The following high-level information should get you started.</p> <h2 id="cli">CLI<a href="#cli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The Command Line Interface (CLI) to configure and interact with your build. It is especially useful in the case of early prototyping and profiling. For the most part, the CLI is used to kick off the process using a configuration file and a few flags (e.g. <code>--env</code>).</p> <p><a href="/api/cli">Learn more about the CLI!</a></p> <h2 id="module">Module<a href="#module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>When processing modules with webpack, it is important to understand the different module syntaxes – specifically the <a href="/api/module-methods">methods</a> and <a href="/api/module-variables">variables</a> – that are supported.</p> <p><a href="/api/module-methods">Learn more about modules!</a></p> <h2 id="node">Node<a href="#node" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>While most users can get away with using the CLI along with a configuration file, more fine-grained control of the compilation can be achieved via the Node interface. This includes passing multiple configurations, programmatically running or watching, and collecting stats.</p> <p><a href="/api/node">Learn more about the Node API!</a></p> <h2 id="loaders">Loaders<a href="#loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Loaders are transformations that are applied to the source code of a module. They are written as functions that accept source code as a parameter and return a new version of that code with transformations applied.</p> <p><a href="/api/loaders">Learn more about loaders!</a></p> <h2 id="plugins">Plugins<a href="#plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin interface allows users to tap directly into the compilation process. Plugins can register handlers on lifecycle hooks that run at different points throughout a compilation. When each hook is executed, the plugin will have full access to the current state of the compilation.</p> <p><a href="/api/plugins">Learn more about plugins!</a></p> <h1 id="command-line-interface">Command Line Interface<a href="#command-line-interface" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>For proper usage and easier distribution of this configuration, webpack can be configured with <code>webpack.config.js</code>. Any parameters sent to the CLI will map to a corresponding parameter in the configuration file.</p> <p>Read the <a href="/guides/installation">installation guide</a> if you don't already have webpack and CLI installed.</p> <h2 id="commands">Commands<a href="#commands" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack-cli offers a variety of commands to make working with webpack easier. By default webpack ships with</p> <table> <thead> <tr> <th>Command</th> <th>Usage</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Command"><span><code>build</code></span></td> <td data-th="Usage"><span><code>build|bundle|b [entries...] [options]</code></span></td> <td data-th="Description"><span>Run webpack (default command, can be omitted).</span></td> </tr> <tr> <td data-th="Command"><span><a href="#configtest"><code>configtest</code></a></span></td> <td data-th="Usage"><span><code>configtest|t [config-path]</code></span></td> <td data-th="Description"><span>Validate a webpack configuration.</span></td> </tr> <tr> <td data-th="Command"><span><a href="#help"><code>help</code></a></span></td> <td data-th="Usage"><span><code>help|h [command] [option]</code></span></td> <td data-th="Description"><span>Display help for commands and options.</span></td> </tr> <tr> <td data-th="Command"><span><a href="#info"><code>info</code></a></span></td> <td data-th="Usage"><span><code>info|i [options]</code></span></td> <td data-th="Description"><span>Outputs information about your system.</span></td> </tr> <tr> <td data-th="Command"><span><a href="#init"><code>init</code></a></span></td> <td data-th="Usage"><span><code>init|create|c|new|n [generation-path] [options]</code></span></td> <td data-th="Description"><span>Initialize a new webpack project.</span></td> </tr> <tr> <td data-th="Command"><span><code>loader</code></span></td> <td data-th="Usage"><span><code>loader|l [output-path] [options]</code></span></td> <td data-th="Description"><span>Scaffold a loader.</span></td> </tr> <tr> <td data-th="Command"><span><code>plugin</code></span></td> <td data-th="Usage"><span><code>plugin|p [output-path] [options]</code></span></td> <td data-th="Description"><span>Scaffold a plugin.</span></td> </tr> <tr> <td data-th="Command"><span><a href="/configuration/dev-server/"><code>serve</code></a></span></td> <td data-th="Usage"><span><code>serve|server|s [options]</code></span></td> <td data-th="Description"><span>Run the <code>webpack-dev-server</code>.</span></td> </tr> <tr> <td data-th="Command"><span><a href="#version"><code>version</code></a></span></td> <td data-th="Usage"><span><code>version|v [commands...]</code></span></td> <td data-th="Description"><span>Output the version number of <code>webpack</code>, <code>webpack-cli</code> and <code>webpack-dev-server</code>.</span></td> </tr> <tr> <td data-th="Command"><span><code>watch</code></span></td> <td data-th="Usage"><span><code>watch|w [entries...] [options]</code></span></td> <td data-th="Description"><span>Run webpack and watch for files changes.</span></td> </tr> </tbody> </table> <h3 id="init">Init<a href="#init" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Used to initialize a new webpack project.</p> <pre><code class="hljs language-bash">npx webpack init <span class="token punctuation">[</span>generation-path<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span></code></pre> <p><strong>example</strong></p> <pre><code class="hljs language-bash">npx webpack init ./my-app --force --template<span class="token operator">=</span>default</code></pre> <h4 id="generation-path">Generation Path<a href="#generation-path" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Location of where to generate the configuration. Defaults to <code>process.cwd()</code>.</p> <h4 id="options">Options<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong><code>-t</code>, <code>--template</code></strong></p> <p><code>string = 'default'</code></p> <p>Name of template to generate.</p> <p><strong><code>-f</code>, <code>--force</code></strong></p> <p><code>boolean</code></p> <p>To generate a project without questions. When enabled, default answer for each question will be used.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>See the <a href="https://github.com/webpack/webpack-cli/blob/master/packages/generators/INIT.md">full documentation of <code>webpack init</code> command</a>.</p></aside> <h3 id="info">Info<a href="#info" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Outputs information about your system.</p> <pre><code class="hljs language-bash">npx webpack info <span class="token punctuation">[</span>options<span class="token punctuation">]</span></code></pre> <p><strong>example</strong></p> <pre><code class="hljs language-bash">npx webpack info --output<span class="token operator">=</span>json</code></pre> <h4 id="options-for-info">Options for info<a href="#options-for-info" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong><code>-o</code>, <code>--output</code></strong></p> <p><code>string : 'json' | 'markdown'</code></p> <p>To get the output in a specified format.</p> <h3 id="configtest">Configtest<a href="#configtest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Validate a webpack configuration.</p> <pre><code class="hljs language-bash">npx webpack configtest <span class="token punctuation">[</span>config-path<span class="token punctuation">]</span></code></pre> <p><strong>example</strong></p> <pre><code class="hljs language-bash">npx webpack configtest ./webpack.config.js</code></pre> <h4 id="config-path">Config Path<a href="#config-path" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Path to your webpack configuration file. Defaults to <code>./webpack.config.js</code>.</p> <h2 id="flags">Flags<a href="#flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>By default webpack ships with the following flags:</p> <table> <thead> <tr> <th>Flag / Alias</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Flag / Alias"><span><a href="#entry"><code>--entry</code></a></span></td> <td data-th="Type"><span>string[]</span></td> <td data-th="Description"><span>The entry point(s) of your application e.g. <code>./src/main.js</code></span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#config"><code>--config, -c</code></a></span></td> <td data-th="Type"><span>string[]</span></td> <td data-th="Description"><span>Provide path to a webpack configuration file e.g. <code>./webpack.config.js</code></span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#config-name"><code>--config-name</code></a></span></td> <td data-th="Type"><span>string[]</span></td> <td data-th="Description"><span>Name of the configuration to use</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--name</code></span></td> <td data-th="Type"><span>string</span></td> <td data-th="Description"><span>Name of the configuration. Used when loading multiple configurations</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--color</code></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Enable colors on console</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#merge"><code>--merge, -m</code></a></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Merge two or more configurations using <code>webpack-merge</code></span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#env"><code>--env</code></a></span></td> <td data-th="Type"><span>string[]</span></td> <td data-th="Description"><span>Environment passed to the configuration when it is a function</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#node-env"><code>--node-env</code></a></span></td> <td data-th="Type"><span>string</span></td> <td data-th="Description"><span>Set <code>process.env.NODE_ENV</code> to the specified value</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#progress"><code>--progress</code></a></span></td> <td data-th="Type"><span>boolean, string</span></td> <td data-th="Description"><span>Print compilation progress during build</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#help"><code>--help</code></a></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Outputs list of supported flags and commands</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#output-path"><code>--output-path, -o</code></a></span></td> <td data-th="Type"><span>string</span></td> <td data-th="Description"><span>Output location of the file generated by webpack e.g. <code>./dist</code></span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--target, -t</code></span></td> <td data-th="Type"><span>string[]</span></td> <td data-th="Description"><span>Sets the build target</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--watch, -w</code></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Watch for file changes</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--watch-options-stdin</code></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Stop watching when stdin stream has ended</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--hot, -h</code></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Enables Hot Module Replacement</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--devtool, -d</code></span></td> <td data-th="Type"><span>string</span></td> <td data-th="Description"><span>Controls if and how source maps are generated.</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--prefetch</code></span></td> <td data-th="Type"><span>string</span></td> <td data-th="Description"><span>Prefetch this request</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#json"><code>--json, -j</code></a></span></td> <td data-th="Type"><span>boolean, string</span></td> <td data-th="Description"><span>Prints result as JSON or store it in a file</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--mode</code></span></td> <td data-th="Type"><span>string</span></td> <td data-th="Description"><span>Defines the mode to pass to webpack</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#version"><code>--version, -v</code></a></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>Get current version</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><code>--stats</code></span></td> <td data-th="Type"><span>boolean, string</span></td> <td data-th="Description"><span>It instructs webpack on how to treat the stats</span></td> </tr> <tr> <td data-th="Flag / Alias"><span><a href="#analyzing-bundle"><code>--analyze</code></a></span></td> <td data-th="Type"><span>boolean</span></td> <td data-th="Description"><span>It invokes <code>webpack-bundle-analyzer</code> plugin to get bundle information</span></td> </tr> </tbody> </table> <h3 id="negated-flags">Negated Flags<a href="#negated-flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th>Flag</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Flag"><span><code>--no-color</code></span></td> <td data-th="Description"><span>Disables any color on the console</span></td> </tr> <tr> <td data-th="Flag"><span><code>--no-hot</code></span></td> <td data-th="Description"><span>Disables hot reloading if you have it enabled via your config</span></td> </tr> <tr> <td data-th="Flag"><span><code>--no-stats</code></span></td> <td data-th="Description"><span>Disables any compilation stats emitted by webpack</span></td> </tr> <tr> <td data-th="Flag"><span><code>--no-watch</code></span></td> <td data-th="Description"><span>Do not watch for file changes</span></td> </tr> <tr> <td data-th="Flag"><span><code>--no-devtool</code></span></td> <td data-th="Description"><span>Do not generate source maps</span></td> </tr> <tr> <td data-th="Flag"><span><code>--no-watch-options-stdin</code></span></td> <td data-th="Description"><span>Do not stop watching when stdin stream has ended</span></td> </tr> </tbody> </table> <h3 id="core-flags">Core Flags<a href="#core-flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Starting CLI v4 and webpack v5, CLI imports the entire configuration schema from webpack core to allow tuning almost every configuration option from the command line.</p> <p><strong>Here's the list of all the core flags supported by webpack v5 with CLI v4 - <a href="https://github.com/webpack/webpack-cli/blob/master/OPTIONS.md">link</a></strong></p> <p>For example if you want to enable performance hints in your project you'd use <a href="https://webpack.js.org/configuration/performance/#performancehints">this</a> option in configuration, with core flags you can do -</p> <pre><code class="hljs language-bash">npx webpack --performance-hints warning</code></pre> <h2 id="usage">Usage<a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="with-configuration-file">With configuration file<a href="#with-configuration-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-bash">npx webpack <span class="token punctuation">[</span>--config webpack.config.js<span class="token punctuation">]</span></code></pre> <p>See <a href="/configuration">configuration</a> for the options in the configuration file.</p> <h3 id="without-configuration-file">Without configuration file<a href="#without-configuration-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-bash">npx webpack --entry <span class="token operator">&#x3C;</span>entry<span class="token operator">></span> --output-path <span class="token operator">&#x3C;</span>output-path<span class="token operator">></span></code></pre> <p><strong>example</strong></p> <pre><code class="hljs language-bash">npx webpack --entry ./first.js --entry ./second.js --output-path /build</code></pre> <h4 id="entry">entry<a href="#entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>A filename or a set of named filenames which act as the entry point to build your project. You can pass multiple entries (every entry is loaded on startup). Following are the multiple ways of specifying entry file(s) via CLI -</p> <pre><code class="hljs language-bash">npx webpack ./first-entry.js</code></pre> <pre><code class="hljs language-bash">npx webpack --entry ./first-entry.js</code></pre> <pre><code class="hljs language-bash">npx webpack ./first-entry.js ./other-entry.js</code></pre> <pre><code class="hljs language-bash">npx webpack --entry ./first-entry.js ./other-entry.js</code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Use <code>webpack [command] [entries...] [option]</code> syntax because some options can accept multiple values so <code>webpack --target node ./entry.js</code> means <code>target: ['node', './entry.js']</code></p></aside> <h4 id="output-path">output-path<a href="#output-path" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>A path for the bundled file to be saved in. It will be mapped to the configuration options <code>output.path</code>.</p> <p><strong>Example</strong></p> <p>If your project structure is as follows -</p> <pre><code class="hljs language-bash"><span class="token builtin class-name">.</span>
├── dist
├── index.html
└── src
    ├── index.js
    ├── index2.js
    └── others.js</code></pre> <pre><code class="hljs language-bash">npx webpack ./src/index.js --output-path dist</code></pre> <p>This will bundle your source code with entry as <code>index.js</code>, and the output bundle file will have a path of <code>dist</code>.</p> <pre><code class="hljs language-bash">asset main.js <span class="token number">142</span> bytes <span class="token punctuation">[</span>compared <span class="token keyword">for</span> emit<span class="token punctuation">]</span> <span class="token punctuation">[</span>minimized<span class="token punctuation">]</span> <span class="token punctuation">(</span>name: main<span class="token punctuation">)</span>
./src/index.js <span class="token number">30</span> bytes <span class="token punctuation">[</span>built<span class="token punctuation">]</span> <span class="token punctuation">[</span>code generated<span class="token punctuation">]</span>
./src/others.js <span class="token number">1</span> bytes <span class="token punctuation">[</span>built<span class="token punctuation">]</span> <span class="token punctuation">[</span>code generated<span class="token punctuation">]</span>
webpack <span class="token number">5.1</span>.0 compiled successfully <span class="token keyword">in</span> <span class="token number">187</span> ms</code></pre> <pre><code class="hljs language-bash">npx webpack ./src/index.js ./src/others2.js --output-path dist/</code></pre> <p>This will form the bundle with both the files as separate entry points.</p> <pre><code class="hljs language-bash">asset main.js <span class="token number">142</span> bytes <span class="token punctuation">[</span>compared <span class="token keyword">for</span> emit<span class="token punctuation">]</span> <span class="token punctuation">[</span>minimized<span class="token punctuation">]</span> <span class="token punctuation">(</span>name: main<span class="token punctuation">)</span>
./src/index.js <span class="token number">30</span> bytes <span class="token punctuation">[</span>built<span class="token punctuation">]</span> <span class="token punctuation">[</span>code generated<span class="token punctuation">]</span>
./src/others2.js <span class="token number">1</span> bytes <span class="token punctuation">[</span>built<span class="token punctuation">]</span> <span class="token punctuation">[</span>code generated<span class="token punctuation">]</span>
./src/others.js <span class="token number">1</span> bytes <span class="token punctuation">[</span>built<span class="token punctuation">]</span> <span class="token punctuation">[</span>code generated<span class="token punctuation">]</span>
webpack <span class="token number">5.1</span>.0 compiled successfully <span class="token keyword">in</span> <span class="token number">198</span> ms</code></pre> <h2 id="default-configurations">Default Configurations<a href="#default-configurations" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>CLI will look for some default configurations in the path of your project, here are the config files picked up by CLI.</p> <p>This is the lookup priority in increasing order</p> <blockquote> <p>example - config file lookup will be in order of .webpack/webpackfile > .webpack/webpack.config.js > webpack.config.js</p> </blockquote> <pre><code class="hljs language-txt">'webpack.config',
'.webpack/webpack.config',
'.webpack/webpackfile',
</code></pre> <h2 id="common-options">Common Options<a href="#common-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Note that Command Line Interface has a higher precedence for the arguments you use it with than your configuration file. For instance, if you pass <a href="/configuration/mode/#usage"><code>--mode="production"</code></a> to webpack CLI and your configuration file uses <code>development</code>, <code>production</code> will be used.</p></aside> <h3 id="help">help<a href="#help" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>List basic commands and flags available on the cli</strong></p> <p>Both <code>webpack help [command] [option]</code> and <code>webpack [command] --help</code> are valid to get help:</p> <pre><code class="hljs language-bash">npx webpack --help

<span class="token comment"># or</span>

npx webpack <span class="token builtin class-name">help</span></code></pre> <p><strong>List all supported commands and flags by cli</strong></p> <pre><code class="hljs language-bash">npx webpack --help<span class="token operator">=</span>verbose</code></pre> <p><strong>See help for a specific command or option</strong></p> <pre><code class="hljs language-bash">npx webpack <span class="token builtin class-name">help</span> --mode</code></pre> <h3 id="version">version<a href="#version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Show version of installed packages and sub-packages</strong></p> <p>To inspect the version of <code>webpack</code> and <code>webpack-cli</code> you are using, run the command:</p> <pre><code class="hljs language-bash">npx webpack --version

<span class="token comment"># or</span>

npx webpack version</code></pre> <p>This will output the following result:</p> <pre><code class="hljs language-bash">webpack <span class="token number">5.31</span>.2
webpack-cli <span class="token number">4.6</span>.0</code></pre> <p>It will output the version of <code>webpack-dev-server</code> as well if you have it installed:</p> <pre><code class="hljs language-bash">webpack <span class="token number">5.31</span>.2
webpack-cli <span class="token number">4.6</span>.0
webpack-dev-server <span class="token number">3.11</span>.2</code></pre> <p>To inspect the version of any <code>webpack-cli</code> sub-package (like <code>@webpack-cli/info</code>), run command similar to the following:</p> <pre><code class="hljs language-bash">npx webpack info --version</code></pre> <p>This will output the following result:</p> <pre><code class="hljs language-bash">@webpack-cli/info <span class="token number">1.2</span>.3
webpack <span class="token number">5.31</span>.2
webpack-cli <span class="token number">4.6</span>.0
webpack-dev-server <span class="token number">3.11</span>.2</code></pre> <h3 id="config">config<a href="#config" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Build source using a configuration file</strong></p> <p>Specify a different <a href="/configuration">configuration</a> file other than <code>webpack.config.js</code>, which is one of the defaults.</p> <pre><code class="hljs language-bash">npx webpack --config example.config.js</code></pre> <h3 id="config-name">config-name<a href="#config-name" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>In case your configuration file exports multiple configurations, you can use <code>--config-name</code> to specify which configuration to run.</p> <p>Consider the following <code>webpack.config.js</code>:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'./dist-first.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'first'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token string">'./src/first.js'</span><span class="token punctuation">,</span>
    mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'./dist-second.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'second'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token string">'./src/second.js'</span><span class="token punctuation">,</span>
    mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'./dist-third.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'third'</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token string">'./src/third.js'</span><span class="token punctuation">,</span>
    mode<span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
    stats<span class="token operator">:</span> <span class="token string">'verbose'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <p>To run only the <code>second</code> configuration:</p> <pre><code class="hljs language-bash">npx webpack --config-name second</code></pre> <p>You can also pass multiple values:</p> <pre><code class="hljs language-bash">npx webpack --config-name first --config-name second</code></pre> <h3 id="merge">merge<a href="#merge" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can merge two or more different webpack configurations with the help of <code>--merge</code>:</p> <pre><code class="hljs language-bash">npx webpack --config ./first.js --config ./second.js --merge</code></pre> <h3 id="json">json<a href="#json" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Print result of webpack as JSON</strong></p> <pre><code class="hljs language-bash">npx webpack --json</code></pre> <p><strong>If you want to store stats as json instead of printing it, you can use -</strong></p> <pre><code class="hljs language-bash">npx webpack --json stats.json</code></pre> <p>In every other case, webpack prints out a set of stats showing bundle, chunk and timing details. Using this option, the output can be a JSON object. This response is accepted by webpack's <a href="https://webpack.github.io/analyse/">analyse tool</a>, or chrisbateman's <a href="https://chrisbateman.github.io/webpack-visualizer/">webpack-visualizer</a>, or th0r's <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer">webpack-bundle-analyzer</a>. The analyse tool will take in the JSON and provide all the details of the build in graphical form.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>See the <a href="/api/stats">stats data api</a> to read more about the stats generated here.</p></aside> <h2 id="environment-options">Environment Options<a href="#environment-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>When the webpack configuration <a href="/configuration/configuration-types/#exporting-a-function">exports a function</a>, an "environment" may be passed to it.</p> <h3 id="env">env<a href="#env" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-bash">npx webpack --env production    <span class="token comment"># env.production = true</span></code></pre> <p>The <code>--env</code> argument accepts multiple values:</p> <table> <thead> <tr> <th>Invocation</th> <th>Resulting environment</th> </tr> </thead> <tbody> <tr> <td data-th="Invocation"><span><code>npx webpack --env prod</code></span></td> <td data-th="Resulting environment"><span><code>{ prod: true }</code></span></td> </tr> <tr> <td data-th="Invocation"><span><code>npx webpack --env prod --env min</code></span></td> <td data-th="Resulting environment"><span><code>{ prod: true, min: true }</code></span></td> </tr> <tr> <td data-th="Invocation"><span><code>npx webpack --env platform=app --env production</code></span></td> <td data-th="Resulting environment"><span><code>{ platform: "app", production: true }</code></span></td> </tr> <tr> <td data-th="Invocation"><span><code>npx webpack --env foo=bar=app</code></span></td> <td data-th="Resulting environment"><span><code>{ foo: "bar=app"}</code></span></td> </tr> <tr> <td data-th="Invocation"><span><code>npx webpack --env app.platform="staging" --env app.name="test"</code></span></td> <td data-th="Resulting environment"><span><code>{ app: { platform: "staging", name: "test" }</code></span></td> </tr> </tbody> </table> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>See the <a href="/guides/environment-variables/">environment variables</a> guide for more information on its usage.</p></aside> <p>In addition to the customized <code>env</code> showed above, there are some built-in ones under <code>env</code> to be used inside your webpack configuration:</p> <table> <thead> <tr> <th>Environment Variable</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Environment Variable"><span><code>WEBPACK_SERVE</code></span></td> <td data-th="Description"><span><code>true</code> if <code>serve|s</code> is being used.</span></td> </tr> <tr> <td data-th="Environment Variable"><span><code>WEBPACK_BUILD</code></span></td> <td data-th="Description"><span><code>true</code> if <code>build|bundle|b</code> is being used.</span></td> </tr> <tr> <td data-th="Environment Variable"><span><code>WEBPACK_WATCH</code></span></td> <td data-th="Description"><span><code>true</code> if <code>--watch|watch|w</code> is being used.</span></td> </tr> </tbody> </table> <p>Note that you can not access those built-in environment variables inside the bundled code.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env<span class="token punctuation">,</span> argv</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    mode<span class="token operator">:</span> env<span class="token punctuation">.</span><span class="token constant">WEBPACK_SERVE</span> <span class="token operator">?</span> <span class="token string">'development'</span> <span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="node-env">node-env<a href="#node-env" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can use <code>--node-env</code> option to set <code>process.env.NODE_ENV</code>:</p> <pre><code class="hljs language-bash">npx webpack --node-env production   <span class="token comment"># process.env.NODE_ENV = 'production'</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>The <code>mode</code> option would respect the <code>--node-env</code> option if you don't set it explicitly, i.e. <code>--node-env production</code> would set both <code>process.env.NODE_ENV</code> and <code>mode</code> to <code>'production'</code></p></aside> <h2 id="configuration-options">Configuration Options<a href="#configuration-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th>Parameter</th> <th>Explanation</th> <th>Input type</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td data-th="Parameter"><span><code>--config</code></span></td> <td data-th="Explanation"><span>Path to the configuration file</span></td> <td data-th="Input type"><span>string[]</span></td> <td data-th="Default"><span><a href="/api/cli/#default-configurations">Default Configs</a></span></td> </tr> <tr> <td data-th="Parameter"><span><code>--config-name</code></span></td> <td data-th="Explanation"><span>Name of the configuration to use</span></td> <td data-th="Input type"><span>string[]</span></td> <td data-th="Default"><span>-</span></td> </tr> <tr> <td data-th="Parameter"><span><code>--env</code></span></td> <td data-th="Explanation"><span>Environment passed to the configuration, when it is a function</span></td> <td data-th="Input type"><span>string[]</span></td> <td data-th="Default"><span>-</span></td> </tr> </tbody> </table> <h2 id="analyzing-bundle">Analyzing Bundle<a href="#analyzing-bundle" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You can also use <code>webpack-bundle-analyzer</code> to analyze your output bundles emitted by webpack. You can use <code>--analyze</code> flag to invoke it via CLI.</p> <pre><code class="hljs language-bash">npx webpack --analyze</code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Make sure you have <code>webpack-bundle-analyzer</code> installed in your project else CLI will prompt you to install it.</p></aside> <h2 id="progress">Progress<a href="#progress" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To check the progress of any webpack compilation you can use the <code>--progress</code> flag.</p> <pre><code class="hljs language-bash">npx webpack --progress</code></pre> <p>To collect profile data for progress steps you can pass <code>profile</code> as value to <code>--progress</code> flag.</p> <pre><code class="hljs language-bash">npx webpack --progress<span class="token operator">=</span>profile</code></pre> <h2 id="pass-cli-arguments-to-nodejs">Pass CLI arguments to Node.js<a href="#pass-cli-arguments-to-nodejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To pass arguments directly to Node.js process, you can use the <code>NODE_OPTIONS</code> option.</p> <p>For example, to increase the memory limit of Node.js process to 4 GB</p> <pre><code class="hljs language-bash"><span class="token assign-left variable">NODE_OPTIONS</span><span class="token operator">=</span><span class="token string">"--max-old-space-size=4096"</span> webpack</code></pre> <p>Also, you can pass multiple options to Node.js process</p> <pre><code class="hljs language-bash"><span class="token assign-left variable">NODE_OPTIONS</span><span class="token operator">=</span><span class="token string">"--max-old-space-size=4096 -r /path/to/preload/file.js"</span> webpack</code></pre> <h2 id="exit-codes-and-their-meanings">Exit codes and their meanings<a href="#exit-codes-and-their-meanings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th>Exit Code</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Exit Code"><span><code>0</code></span></td> <td data-th="Description"><span>Success</span></td> </tr> <tr> <td data-th="Exit Code"><span><code>1</code></span></td> <td data-th="Description"><span>Errors from webpack</span></td> </tr> <tr> <td data-th="Exit Code"><span><code>2</code></span></td> <td data-th="Description"><span>Configuration/options problem or an internal error</span></td> </tr> </tbody> </table> <h2 id="cli-environment-variables">CLI Environment Variables<a href="#cli-environment-variables" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th>Environment Variable</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Environment Variable"><span><code>WEBPACK_CLI_SKIP_IMPORT_LOCAL</code></span></td> <td data-th="Description"><span>when <code>true</code> it will skip using the local instance of <code>webpack-cli</code>.</span></td> </tr> <tr> <td data-th="Environment Variable"><span><code>WEBPACK_CLI_FORCE_LOAD_ESM_CONFIG</code></span></td> <td data-th="Description"><span>when <code>true</code> it will force load the ESM config.</span></td> </tr> <tr> <td data-th="Environment Variable"><span><a href="#webpack_package"><code>WEBPACK_PACKAGE</code></a></span></td> <td data-th="Description"><span>Use a custom webpack version in CLI.</span></td> </tr> <tr> <td data-th="Environment Variable"><span><code>WEBPACK_CLI_HELP_WIDTH</code></span></td> <td data-th="Description"><span>Use a custom width for help output.</span></td> </tr> </tbody> </table> <pre><code class="hljs language-bash"><span class="token assign-left variable">WEBPACK_CLI_FORCE_LOAD_ESM_CONFIG</span><span class="token operator">=</span>true npx webpack --config ./webpack.config.esm</code></pre> <h3 id="webpack_package">WEBPACK_PACKAGE<a href="#webpack_package" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Use a custom webpack version in CLI. Considering the following content in your <code>package.json</code>:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"webpack"</span><span class="token operator">:</span> <span class="token string">"^4.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"webpack-5"</span><span class="token operator">:</span> <span class="token string">"npm:webpack@^5.32.0"</span><span class="token punctuation">,</span>
  <span class="token property">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^4.5.0"</span>
<span class="token punctuation">}</span></code></pre> <p>To use <code>webpack v4.0.0</code>:</p> <pre><code class="hljs language-bash">npx webpack</code></pre> <p>To use <code>webpack v5.32.0</code>:</p> <pre><code class="hljs language-bash"><span class="token assign-left variable">WEBPACK_PACKAGE</span><span class="token operator">=</span>webpack-5 npx webpack</code></pre> <h1 id="node-interface">Node Interface<a href="#node-interface" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack provides a Node.js API which can be used directly in Node.js runtime.</p> <p>The Node.js API is useful in scenarios in which you need to customize the build or development process since all the reporting and error handling must be done manually and webpack only does the compiling part. For this reason the <a href="/configuration/stats"><code>stats</code></a> configuration options will not have any effect in the <code>webpack()</code> call.</p> <h2 id="installation">Installation<a href="#installation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To start using the webpack Node.js API, first install webpack if you haven’t yet:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack</code></pre> <p>Then require the webpack module in your Node.js script:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Or if you prefer ES2015:</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span></code></pre> <h2 id="webpack"><code>webpack()</code><a href="#webpack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The imported <code>webpack</code> function is fed a webpack <a href="/configuration/">Configuration Object</a> and runs the webpack compiler if a callback function is provided:</p> <pre><code class="hljs language-js-with-links"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// [Configuration Object](/configuration/)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">// [Stats Object](#stats-object)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">||</span> stats<span class="token punctuation">.</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// [Handle errors here](#error-handling)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Done processing</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>The <code>err</code> object <strong>will not</strong> include compilation errors. Those must be handled separately using <code>stats.hasErrors()</code>, which will be covered in detail in the <a href="#error-handling">Error Handling</a> section of this guide. The <code>err</code> object will only contain webpack-related issues, such as misconfiguration, etc.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>You can provide the <code>webpack</code> function with an array of configurations. See the <a href="#multicompiler">MultiCompiler</a> section below for more information.</p></aside> <h2 id="compiler-instance">Compiler Instance<a href="#compiler-instance" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>If you don’t pass the <code>webpack</code> runner function a callback, it will return a webpack <code>Compiler</code> instance. This instance can be used to manually trigger the webpack runner or have it build and watch for changes, much like the <a href="/api/cli/">CLI</a>. The <code>Compiler</code> instance provides the following methods:</p> <ul> <li><code>.run(callback)</code></li> <li><code>.watch(watchOptions, handler)</code></li> </ul> <p>Typically, only one master <code>Compiler</code> instance is created, although child compilers can be created in order to delegate specific tasks. The <code>Compiler</code> is ultimately a function which performs bare minimum functionality to keep a lifecycle running. It delegates all the loading, bundling, and writing work to registered plugins.</p> <p>The <code>hooks</code> property on a <code>Compiler</code> instance is used to register a plugin to any hook event in the <code>Compiler</code>'s lifecycle. The <a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsDefaulter.js"><code>WebpackOptionsDefaulter</code></a> and <a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js"><code>WebpackOptionsApply</code></a> utilities are used by webpack to configure its <code>Compiler</code> instance with all the built-in plugins.</p> <p>The <code>run</code> method is then used to kickstart all compilation work. Upon completion, the given <code>callback</code> function is executed. The final logging of stats and errors should be done in this <code>callback</code> function.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>The API only supports a single concurrent compilation at a time. When using <code>run</code> or <code>watch</code>, call <code>close</code> and wait for it to finish before calling <code>run</code> or <code>watch</code> again. Concurrent compilations will corrupt the output files.</p></aside> <h2 id="run">Run<a href="#run" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Calling the <code>run</code> method on the <code>Compiler</code> instance is much like the quick run method mentioned above:</p> <pre><code class="hljs language-js-with-links"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// [Configuration Object](/configuration/)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">// [Stats Object](#stats-object)</span>
  <span class="token comment">// ...</span>

  compiler<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">closeErr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Don't forget to close the compiler, so that low-priority work (like persistent caching) have the opportunity to complete.</p></aside> <h2 id="watching">Watching<a href="#watching" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Calling the <code>watch</code> method triggers the webpack runner, but then watches for changes (much like CLI: <code>webpack --watch</code>), as soon as webpack detects a change, runs again. Returns an instance of <code>Watching</code>.</p> <pre><code class="hljs language-js"><span class="token function">watch</span><span class="token punctuation">(</span>watchOptions<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js-with-links"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// [Configuration Object](/configuration/)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> watching <span class="token operator">=</span> compiler<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Example [watchOptions](/configuration/watch/#watchoptions)</span>
  aggregateTimeout<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
  poll<span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">// [Stats Object](#stats-object)</span>
  <span class="token comment">// Print watch/build result here...</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><code>Watching</code> options are covered in detail <a href="/configuration/watch/#watchoptions">here</a>.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Filesystem inaccuracies may trigger multiple builds for a single change. In the example above, the <code>console.log</code> statement may fire multiple times for a single modification. Users should expect this behavior and may check <code>stats.hash</code> to see if the file hash has actually changed.</p></aside> <h3 id="close-watching">Close <code>Watching</code><a href="#close-watching" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The <code>watch</code> method returns a <code>Watching</code> instance that exposes <code>.close(callback)</code> method. Calling this method will end watching:</p> <pre><code class="hljs language-js">watching<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">closeErr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Watching Ended.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>It’s not allowed to watch or run again before the existing watcher has been closed or invalidated.</p></aside> <h3 id="invalidate-watching">Invalidate <code>Watching</code><a href="#invalidate-watching" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Using <code>watching.invalidate</code>, you can manually invalidate the current compiling round, without stopping the watch process:</p> <pre><code class="hljs language-js">watching<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="stats-object">Stats Object<a href="#stats-object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <code>stats</code> object that is passed as a second argument of the <a href="#webpack"><code>webpack()</code></a> callback, is a good source of information about the code compilation process. It includes:</p> <ul> <li>Errors and Warnings (if any)</li> <li>Timings</li> <li>Module and Chunk information</li> </ul> <p>The <a href="/api/cli">webpack CLI</a> uses this information to display nicely formatted output in your console.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>When using the <a href="#multicompiler"><code>MultiCompiler</code></a>, a <code>MultiStats</code> instance is returned that fulfills the same interface as <code>stats</code>, i.e. the methods described below.</p></aside> <p>This <code>stats</code> object exposes the following methods:</p> <h3 id="statshaserrors"><code>stats.hasErrors()</code><a href="#statshaserrors" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Can be used to check if there were errors while compiling. Returns <code>true</code> or <code>false</code>.</p> <h3 id="statshaswarnings"><code>stats.hasWarnings()</code><a href="#statshaswarnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Can be used to check if there were warnings while compiling. Returns <code>true</code> or <code>false</code>.</p> <h3 id="statstojsonoptions"><code>stats.toJson(options)</code><a href="#statstojsonoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Returns compilation information as a JSON object. <code>options</code> can be either a string (a preset) or an object for more granular control:</p> <pre><code class="hljs language-js-with-links">stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token string">'minimal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [more options: 'verbose', etc](/configuration/stats).</span></code></pre> <pre><code class="hljs language-js">stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  assets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  hash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>All available options and presets are described in the stats <a href="/configuration/stats">documentation</a>.</p> <blockquote> <p>Here’s an <a href="https://raw.githubusercontent.com/webpack/analyse/master/app/pages/upload/example2.json">example</a> of this function’s output.</p> </blockquote> <h3 id="statstostringoptions"><code>stats.toString(options)</code><a href="#statstostringoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Returns a formatted string of the compilation information (similar to <a href="/api/cli">CLI</a> output).</p> <p>Options are the same as <a href="/api/node/#statstojsonoptions"><code>stats.toJson(options)</code></a> with one addition:</p> <pre><code class="hljs language-js">stats<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Add console colors</span>
  colors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Here’s an example of <code>stats.toString()</code> usage:</p> <pre><code class="hljs language-js-with-links"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// [Configuration Object](/configuration/)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    chunks<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// Makes the build much quieter</span>
    colors<span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token comment">// Shows colors in the console</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="multicompiler">MultiCompiler<a href="#multicompiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <code>MultiCompiler</code> module allows webpack to run multiple configurations in separate compilers. If the <code>options</code> parameter in the webpack's NodeJS api is an array of options, webpack applies separate compilers and calls the <code>callback</code> after all compilers have been executed.</p> <pre><code class="hljs language-js-with-links"><span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> entry<span class="token operator">:</span> <span class="token string">'./index1.js'</span><span class="token punctuation">,</span> output<span class="token operator">:</span> <span class="token punctuation">{</span> filename<span class="token operator">:</span> <span class="token string">'bundle1.js'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> entry<span class="token operator">:</span> <span class="token string">'./index2.js'</span><span class="token punctuation">,</span> output<span class="token operator">:</span> <span class="token punctuation">{</span> filename<span class="token operator">:</span> <span class="token string">'bundle2.js'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">// [Stats Object](#stats-object)</span>
  process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Multiple configurations will <strong>not be run in parallel</strong>. Each configuration is only processed after the previous one has finished processing. To process them in parallel, you can use a third-party solution like <a href="https://www.npmjs.com/package/parallel-webpack">parallel-webpack</a>.</p></aside> <h2 id="error-handling">Error Handling<a href="#error-handling" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>For good error handling, you need to account for these three types of errors:</p> <ul> <li>Fatal webpack errors (wrong configuration, etc)</li> <li>Compilation errors (missing modules, syntax errors, etc)</li> <li>Compilation warnings</li> </ul> <p>Here’s an example that does all that:</p> <pre><code class="hljs language-js-with-links"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// [Configuration Object](/configuration/)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>stack <span class="token operator">||</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>details<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>details<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> info <span class="token operator">=</span> stats<span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>errors<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>stats<span class="token punctuation">.</span><span class="token function">hasWarnings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Log result...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="custom-file-systems">Custom File Systems<a href="#custom-file-systems" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>By default, webpack reads files and writes files to disk using a normal file system. However, it is possible to change the input or output behavior using a different kind of file system (memory, webDAV, etc). To accomplish this, one can change the <code>inputFileSystem</code> or <code>outputFileSystem</code>. For example, you can replace the default <code>outputFileSystem</code> with <a href="https://github.com/streamich/memfs"><code>memfs</code></a> to write files to memory instead of to disk:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> createFsFromVolume<span class="token punctuation">,</span> Volume <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'memfs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">createFsFromVolume</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Volume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* options */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

compiler<span class="token punctuation">.</span>outputFileSystem <span class="token operator">=</span> fs<span class="token punctuation">;</span>
compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Read the output later:</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Note that this is what <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a>, used by <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> and many other packages, uses to mysteriously hide your files but continue serving them up to the browser!</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>The output file system you provide needs to be compatible with Node’s own <a href="https://nodejs.org/api/fs.html"><code>fs</code></a> interface, which requires the <code>mkdirp</code> and <code>join</code> helper methods.</p></aside> <h1 id="stats-data">Stats Data<a href="#stats-data" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>When compiling source code with webpack, users can generate a JSON file containing statistics about modules. These statistics can be used to analyze an application's dependency graph as well as to optimize compilation speed. The file is typically generated with the following CLI command:</p> <pre><code class="hljs language-bash">npx webpack --profile --json<span class="token operator">=</span>compilation-stats.json</code></pre> <p>The <code>--json=compilation-stats.json</code> flag indicates to webpack that it should emit the <code>compilation-stats.json</code> containing the dependency graph and various other build information. Typically, the <code>--profile</code> flag is also added so that a <code>profile</code> section is added to each <a href="#module-objects"><code>modules</code> object</a> containing module-specific compilation stats.</p> <h2 id="structure">Structure<a href="#structure" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The top-level structure of the output JSON file is fairly straightforward but there are a few nested data structures as well. Each nested structure has a dedicated section below to make this document more consumable. Note that you can click links within the top-level structure below to jump to relevant sections and documentation:</p> <pre><code class="hljs language-js-with-links"><span class="token punctuation">{</span>
  <span class="token string">'version'</span><span class="token operator">:</span> <span class="token string">'5.9.0'</span><span class="token punctuation">,</span> <span class="token comment">// Version of webpack used for the compilation</span>
  <span class="token string">'hash'</span><span class="token operator">:</span> <span class="token string">'11593e3b3ac85436984a'</span><span class="token punctuation">,</span> <span class="token comment">// Compilation specific hash</span>
  <span class="token string">'time'</span><span class="token operator">:</span> <span class="token number">2469</span><span class="token punctuation">,</span> <span class="token comment">// Compilation time in milliseconds</span>
  <span class="token string">'publicPath'</span><span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
  <span class="token string">'outputPath'</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token comment">// path to webpack output directory</span>
  <span class="token string">'assetsByChunkName'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Chunk name to emitted asset(s) mapping</span>
    <span class="token string">'main'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'web.js?h=11593e3b3ac85436984a'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'named-chunk'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'named-chunk.web.js'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'other-chunk'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'other-chunk.js'</span><span class="token punctuation">,</span>
      <span class="token string">'other-chunk.css'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'assets'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [asset objects](#asset-objects)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'chunks'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [chunk objects](#chunk-objects)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'modules'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [module objects](#module-objects)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'entryPoints'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// A list of [entry objects](#entry-objects)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">'errors'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [error objects](#errors-and-warnings)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'errorsCount'</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// number of errors</span>
  <span class="token string">'warnings'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [warning objects](#errors-and-warnings)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'warningsCount'</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// nummber of warnings</span>
<span class="token punctuation">}</span></code></pre> <h3 id="asset-objects">Asset Objects<a href="#asset-objects" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Each <code>assets</code> object represents an <code>output</code> file emitted from the compilation. They all follow a similar structure:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"chunkNames"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// The chunks this asset contains</span>
  <span class="token property">"chunks"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// The chunk IDs this asset contains</span>
  <span class="token property">"comparedForEmit"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// Indicates whether or not the asset was compared with the same file on the output file system</span>
  <span class="token property">"emitted"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Indicates whether or not the asset made it to the `output` directory</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"10.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// The `output` filename</span>
  <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">1058</span><span class="token punctuation">,</span> <span class="token comment">// The size of the file in bytes</span>
  <span class="token property">"info"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"immutable"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// A flag telling whether the asset can be long term cached (contains a hash)</span>
    <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">1058</span><span class="token punctuation">,</span> <span class="token comment">// The size in bytes, only becomes available after asset has been emitted</span>
    <span class="token property">"development"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// A flag telling whether the asset is only used for development and doesn't count towards user-facing assets</span>
    <span class="token property">"hotModuleReplacement"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// A flag telling whether the asset ships data for updating an existing application (HMR)</span>
    <span class="token property">"sourceFilename"</span><span class="token operator">:</span> <span class="token string">"originalfile.js"</span><span class="token punctuation">,</span> <span class="token comment">// sourceFilename when asset was created from a source file (potentially transformed)</span>
    <span class="token property">"javascriptModule"</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// true, when asset is javascript and an ESM</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Asset's <code>info</code> property is available since webpack v4.40.0</p></aside> <h3 id="chunk-objects">Chunk Objects<a href="#chunk-objects" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Each <code>chunks</code> object represents a group of modules known as a <a href="/glossary/#c">chunk</a>. Each object follows the following structure:</p> <pre><code class="hljs language-js-with-links"><span class="token punctuation">{</span>
  <span class="token string">"entry"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Indicates whether or not the chunk contains the webpack runtime</span>
  <span class="token string">"files"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// An array of filename strings that contain this chunk</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"filteredModules"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// See the description in the [top-level structure](#structure) above</span>
  <span class="token string">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// The ID of this chunk</span>
  <span class="token string">"initial"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Indicates whether this chunk is loaded on initial page load or [on demand](/guides/lazy-loading)</span>
  <span class="token string">"modules"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [module objects](#module-objects)</span>
    <span class="token string">"web.js?h=11593e3b3ac85436984a"</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"names"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// An list of chunk names contained within this chunk</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"origins"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// See the description below...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"parents"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Parent chunk IDs</span>
  <span class="token string">"rendered"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Indicates whether or not the chunk went through Code Generation</span>
  <span class="token string">"size"</span><span class="token operator">:</span> <span class="token number">188057</span> <span class="token comment">// Chunk size in bytes</span>
<span class="token punctuation">}</span></code></pre> <p>The <code>chunks</code> object will also contain a list of <code>origins</code> describing how the given chunk originated. Each <code>origins</code> object follows the following schema:</p> <pre><code class="hljs language-js-with-links"><span class="token punctuation">{</span>
  <span class="token string">"loc"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment">// Lines of code that generated this chunk</span>
  <span class="token string">"module"</span><span class="token operator">:</span> <span class="token string">"(webpack)\\test\\browsertest\\lib\\index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// Path to the module</span>
  <span class="token string">"moduleId"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// The ID of the module</span>
  <span class="token string">"moduleIdentifier"</span><span class="token operator">:</span> <span class="token string">"(webpack)\\test\\browsertest\\lib\\index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// Path to the module</span>
  <span class="token string">"moduleName"</span><span class="token operator">:</span> <span class="token string">"./lib/index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// Relative path to the module</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span> <span class="token comment">// The name of the chunk</span>
  <span class="token string">"reasons"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of the same `reasons` found in [module objects](#module-objects)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre> <h3 id="module-objects">Module Objects<a href="#module-objects" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>What good would these statistics be without some description of the compiled application's actual modules? Each module in the dependency graph is represented by the following structure:</p> <pre><code class="hljs language-js-with-links"><span class="token punctuation">{</span>
  <span class="token string">"assets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// A list of [asset objects](#asset-objects)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"built"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Indicates that the module went through [Loaders](/concepts/loaders), Parsing, and Code Generation</span>
  <span class="token string">"cacheable"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Whether or not this module is cacheable</span>
  <span class="token string">"chunks"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// IDs of chunks that contain this module</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"errors"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// Number of errors when resolving or processing the module</span>
  <span class="token string">"failed"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// Whether or not compilation failed on this module</span>
  <span class="token string">"id"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// The ID of the module (analogous to [`module.id`](/api/module-variables/#moduleid-commonjs))</span>
  <span class="token string">"identifier"</span><span class="token operator">:</span> <span class="token string">"(webpack)\\test\\browsertest\\lib\\index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// A unique ID used internally</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"./lib/index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// Path to the actual file</span>
  <span class="token string">"optional"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// All requests to this module are with `try... catch` blocks (irrelevant with ESM)</span>
  <span class="token string">"prefetched"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// Indicates whether or not the module was [prefetched](/plugins/prefetch-plugin)</span>
  <span class="token string">"profile"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Module specific compilation stats corresponding to the [`--profile` flag](/api/cli/#profiling) (in milliseconds)</span>
    <span class="token string">"building"</span><span class="token operator">:</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token comment">// Loading and parsing</span>
    <span class="token string">"dependencies"</span><span class="token operator">:</span> <span class="token number">242</span><span class="token punctuation">,</span> <span class="token comment">// Building dependencies</span>
    <span class="token string">"factory"</span><span class="token operator">:</span> <span class="token number">11</span> <span class="token comment">// Resolving dependencies</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"reasons"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// See the description below...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">"size"</span><span class="token operator">:</span> <span class="token number">3593</span><span class="token punctuation">,</span> <span class="token comment">// Estimated size of the module in bytes</span>
  <span class="token string">"source"</span><span class="token operator">:</span> <span class="token string">"// Should not break it...\r\nif(typeof..."</span><span class="token punctuation">,</span> <span class="token comment">// The stringified raw source</span>
  <span class="token string">"warnings"</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// Number of warnings when resolving or processing the module</span>
<span class="token punctuation">}</span></code></pre> <p>Every module also contains a list of <code>reasons</code> objects describing why that module was included in the dependency graph. Each "reason" is similar to the <code>origins</code> seen above in the <a href="#chunk-objects">chunk objects</a> section:</p> <pre><code class="hljs language-js-with-links"><span class="token punctuation">{</span>
  <span class="token string">"loc"</span><span class="token operator">:</span> <span class="token string">"33:24-93"</span><span class="token punctuation">,</span> <span class="token comment">// Lines of code that caused the module to be included</span>
  <span class="token string">"module"</span><span class="token operator">:</span> <span class="token string">"./lib/index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// Relative path to the module based on [context](/configuration/entry-context/#context)</span>
  <span class="token string">"moduleId"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// The ID of the module</span>
  <span class="token string">"moduleIdentifier"</span><span class="token operator">:</span> <span class="token string">"(webpack)\\test\\browsertest\\lib\\index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// Path to the module</span>
  <span class="token string">"moduleName"</span><span class="token operator">:</span> <span class="token string">"./lib/index.web.js"</span><span class="token punctuation">,</span> <span class="token comment">// A more readable name for the module (used for "pretty-printing")</span>
  <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"require.context"</span><span class="token punctuation">,</span> <span class="token comment">// The [type of request](/api/module-methods) used</span>
  <span class="token string">"userRequest"</span><span class="token operator">:</span> <span class="token string">"../../cases"</span> <span class="token comment">// Raw string used for the `import` or `require` request</span>
<span class="token punctuation">}</span></code></pre> <h3 id="entry-objects">Entry Objects<a href="#entry-objects" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-json"><span class="token property">"main"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
  <span class="token property">"chunks"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token number">179</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"assets"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"main.js"</span><span class="token punctuation">,</span>
      <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">22</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"filteredAssets"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">"assetsSize"</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
  <span class="token property">"auxiliaryAssets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"filteredAuxiliaryAssets"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">"auxiliaryAssetsSize"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">"children"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"childAssets"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"isOverSizeLimit"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span></code></pre> <h3 id="errors-and-warnings">Errors and Warnings<a href="#errors-and-warnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The <code>errors</code> and <code>warnings</code> properties each contain a list of objects. Each object contains a message, a stack trace and various other properties:</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"moduleIdentifier"</span><span class="token operator">:</span> <span class="token string">"C:\\Repos\\webpack\\test\\cases\\context\\issue-5750\\index.js"</span><span class="token punctuation">,</span>
  <span class="token property">"moduleName"</span><span class="token operator">:</span> <span class="token string">"(webpack)/test/cases/context/issue-5750/index.js"</span><span class="token punctuation">,</span>
  <span class="token property">"loc"</span><span class="token operator">:</span> <span class="token string">"3:8-47"</span><span class="token punctuation">,</span>
  <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"Critical dependency: Contexts can't use RegExps with the 'g' or 'y' flags."</span><span class="token punctuation">,</span>
  <span class="token property">"moduleId"</span><span class="token operator">:</span> <span class="token number">29595</span><span class="token punctuation">,</span>
  <span class="token property">"moduleTrace"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"originIdentifier"</span><span class="token operator">:</span> <span class="token string">"C:\\Repos\\webpack\\test\\cases|sync|/^\\.\\/[^/]+\\/[^/]+\\/index\\.js$/"</span><span class="token punctuation">,</span>
      <span class="token property">"originName"</span><span class="token operator">:</span> <span class="token string">"(webpack)/test/cases sync ^\\.\\/[^/]+\\/[^/]+\\/index\\.js$"</span><span class="token punctuation">,</span>
      <span class="token property">"moduleIdentifier"</span><span class="token operator">:</span> <span class="token string">"C:\\Repos\\webpack\\test\\cases\\context\\issue-5750\\index.js"</span><span class="token punctuation">,</span>
      <span class="token property">"moduleName"</span><span class="token operator">:</span> <span class="token string">"(webpack)/test/cases/context/issue-5750/index.js"</span><span class="token punctuation">,</span>
      <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"loc"</span><span class="token operator">:</span> <span class="token string">"./context/issue-5750/index.js"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"originId"</span><span class="token operator">:</span> <span class="token number">32582</span><span class="token punctuation">,</span>
      <span class="token property">"moduleId"</span><span class="token operator">:</span> <span class="token number">29595</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"originIdentifier"</span><span class="token operator">:</span> <span class="token string">"C:\\Repos\\webpack\\testCases.js"</span><span class="token punctuation">,</span>
      <span class="token property">"originName"</span><span class="token operator">:</span> <span class="token string">"(webpack)/testCases.js"</span><span class="token punctuation">,</span>
      <span class="token property">"moduleIdentifier"</span><span class="token operator">:</span> <span class="token string">"C:\\Repos\\webpack\\test\\cases|sync|/^\\.\\/[^/]+\\/[^/]+\\/index\\.js$/"</span><span class="token punctuation">,</span>
      <span class="token property">"moduleName"</span><span class="token operator">:</span> <span class="token string">"(webpack)/test/cases sync ^\\.\\/[^/]+\\/[^/]+\\/index\\.js$"</span><span class="token punctuation">,</span>
      <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"loc"</span><span class="token operator">:</span> <span class="token string">"1:0-70"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"originId"</span><span class="token operator">:</span> <span class="token number">8198</span><span class="token punctuation">,</span>
      <span class="token property">"moduleId"</span><span class="token operator">:</span> <span class="token number">32582</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"details"</span><span class="token operator">:</span> <span class="token string">"at RequireContextDependency.getWarnings (C:\\Repos\\webpack\\lib\\dependencies\\ContextDependency.js:79:5)\n    at Compilation.reportDependencyErrorsAndWarnings (C:\\Repos\\webpack\\lib\\Compilation.js:1727:24)\n    at C:\\Repos\\webpack\\lib\\Compilation.js:1467:10\n    at _next2 (&#x3C;anonymous>:16:1)\n    at eval (&#x3C;anonymous>:42:1)\n    at C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2830:7\n    at Object.each (C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2850:39)\n    at C:\\Repos\\webpack\\lib\\FlagDependencyExportsPlugin.js:219:18\n    at C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2830:7\n    at Object.each (C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2850:39)\n    at C:\\Repos\\webpack\\lib\\FlagDependencyExportsPlugin.js:40:16\n    at Hook.eval [as callAsync] (&#x3C;anonymous>:38:1)\n    at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (C:\\Repos\\tapable\\lib\\Hook.js:18:14)\n    at Compilation.finish (C:\\Repos\\webpack\\lib\\Compilation.js:1462:28)\n    at C:\\Repos\\webpack\\lib\\Compiler.js:909:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)\n"</span><span class="token punctuation">,</span>
  <span class="token property">"stack"</span><span class="token operator">:</span> <span class="token string">"ModuleDependencyWarning: Critical dependency: Contexts can't use RegExps with the 'g' or 'y' flags.\n    at Compilation.reportDependencyErrorsAndWarnings (C:\\Repos\\webpack\\lib\\Compilation.js:1732:23)\n    at C:\\Repos\\webpack\\lib\\Compilation.js:1467:10\n    at _next2 (&#x3C;anonymous>:16:1)\n    at eval (&#x3C;anonymous>:42:1)\n    at C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2830:7\n    at Object.each (C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2850:39)\n    at C:\\Repos\\webpack\\lib\\FlagDependencyExportsPlugin.js:219:18\n    at C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2830:7\n    at Object.each (C:\\Repos\\webpack\\node_modules\\neo-async\\async.js:2850:39)\n    at C:\\Repos\\webpack\\lib\\FlagDependencyExportsPlugin.js:40:16\n    at Hook.eval [as callAsync] (&#x3C;anonymous>:38:1)\n    at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (C:\\Repos\\tapable\\lib\\Hook.js:18:14)\n    at Compilation.finish (C:\\Repos\\webpack\\lib\\Compilation.js:1462:28)\n    at C:\\Repos\\webpack\\lib\\Compiler.js:909:18\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)\n"</span>
<span class="token punctuation">}</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Note that the stack traces are removed when <code>errorStack: false</code> is passed to the <code>toJson</code> method. The <code>errorStack</code> option is set to <code>true</code> by default.</p></aside> <h1 id="hot-module-replacement">Hot Module Replacement<a href="#hot-module-replacement" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>If <a href="/concepts/hot-module-replacement">Hot Module Replacement</a> has been enabled via the <a href="/plugins/hot-module-replacement-plugin"><code>HotModuleReplacementPlugin</code></a>, its interface will be exposed under the <a href="/api/module-variables/#modulehot-webpack-specific"><code>module.hot</code></a> property as well as <a href="/api/module-variables/#importmetawebpackhot"><code>import.meta.webpackHot</code></a> property. Note that only <code>import.meta.webpackHot</code> can be used in <a href="/guides/ecma-script-modules/#flagging-modules-as-esm">strict ESM</a>.</p> <p>Typically, users will check to see if the interface is accessible, then begin working with it. As an example, here's how you might <code>accept</code> an updated module:</p> <pre><code class="hljs language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./library.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something with the updated library module...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./library.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something with the updated library modue…</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>The following methods are supported...</p> <h2 id="module-api">Module API<a href="#module-api" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="accept"><code>accept</code><a href="#accept" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Accept updates for the given <code>dependencies</code> and fire a <code>callback</code> to react to those updates, in addition, you can attach an optional error handler:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>
  dependencies<span class="token punctuation">,</span> <span class="token comment">// Either a string or an array of strings</span>
  callback<span class="token punctuation">,</span> <span class="token comment">// Function to fire when the dependencies are updated</span>
  errorHandler <span class="token comment">// (err, {moduleId, dependencyId}) => {}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>
  dependencies<span class="token punctuation">,</span> <span class="token comment">// Either a string or an array of strings</span>
  callback<span class="token punctuation">,</span> <span class="token comment">// Function to fire when the dependencies are updated</span>
  errorHandler <span class="token comment">// (err, {moduleId, dependencyId}) => {}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>When using ESM <code>import</code> all imported symbols from <code>dependencies</code> are automatically updated. Note: The dependency string must match exactly with the <code>from</code> string in the <code>import</code>. In some cases <code>callback</code> can even be omitted. Using <code>require()</code> in the <code>callback</code> doesn't make sense here.</p> <p>When using CommonJS you need to update dependencies manually by using <code>require()</code> in the <code>callback</code>. Omitting the <code>callback</code> doesn't make sense here.</p> <h4 id="errorhandler-for-accept">errorHandler for accept<a href="#errorhandler-for-accept" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>(err, {moduleId, dependencyId}) => {}</code></p> <ul> <li><code>err</code>: the error thrown by the callback in second argument or during dependency execution when using ESM dependencies.</li> <li><code>moduleId</code>: the current module id.</li> <li><code>dependencyId</code>: the module id of the (first) changed dependency.</li> </ul> <h3 id="accept-self"><code>accept</code> (self)<a href="#accept-self" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Accept updates for itself.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>
  errorHandler <span class="token comment">// Function to handle errors when evaluating the new version</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>
  errorHandler <span class="token comment">// Function to handle errors when evaluating the new version</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>When this module or dependencies are updated, this module can be disposed and re-evaluated without informing parents. This makes sense if this module has no exports (or exports are updated in another way).</p> <p>The <code>errorHandler</code> is fired when the evaluation of this module (or dependencies) has thrown an exception.</p> <h4 id="errorhandler-for-self-accept">errorHandler for self accept<a href="#errorhandler-for-self-accept" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>(err, {moduleId, module}) => {}</code></p> <ul> <li><code>err</code>: the error when evaluating the new version.</li> <li><code>moduleId</code>: the current module id.</li> <li><code>module</code>: the current module instance. <ul> <li><code>module.hot</code>: allow to use the HMR API of the errored module instance. A common scenario is to self accept it again. It also makes sense to add a dispose handler to pass data along. Note that the errored module might be already partially executed, so make sure to not get into a inconsistent state. You can use <code>module.hot.data</code> to store partial state.</li> <li><code>module.exports</code>: can be overriden, but be careful since property names might be mangled in production mode.</li> </ul> </li> </ul> <h3 id="decline"><code>decline</code><a href="#decline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Reject updates for the given <code>dependencies</code> forcing the update to fail with a <code>'decline'</code> code.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">decline</span><span class="token punctuation">(</span>
  dependencies <span class="token comment">// Either a string or an array of strings</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">decline</span><span class="token punctuation">(</span>
  dependencies <span class="token comment">// Either a string or an array of strings</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Flag a dependency as not-update-able. This makes sense when changing exports of this dependency can't be handled or handling is not implemented yet. Depending on your HMR management code, an update to these dependencies (or unaccepted dependencies of it) usually causes a full-reload of the page.</p> <h3 id="decline-self"><code>decline</code> (self)<a href="#decline-self" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Reject updates for itself.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">decline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">decline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Flag this module as not-update-able. This makes sense when this module has irreversible side-effects, or HMR handling is not implemented for this module yet. Depending on your HMR management code, an update to this module (or unaccepted dependencies) usually causes a full-reload of the page.</p> <h3 id="dispose-or-adddisposehandler"><code>dispose</code> (or <code>addDisposeHandler</code>)<a href="#dispose-or-adddisposehandler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Add a handler which is executed when the current module code is replaced. This should be used to remove any persistent resource you have claimed or created. If you want to transfer state to the updated module, add it to the given <code>data</code> parameter. This object will be available at <code>module.hot.data</code> after the update.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Clean up and pass data to the updated module...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Clean up and pass data to the updated module...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="invalidate"><code>invalidate</code><a href="#invalidate" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Calling this method will invalidate the current module, which disposes and recreates it when the HMR update is applied. This bubbles like a normal update of this module. <code>invalidate</code> can't be self-accepted by this module.</p> <p>When called during the <code>idle</code> state, a new HMR update will be created containing this module. HMR will enter the <code>ready</code> state.</p> <p>When called during the <code>ready</code> or <code>prepare</code> state, this module will be added to the current HMR update.</p> <p>When called during the <code>check</code> state, this module will be added to the update when an update is available. If no update is available it will create a new update. HMR will enter the <code>ready</code> state.</p> <p>When called during the <code>dispose</code> or <code>apply</code> state, HMR will pick it up after getting out of those states.</p> <h4 id="use-cases">Use Cases<a href="#use-cases" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>Conditional Accepting</strong></p> <p>A module can accept a dependency, but can call <code>invalidate</code> when the change of the dependency is not handleable:</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./dep'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> processX<span class="token punctuation">,</span> processY <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'anotherDep'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> oldY <span class="token operator">=</span> y<span class="token punctuation">;</span>

<span class="token function">processX</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">processY</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./dep'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">!==</span> oldY<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// This can't be handled, bubble to parent</span>
    module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// This can be handled</span>
  <span class="token function">processX</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>Conditional self accept</strong></p> <p>A module can self-accept itself, but can invalidate itself when the change is not handleable:</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> <span class="token constant">VALUE</span> <span class="token operator">=</span> <span class="token string">'constant'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token constant">VALUE</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span>data <span class="token operator">&#x26;&#x26;</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span>data<span class="token punctuation">.</span>value <span class="token operator">&#x26;&#x26;</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span>data<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token constant">VALUE</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token constant">VALUE</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p><strong>Triggering custom HMR updates</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> moduleId <span class="token operator">=</span> <span class="token function">chooseAModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> code <span class="token operator">=</span> __webpack_modules__<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
__webpack_modules__<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">makeChanges</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  module<span class="token punctuation">.</span><span class="token function">hot</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>When <code>invalidate</code> is called, the <a href="#dispose-or-adddisposehandler"><code>dispose</code></a> handler will be eventually called and fill <code>module.hot.data</code>. If <a href="#dispose-or-adddisposehandler"><code>dispose</code></a> handler is not registered, an empty object will be supplied to <code>module.hot.data</code>.</p></aside> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Do not get caught in an <code>invalidate</code> loop, by calling <code>invalidate</code> again and again. This will result in stack overflow and HMR entering the <code>fail</code> state.</p></aside> <h3 id="removedisposehandler"><code>removeDisposeHandler</code><a href="#removedisposehandler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Remove the handler added via <code>dispose</code> or <code>addDisposeHandler</code>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">removeDisposeHandler</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">removeDisposeHandler</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="management-api">Management API<a href="#management-api" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="status"><code>status</code><a href="#status" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Retrieve the current status of the hot module replacement process.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Will return one of the following strings...</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <table> <thead> <tr> <th>Status</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Status"><span>idle</span></td> <td data-th="Description"><span>The process is waiting for a call to <a href="#check"><code>check</code></a></span></td> </tr> <tr> <td data-th="Status"><span>check</span></td> <td data-th="Description"><span>The process is checking for updates</span></td> </tr> <tr> <td data-th="Status"><span>prepare</span></td> <td data-th="Description"><span>The process is getting ready for the update (e.g. downloading the updated module)</span></td> </tr> <tr> <td data-th="Status"><span>ready</span></td> <td data-th="Description"><span>The update is prepared and available</span></td> </tr> <tr> <td data-th="Status"><span>dispose</span></td> <td data-th="Description"><span>The process is calling the <code>dispose</code> handlers on the modules that will be replaced</span></td> </tr> <tr> <td data-th="Status"><span>apply</span></td> <td data-th="Description"><span>The process is calling the <code>accept</code> handlers and re-executing self-accepted modules</span></td> </tr> <tr> <td data-th="Status"><span>abort</span></td> <td data-th="Description"><span>An update was aborted, but the system is still in its previous state</span></td> </tr> <tr> <td data-th="Status"><span>fail</span></td> <td data-th="Description"><span>An update has thrown an exception and the system's state has been compromised</span></td> </tr> </tbody> </table> <h3 id="check"><code>check</code><a href="#check" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Test all loaded modules for updates and, if updates exist, <code>apply</code> them.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot
  <span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span>autoApply<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">outdatedModules</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// outdated modules...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// catch errors</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot
  <span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span>autoApply<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">outdatedModules</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// outdated modules...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// catch errors</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>autoApply</code> parameter can either be a boolean or <code>options</code> to pass to the <code>apply</code> method when called.</p> <h3 id="apply"><code>apply</code><a href="#apply" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Continue the update process (as long as <code>module.hot.status() === 'ready'</code>).</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function">hot</span>
  <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">outdatedModules</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// outdated modules...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// catch errors</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token function">webpackHot</span>
  <span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">outdatedModules</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// outdated modules...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// catch errors</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The optional <code>options</code> object can include the following properties:</p> <ul> <li><code>ignoreUnaccepted</code> (boolean): Ignore changes made to unaccepted modules.</li> <li><code>ignoreDeclined</code> (boolean): Ignore changes made to declined modules.</li> <li><code>ignoreErrored</code> (boolean): Ignore errors thrown in accept handlers, error handlers and while reevaluating module.</li> <li><code>onDeclined</code> (function(info)): Notifier for declined modules</li> <li><code>onUnaccepted</code> (function(info)): Notifier for unaccepted modules</li> <li><code>onAccepted</code> (function(info)): Notifier for accepted modules</li> <li><code>onDisposed</code> (function(info)): Notifier for disposed modules</li> <li><code>onErrored</code> (function(info)): Notifier for errors</li> </ul> <p>The <code>info</code> parameter will be an object containing some of the following values:</p> <pre><code class="hljs language-ts"><span class="token punctuation">{</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'self-declined'</span> <span class="token operator">|</span> <span class="token string">'declined'</span> <span class="token operator">|</span>
        <span class="token string">'unaccepted'</span> <span class="token operator">|</span> <span class="token string">'accepted'</span> <span class="token operator">|</span>
        <span class="token string">'disposed'</span> <span class="token operator">|</span> <span class="token string">'accept-errored'</span> <span class="token operator">|</span>
        <span class="token string">'self-accept-errored'</span> <span class="token operator">|</span> <span class="token string">'self-accept-error-handler-errored'</span><span class="token punctuation">,</span>
  moduleId<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// The module in question.</span>
  dependencyId<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// For errors: the module id owning the accept handler.</span>
  chain<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// For declined/accepted/unaccepted: the chain from where the update was propagated.</span>
  parentId<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// For declined: the module id of the declining parent</span>
  outdatedModules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// For accepted: the modules that are outdated and will be disposed</span>
  outdatedDependencies<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// For accepted: The location of accept handlers that will handle the update</span>
    <span class="token number">5</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  error<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// For errors: the thrown error</span>
  originalError<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token comment">// For self-accept-error-handler-errored:</span>
                                <span class="token comment">// the error thrown by the module before the error handler tried to handle it.</span>
<span class="token punctuation">}</span></code></pre> <h3 id="addstatushandler"><code>addStatusHandler</code><a href="#addstatushandler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Register a function to listen for changes in <code>status</code>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">addStatusHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// React to the current status...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">addStatusHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// React to the current status...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Bear in mind that when the status handler returns a <code>Promise</code>, the HMR system will wait for the <code>Promise</code> to resolve before continuing.</p> <h3 id="removestatushandler"><code>removeStatusHandler</code><a href="#removestatushandler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Remove a registered status handler.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">removeStatusHandler</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>
<span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpackHot<span class="token punctuation">.</span><span class="token function">removeStatusHandler</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="loader-interface">Loader Interface<a href="#loader-interface" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>A loader is a JavaScript module that exports a function. The <a href="https://github.com/webpack/loader-runner">loader runner</a> calls this function and passes the result of the previous loader or the resource file into it. The <code>this</code> context of the function is filled-in by webpack and the <a href="https://github.com/webpack/loader-runner">loader runner</a> with some useful methods that allow the loader (among other things) to change its invocation style to async, or get query parameters.</p> <p>The first loader is passed one argument: the content of the resource file. The compiler expects a result from the last loader. The result should be a <code>String</code> or a <code>Buffer</code> (which is converted to a string), representing the JavaScript source code of the module. An optional SourceMap result (as a JSON object) may also be passed.</p> <p>A single result can be returned in <a href="#synchronous-loaders">sync mode</a>. For multiple results the <code>this.callback()</code> must be called. In <a href="#asynchronous-loaders">async mode</a> <code>this.async()</code> must be called to indicate that the <a href="https://github.com/webpack/loader-runner">loader runner</a> should wait for an asynchronous result. It returns <code>this.callback()</code>. Then the loader must return <code>undefined</code> and call that callback.</p> <pre><code class="hljs language-js"><span class="token comment">/**
 *
 * @param {string|Buffer} content Content of the resource file
 * @param {object} [map] SourceMap data consumable by https://github.com/mozilla/source-map
 * @param {any} [meta] Meta data, could be anything
 */</span>
<span class="token keyword">function</span> <span class="token function">webpackLoader</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// code of your webpack loader</span>
<span class="token punctuation">}</span></code></pre> <h2 id="examples">Examples<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following sections provide some basic examples of the different types of loaders. Note that the <code>map</code> and <code>meta</code> parameters are optional, see <a href="#thiscallback"><code>this.callback</code></a> below.</p> <h3 id="synchronous-loaders">Synchronous Loaders<a href="#synchronous-loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Either <code>return</code> or <code>this.callback</code> can be used to return the transformed <code>content</code> synchronously:</p> <p><strong>sync-loader.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The <code>this.callback</code> method is more flexible as it allows multiple arguments to be passed as opposed to only the <code>content</code>.</p> <p><strong>sync-loader-with-multiple-results.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// always return undefined when calling callback()</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="asynchronous-loaders">Asynchronous Loaders<a href="#asynchronous-loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>For asynchronous loaders, <a href="#thisasync"><code>this.async</code></a> is used to retrieve the <code>callback</code> function:</p> <p><strong>async-loader.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">someAsyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>async-loader-with-multiple-results.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> map<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">someAsyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result<span class="token punctuation">,</span> sourceMaps<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">,</span> sourceMaps<span class="token punctuation">,</span> meta<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Loaders were originally designed to work in synchronous loader pipelines, like Node.js (using <a href="https://github.com/webpack/enhanced-require">enhanced-require</a>), <em>and</em> asynchronous pipelines, like in webpack. However, since expensive synchronous computations are a bad idea in a single-threaded environment like Node.js, we advise making your loader asynchronous if possible. Synchronous loaders are ok if the amount of computation is trivial.</p></aside> <h3 id="raw-loader">"Raw" Loader<a href="#raw-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>By default, the resource file is converted to a UTF-8 string and passed to the loader. By setting the <code>raw</code> flag to <code>true</code>, the loader will receive the raw <code>Buffer</code>. Every loader is allowed to deliver its result as a <code>String</code> or as a <code>Buffer</code>. The compiler converts them between loaders.</p> <p><strong>raw-loader.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span>content <span class="token keyword">instanceof</span> <span class="token class-name">Buffer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// return value can be a `Buffer` too</span>
  <span class="token comment">// This is also allowed if loader is not "raw"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>raw <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code></pre> <h3 id="pitching-loader">Pitching Loader<a href="#pitching-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Loaders are <strong>always</strong> called from right to left. There are some instances where the loader only cares about the <strong>metadata</strong> behind a request and can ignore the results of the previous loader. The <code>pitch</code> method on loaders is called from <strong>left to right</strong> before the loaders are actually executed (from right to left).</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Loaders may be added inline in requests and disabled via inline prefixes, which will impact the order in which they are "pitched" and executed. See <a href="/configuration/module/#ruleenforce"><code>Rule.enforce</code></a> for more details.</p></aside> <p>For the following configuration of <a href="/configuration/module/#ruleuse"><code>use</code></a>:</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a-loader'</span><span class="token punctuation">,</span> <span class="token string">'b-loader'</span><span class="token punctuation">,</span> <span class="token string">'c-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>These steps would occur:</p> <pre><code class="hljs language-diff">|- a-loader `pitch`
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> |- b-loader `pitch`
</span><span class="token prefix unchanged"> </span><span class="token line">   |- c-loader `pitch`
</span><span class="token prefix unchanged"> </span><span class="token line">     |- requested module is picked up as a dependency
</span><span class="token prefix unchanged"> </span><span class="token line">   |- c-loader normal execution
</span><span class="token prefix unchanged"> </span><span class="token line"> |- b-loader normal execution
</span></span>|- a-loader normal execution</code></pre> <p>So why might a loader take advantage of the "pitching" phase?</p> <p>First, the <code>data</code> passed to the <code>pitch</code> method is exposed in the execution phase as well under <code>this.data</code> and could be useful for capturing and sharing information from earlier in the cycle.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">remainingRequest<span class="token punctuation">,</span> precedingRequest<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Second, if a loader delivers a result in the <code>pitch</code> method, the process turns around and skips the remaining loaders. In our example above, if the <code>b-loader</code>s <code>pitch</code> method returned something:</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">someSyncOperation</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">remainingRequest<span class="token punctuation">,</span> precedingRequest<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">someCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token string">'module.exports = require('</span> <span class="token operator">+</span>
      <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'-!'</span> <span class="token operator">+</span> remainingRequest<span class="token punctuation">)</span> <span class="token operator">+</span>
      <span class="token string">');'</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The steps above would be shortened to:</p> <pre><code class="hljs language-diff">|- a-loader `pitch`
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> |- b-loader `pitch` returns a module
</span></span>|- a-loader normal execution</code></pre> <h2 id="the-loader-context">The Loader Context<a href="#the-loader-context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The loader context represents the properties that are available inside of a loader assigned to the <code>this</code> property.</p> <h3 id="example-for-the-loader-context">Example for the loader context<a href="#example-for-the-loader-context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Given the following example, this require call is used:</p> <p>In <code>/abc/file.js</code>:</p> <pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./loader1?xyz!loader2!./resource?rrr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="thisaddcontextdependency"><code>this.addContextDependency</code><a href="#thisaddcontextdependency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">addContextDependency</span><span class="token punctuation">(</span>directory<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span></code></pre> <p>Add a directory as dependency of the loader result.</p> <h3 id="thisadddependency"><code>this.addDependency</code><a href="#thisadddependency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">addDependency</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
<span class="token function">dependency</span><span class="token punctuation">(</span>file<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token comment">// shortcut</span></code></pre> <p>Add a file as dependency of the loader result in order to make them watchable. For example, <a href="https://github.com/webpack-contrib/sass-loader"><code>sass-loader</code></a>, <a href="https://github.com/webpack-contrib/less-loader"><code>less-loader</code></a> uses this to recompile whenever any imported <code>css</code> file changes.</p> <h3 id="thisasync"><code>this.async</code><a href="#thisasync" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Tells the <a href="https://github.com/webpack/loader-runner">loader-runner</a> that the loader intends to call back asynchronously. Returns <code>this.callback</code>.</p> <h3 id="thiscacheable"><code>this.cacheable</code><a href="#thiscacheable" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>A function that sets the cacheable flag:</p> <pre><code class="hljs language-typescript"><span class="token function">cacheable</span><span class="token punctuation">(</span>flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span></code></pre> <p>By default, loader results are flagged as cacheable. Call this method passing <code>false</code> to make the loader's result not cacheable.</p> <p>A cacheable loader must have a deterministic result when inputs and dependencies haven't changed. This means the loader shouldn't have dependencies other than those specified with <code>this.addDependency</code>.</p> <h3 id="thiscallback"><code>this.callback</code><a href="#thiscallback" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>A function that can be called synchronously or asynchronously in order to return multiple results. The expected arguments are:</p> <pre><code class="hljs language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
  err<span class="token operator">:</span> Error <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> Buffer<span class="token punctuation">,</span>
  sourceMap<span class="token operator">?</span><span class="token operator">:</span> SourceMap<span class="token punctuation">,</span>
  meta<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <ol> <li>The first argument must be an <code>Error</code> or <code>null</code></li> <li>The second argument is a <code>string</code> or a <a href="https://nodejs.org/api/buffer.html"><code>Buffer</code></a>.</li> <li>Optional: The third argument must be a source map that is parsable by <a href="https://github.com/mozilla/source-map">this module</a>.</li> <li>Optional: The fourth option, ignored by webpack, can be anything (e.g. some metadata).</li> </ol> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>It can be useful to pass an abstract syntax tree (AST), like <a href="https://github.com/estree/estree"><code>ESTree</code></a>, as the fourth argument (<code>meta</code>) to speed up the build time if you want to share common ASTs between loaders.</p></aside> <p>In case this function is called, you should return undefined to avoid ambiguous loader results.</p> <h3 id="thiscleardependencies"><code>this.clearDependencies</code><a href="#thiscleardependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">clearDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Remove all dependencies of the loader result, even initial dependencies and those of other loaders. Consider using <code>pitch</code>.</p> <h3 id="thiscontext"><code>this.context</code><a href="#thiscontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>The directory of the module.</strong> Can be used as a context for resolving other stuff.</p> <p>In <a href="#example-for-the-loader-context">the example</a>: <code>/abc</code> because <code>resource.js</code> is in this directory</p> <h3 id="thisdata"><code>this.data</code><a href="#thisdata" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>A data object shared between the pitch and the normal phase.</p> <h3 id="thisemiterror"><code>this.emitError</code><a href="#thisemiterror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">emitError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span></code></pre> <p>Emit an error that also can be displayed in the output.</p> <pre><code class="hljs language-bash">ERROR <span class="token keyword">in</span> ./src/lib.js <span class="token punctuation">(</span>./src/loader.js<span class="token operator">!</span>./src/lib.js<span class="token punctuation">)</span>
Module Error <span class="token punctuation">(</span>from ./src/loader.js<span class="token punctuation">)</span>:
Here is an Error<span class="token operator">!</span>
 @ ./src/index.js <span class="token number">1</span>:0-25</code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Unlike throwing an Error directly, it will NOT interrupt the compilation process of the current module.</p></aside> <h3 id="thisemitfile"><code>this.emitFile</code><a href="#thisemitfile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">emitFile</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> content<span class="token operator">:</span> Buffer<span class="token operator">|</span><span class="token builtin">string</span><span class="token punctuation">,</span> sourceMap<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre> <p>Emit a file. This is webpack-specific.</p> <h3 id="thisemitwarning"><code>this.emitWarning</code><a href="#thisemitwarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">emitWarning</span><span class="token punctuation">(</span>warning<span class="token operator">:</span> Error<span class="token punctuation">)</span></code></pre> <p>Emit a warning that will be displayed in the output like the following:</p> <pre><code class="hljs language-bash">WARNING <span class="token keyword">in</span> ./src/lib.js <span class="token punctuation">(</span>./src/loader.js<span class="token operator">!</span>./src/lib.js<span class="token punctuation">)</span>
Module Warning <span class="token punctuation">(</span>from ./src/loader.js<span class="token punctuation">)</span>:
Here is a Warning<span class="token operator">!</span>
 @ ./src/index.js <span class="token number">1</span>:0-25</code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Note that the warnings will not be displayed if <code>stats.warnings</code> is set to <code>false</code>, or some other omit setting is used to <code>stats</code> such as <code>none</code> or <code>errors-only</code>. See the <a href="/configuration/stats/#stats-presets">stats presets configuration</a>.</p></aside> <h3 id="thisfs"><code>this.fs</code><a href="#thisfs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Access to the <code>compilation</code>'s <code>inputFileSystem</code> property.</p> <h3 id="thisgetoptionsschema"><code>this.getOptions(schema)</code><a href="#thisgetoptionsschema" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Extracts given loader options. Optionally, accepts JSON schema as an argument.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Since webpack 5, <code>this.getOptions</code> is available in loader context. It substitutes <code>getOptions</code> method from <a href="https://github.com/webpack/loader-utils#getoptions">loader-utils</a>.</p></aside> <h3 id="thisgetresolve"><code>this.getResolve</code><a href="#thisgetresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">getResolve</span><span class="token punctuation">(</span>options<span class="token operator">:</span> ResolveOptions<span class="token punctuation">)</span><span class="token operator">:</span> resolve

<span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> result<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span></code></pre> <p>Creates a resolve function similar to <a href="#thisresolve"><code>this.resolve</code></a>.</p> <p>Any options under webpack <a href="/configuration/resolve/#resolve"><code>resolve</code> options</a> are possible. They are merged with the configured <code>resolve</code> options. Note that <code>"..."</code> can be used in arrays to extend the value from <code>resolve</code> options, e.g. <code>{ extensions: [".sass", "..."] }</code>.</p> <p><code>options.dependencyType</code> is an additional option. It allows us to specify the type of dependency, which is used to resolve <code>byDependency</code> from the <code>resolve</code> options.</p> <p>All dependencies of the resolving operation are automatically added as dependencies to the current module.</p> <h3 id="thishot"><code>this.hot</code><a href="#thishot" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Information about HMR for loaders.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hot<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true if HMR is enabled via --hot flag or webpack configuration</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="thisimportmodule">this.importModule<a href="#thisimportmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <Badge text="5.32.0+"/> <p><code>this.importModule(request, options, [callback]): Promise</code></p> <p>An alternative lightweight solution for the child compiler to compile and execute a request at build time. It can be enabled with the <a href="/configuration/experiments/#experimentsexecutemodule"><code>experiments.executeModule</code></a>.</p> <ul> <li><code>request</code>: the request string to load the module from</li> <li><code>options</code>: <ul> <li><code>layer</code>: specify a layer in which this module is placed/compiled</li> <li><code>publicPath</code>: the public path used for the built modules</li> </ul> </li> <li><code>callback</code>: an optional function returning the exports. <code>importModule</code> will return a Promise if no callback is provided.</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/stylesheet\.js$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./a-pitching-loader.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'asset/source'</span><span class="token punctuation">,</span> <span class="token comment">// we set type to 'asset/source' as the loader will return a string</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>a-pitching-loader.js</strong></p> <pre><code class="hljs language-js">exports<span class="token punctuation">.</span><span class="token function-variable function">pitch</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">remaining</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">importModule</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resourcePath <span class="token operator">+</span> <span class="token string">'.webpack[javascript/auto]'</span> <span class="token operator">+</span> <span class="token string">'!=!'</span> <span class="token operator">+</span> remaining
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">.</span>default <span class="token operator">||</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>src/stylesheet.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> green<span class="token punctuation">,</span> red <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./colors.js'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">body { background: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>red<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>green<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">; }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre> <p><strong>src/colors.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> red <span class="token operator">=</span> <span class="token string">'#f00'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> green <span class="token operator">=</span> <span class="token string">'#0f0'</span><span class="token punctuation">;</span></code></pre> <p><strong>src/index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> stylesheet <span class="token keyword">from</span> <span class="token string">'./stylesheet.js'</span><span class="token punctuation">;</span>
<span class="token comment">// stylesheet will be a string `body { background: #f00; color: #0f0; }` at build time</span></code></pre> <p>You might notice something in the above example:</p> <ol> <li>We have a <a href="#pitching-loader">pitching loader</a>,</li> <li>We use <code>!=!</code> syntax in that pitching loader to set <a href="#inline-matchresource">matchResource</a> for the request, i.e., we'll use <code>this.resourcePath + '.webpack[javascript/auto]'</code> to match with the <a href="/configuration/module/#modulerules"><code>module.rules</code></a> instead of the original resource,</li> <li><code>.webpack[javascript/auto]</code> is a pseudo extension of the <code>.webpack[type]</code> pattern, we use it to specify a default <a href="/configuration/module/#ruletype">module type</a> when no other module type is specified. It's typically used in conjunction with <code>!=!</code> syntax.</li> </ol> <p>Note that the above example is a simplified one, you can check <a href="https://github.com/webpack/webpack/tree/master/test/configCases/loader-import-module/css">the full example on webpack repository</a>.</p> <h3 id="thisloaderindex"><code>this.loaderIndex</code><a href="#thisloaderindex" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The index in the loaders array of the current loader.</p> <p>In <a href="#example-for-the-loader-context">the example</a>: in loader1: <code>0</code>, in loader2: <code>1</code></p> <h3 id="thisloadmodule"><code>this.loadModule</code><a href="#thisloadmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">loadModule</span><span class="token punctuation">(</span>request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> source<span class="token punctuation">,</span> sourceMap<span class="token punctuation">,</span> <span class="token keyword">module</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> <p>Resolves the given request to a module, applies all configured loaders and calls back with the generated source, the sourceMap and the module instance (usually an instance of <a href="https://github.com/webpack/webpack/blob/master/lib/NormalModule.js"><code>NormalModule</code></a>). Use this function if you need to know the source code of another module to generate the result.</p> <p><code>this.loadModule</code> in a loader context uses CommonJS resolve rules by default. Use <code>this.getResolve</code> with an appropriate <code>dependencyType</code>, e.g. <code>'esm'</code>, <code>'commonjs'</code> or a custom one before using a different semantic.</p> <h3 id="thisloaders"><code>this.loaders</code><a href="#thisloaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>An array of all the loaders. It is writable in the pitch phase.</p> <pre><code class="hljs language-ts">loaders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> path<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> query<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">module</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre> <p>In <a href="#example-for-the-loader-context">the example</a>:</p> <pre><code class="hljs language-javascript"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    request<span class="token operator">:</span> <span class="token string">'/abc/loader1.js?xyz'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">'/abc/loader1.js'</span><span class="token punctuation">,</span>
    query<span class="token operator">:</span> <span class="token string">'?xyz'</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    request<span class="token operator">:</span> <span class="token string">'/abc/node_modules/loader2/index.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">'/abc/node_modules/loader2/index.js'</span><span class="token punctuation">,</span>
    query<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">[</span>Function<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <h3 id="thismode"><code>this.mode</code><a href="#thismode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Read in which <a href="/configuration/mode/"><code>mode</code></a> webpack is running.</p> <p>Possible values: <code>'production'</code>, <code>'development'</code>, <code>'none'</code></p> <h3 id="thisquery"><code>this.query</code><a href="#thisquery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ol> <li>If the loader was configured with an <a href="/configuration/module/#useentry"><code>options</code></a> object, this will point to that object.</li> <li>If the loader has no <code>options</code>, but was invoked with a query string, this will be a string starting with <code>?</code>.</li> </ol> <h3 id="thisrequest"><code>this.request</code><a href="#thisrequest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The resolved request string.</p> <p>In <a href="#example-for-the-loader-context">the example</a>: <code>'/abc/loader1.js?xyz!/abc/node_modules/loader2/index.js!/abc/resource.js?rrr'</code></p> <h3 id="thisresolve"><code>this.resolve</code><a href="#thisresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> request<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> result<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> <p>Resolve a request like a require expression.</p> <ul> <li><code>context</code> must be an absolute path to a directory. This directory is used as the starting location for the resolving.</li> <li><code>request</code> is the request to be resolved. Usually either relative requests like <code>./relative</code> or module requests like <code>module/path</code> are used, but absolute paths like <code>/some/path</code> are also possible as requests.</li> <li><code>callback</code> is a normal Node.js-style callback function giving the resolved path.</li> </ul> <p>All dependencies of the resolving operation are automatically added as dependencies to the current module.</p> <h3 id="thisresource"><code>this.resource</code><a href="#thisresource" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The resource part of the request, including query.</p> <p>In <a href="#example-for-the-loader-context">the example</a>: <code>'/abc/resource.js?rrr'</code></p> <h3 id="thisresourcepath"><code>this.resourcePath</code><a href="#thisresourcepath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The resource file.</p> <p>In <a href="#example-for-the-loader-context">the example</a>: <code>'/abc/resource.js'</code></p> <h3 id="thisresourcequery"><code>this.resourceQuery</code><a href="#thisresourcequery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The query of the resource.</p> <p>In <a href="#example-for-the-loader-context">the example</a>: <code>'?rrr'</code></p> <h3 id="thisrootcontext"><code>this.rootContext</code><a href="#thisrootcontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Since webpack 4, the formerly <code>this.options.context</code> is provided as <code>this.rootContext</code>.</p> <h3 id="thissourcemap"><code>this.sourceMap</code><a href="#thissourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Tells if source map should be generated. Since generating source maps can be an expensive task, you should check if source maps are actually requested.</p> <h3 id="thistarget"><code>this.target</code><a href="#thistarget" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Target of compilation. Passed from configuration options.</p> <p>Example values: <code>'web'</code>, <code>'node'</code></p> <h3 id="thisutils">this.utils<a href="#thisutils" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <Badge text="5.27.0+"/> <p>Access to <code>contextify</code> and <code>absolutify</code> utilities.</p> <ul> <li><code>contextify</code>: Return a new request string avoiding absolute paths when possible.</li> <li><code>absolutify</code>: Return a new request string using absolute paths when possible.</li> </ul> <p><strong>my-sync-loader.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">contextify</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">absolutify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> <span class="token string">'./index.js'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>utils<span class="token punctuation">.</span><span class="token function">absolutify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// …</span>
  <span class="token keyword">return</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="thisversion"><code>this.version</code><a href="#thisversion" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Loader API version.</strong> Currently <code>2</code>. This is useful for providing backwards compatibility. Using the version you can specify custom logic or fallbacks for breaking changes.</p> <h3 id="thiswebpack"><code>this.webpack</code><a href="#thiswebpack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This boolean is set to true when this is compiled by webpack.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Loaders were originally designed to also work as Babel transforms. Therefore, if you write a loader that works for both, you can use this property to know if there is access to additional loaderContext and webpack features.</p></aside> <h2 id="webpack-specific-properties">Webpack specific properties<a href="#webpack-specific-properties" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The loader interface provides all module relate information. However in rare cases you might need access to the compiler api itself.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Please note that using these webpack specific properties will have a negative impact on your loaders compatibility.</p></aside> <p>Therefore you should only use them as a last resort. Using them will reduce the portability of your loader.</p> <h3 id="this_compilation"><code>this._compilation</code><a href="#this_compilation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Access to the current Compilation object of webpack.</p> <h3 id="this_compiler"><code>this._compiler</code><a href="#this_compiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Access to the current Compiler object of webpack.</p> <h2 id="deprecated-context-properties">Deprecated context properties<a href="#deprecated-context-properties" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>The usage of these properties is highly discouraged since we are planning to remove them from the context. They are still listed here for documentation purposes.</p></aside> <h3 id="thisdebug"><code>this.debug</code><a href="#thisdebug" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>A boolean flag. It is set when in debug mode.</p> <h3 id="thisinputvalue"><code>this.inputValue</code><a href="#thisinputvalue" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Passed from the last loader. If you would execute the input argument as a module, consider reading this variable for a shortcut (for performance).</p> <h3 id="thisminimize"><code>this.minimize</code><a href="#thisminimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Tells if result should be minimized.</p> <h3 id="thisvalue"><code>this.value</code><a href="#thisvalue" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Pass values to the next loader. If you know what your result exports if executed as a module, set this value here (as an only element array).</p> <h3 id="this_module"><code>this._module</code><a href="#this_module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Hacky access to the Module object being loaded.</p> <h2 id="error-reporting">Error Reporting<a href="#error-reporting" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You can report errors from inside a loader by:</p> <ul> <li>Using <a href="/api/loaders/#thisemiterror">this.emitError</a>. Will report the errors without interrupting module's compilation.</li> <li>Using <code>throw</code> (or other uncaught exception). Throwing an error while a loader is running will cause current module compilation failure.</li> <li>Using <code>callback</code> (in async mode). Pass an error to the callback will also cause module compilation failure.</li> </ul> <p>For example:</p> <p><strong>./src/index.js</strong></p> <pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./loader!./lib'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Throwing an error from loader:</p> <p><strong>./src/loader.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'This is a Fatal Error!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Or pass an error to the callback in async mode:</p> <p><strong>./src/loader.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
  <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'This is a Fatal Error!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The module will get bundled like this:</p> <pre><code>/***/ "./src/loader.js!./src/lib.js":
/*!************************************!*\
  !*** ./src/loader.js!./src/lib.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

throw new Error("Module build failed (from ./src/loader.js):\nError: This is a Fatal Error!\n    at Object.module.exports (/workspace/src/loader.js:3:9)");

/***/ })
</code></pre> <p>Then the build output will also display the error (Similar to <code>this.emitError</code>):</p> <pre><code class="hljs language-bash">ERROR <span class="token keyword">in</span> ./src/lib.js <span class="token punctuation">(</span>./src/loader.js<span class="token operator">!</span>./src/lib.js<span class="token punctuation">)</span>
Module build failed <span class="token punctuation">(</span>from ./src/loader.js<span class="token punctuation">)</span>:
Error: This is a Fatal Error<span class="token operator">!</span>
    at Object.module.exports <span class="token punctuation">(</span>/workspace/src/loader.js:2:9<span class="token punctuation">)</span>
 @ ./src/index.js <span class="token number">1</span>:0-25</code></pre> <p>As you can see below, not only error message, but also details about which loader and module are involved:</p> <ul> <li>the module path: <code>ERROR in ./src/lib.js</code></li> <li>the request string: <code>(./src/loader.js!./src/lib.js)</code></li> <li>the loader path: <code>(from ./src/loader.js)</code></li> <li>the caller path: <code>@ ./src/index.js 1:0-25</code></li> </ul> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>The loader path in the error is displayed since webpack 4.12</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>All the errors and warnings will be recorded into <code>stats</code>. Please see <a href="/api/stats/#errors-and-warnings">Stats Data</a>.</p></aside> <h2 id="inline-matchresource">Inline matchResource<a href="#inline-matchresource" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>A new inline request syntax was introduced in webpack v4. Prefixing <code>&#x3C;match-resource>!=!</code> to a request will set the <code>matchResource</code> for this request.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>It is not recommended to use this syntax in application code. Inline request syntax is intended to only be used by loader generated code. Not following this recommendation will make your code webpack-specific and non-standard.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>A relative <code>matchResource</code> will resolve relative to the current context of the containing module.</p></aside> <p>When a <code>matchResource</code> is set, it will be used to match with the <a href="/configuration/module/#modulerules"><code>module.rules</code></a> instead of the original resource. This can be useful if further loaders should be applied to the resource, or if the module type needs to be changed. It's also displayed in the stats and used for matching <a href="/configuration/module/#ruleissuer"><code>Rule.issuer</code></a> and <a href="/plugins/split-chunks-plugin/#splitchunkscachegroupscachegrouptest"><code>test</code> in <code>splitChunks</code></a>.</p> <p>Example:</p> <p><strong>file.js</strong></p> <pre><code class="hljs language-javascript"><span class="token comment">/* STYLE: body { background: red; } */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'yep'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>A loader could transform the file into the following file and use the <code>matchResource</code> to apply the user-specified CSS processing rules:</p> <p><strong>file.js</strong> (transformed by loader)</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token string">'./file.js.css!=!extract-style-loader/getStyles!./file.js'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'yep'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>This will add a dependency to <code>extract-style-loader/getStyles!./file.js</code> and treat the result as <code>file.js.css</code>. Because <a href="/configuration/module/#modulerules"><code>module.rules</code></a> has a rule matching <code>/\.css$/</code> and it will apply to this dependency.</p> <p>The loader could look like this:</p> <p><strong>extract-style-loader/index.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> stringifyRequest <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'loader-utils'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>stringifyRequest<span class="token punctuation">;</span>
<span class="token keyword">const</span> getRemainingRequest <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'loader-utils'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getRemainingRequest<span class="token punctuation">;</span>
<span class="token keyword">const</span> getStylesLoader <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./getStyle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">STYLES_REGEXP</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    source <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token constant">STYLES_REGEXP</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> remReq <span class="token operator">=</span> <span class="token function">getRemainingRequest</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">stringifyRequest</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>resource<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.css!=!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>getStylesLoader<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>remReq<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>source<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>extract-style-loader/getStyles.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> <span class="token constant">STYLES_REGEXP</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="logging">Logging<a href="#logging" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Logging API is available since the release of webpack 4.37. When <code>logging</code> is enabled in <a href="/configuration/stats/#statslogging"><code>stats configuration</code></a> and/or when <a href="/configuration/other-options/#infrastructurelogging"><code>infrastructure logging</code></a> is enabled, loaders may log messages which will be printed out in the respective logger format (stats, infrastructure).</p> <ul> <li>Loaders should prefer to use <code>this.getLogger()</code> for logging which is a shortcut to <code>compilation.getLogger()</code> with loader path and processed file. This kind of logging is stored to the Stats and formatted accordingly. It can be filtered and exported by the webpack user.</li> <li>Loaders may use <code>this.getLogger('name')</code> to get an independent logger with a child name. Loader path and processed file is still added.</li> <li>Loaders may use special fallback logic for detecting logging support <code>this.getLogger() ? this.getLogger() : console</code> to provide a fallback when an older webpack version is used which does not support <code>getLogger</code> method.</li> </ul> <h1 id="logger-interface">Logger Interface<a href="#logger-interface" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Available since webpack 4.39.0</p></aside> <p>Logging output is an additional way to display messages to the end users.</p> <p>webpack logger is available to <a href="/loaders/">loaders</a> and <a href="/api/plugins/#logging">plugins</a>. Emitting as part of the <a href="/api/stats/">Stats</a> and configured by the user in <a href="/configuration/">webpack configuration</a>.</p> <p>Benefits of custom logging API in webpack:</p> <ul> <li>Common place to <a href="/configuration/stats/#statslogging">configure the logging</a> display level</li> <li>Logging output exportable as part of the <code>stats.json</code></li> <li>Stats presets affect logging output</li> <li>Plugins can affect logging capturing and display level</li> <li>When using multiple plugins and loaders they use a common logging solution</li> <li>CLI, UI tools for webpack may choose different ways to display logging</li> <li>webpack core can emit logging output, e.g. timing data</li> </ul> <p>By introducing webpack logging API we hope to unify the way webpack plugins and loaders emit logs and allow better ways to inspect build problems. Integrated logging solution supports plugins and loaders developers by improving their development experience. Paves the way for non-CLI webpack solutions like dashboards or other UIs.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><strong>Avoid noise in the log!</strong> Keep in mind that multiple plugins and loaders are used together. Loaders are usually processing multiple files and are invoked for every file. Choose a logging level as low as possible to keep the log output informative.</p></aside> <h2 id="examples-of-how-to-get-and-use-webpack-logger-in-loaders-and-plugins">Examples of how to get and use webpack logger in loaders and plugins<a href="#examples-of-how-to-get-and-use-webpack-logger-in-loaders-and-plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>my-webpack-plugin.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token constant">PLUGIN_NAME</span> <span class="token operator">=</span> <span class="token string">'my-webpack-plugin'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// you can access Logger from compiler</span>
    <span class="token keyword">const</span> logger <span class="token operator">=</span> compiler<span class="token punctuation">.</span><span class="token function">getInfrastructureLogger</span><span class="token punctuation">(</span><span class="token constant">PLUGIN_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'log from compiler'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compilation<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token constant">PLUGIN_NAME</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// you can also access Logger from compilation</span>
      <span class="token keyword">const</span> logger <span class="token operator">=</span> compilation<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token constant">PLUGIN_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'log from compilation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p><strong>my-webpack-loader.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// you can get Logger with `this.getLogger` in your webpack loaders</span>
  <span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">'my-webpack-loader'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'hello Logger'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="logger-methods">Logger methods<a href="#logger-methods" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>logger.error(...)</code>: for error messages</li> <li><code>logger.warn(...)</code>: for warnings</li> <li><code>logger.info(...)</code>: for <strong>important</strong> information messages. These messages are displayed by default. Only use this for messages that the user really needs to see</li> <li><code>logger.log(...)</code>: for <strong>unimportant</strong> information messages. These messages are displayed only when user had opted-in to see them</li> <li><code>logger.debug(...)</code>: for debugging information. These messages are displayed only when user had opted-in to see debug logging for specific modules</li> <li><code>logger.trace()</code>: to display a stack trace. Displayed like <code>logger.debug</code></li> <li><code>logger.group(...)</code>: to group messages. Displayed collapsed like <code>logger.log</code></li> <li><code>logger.groupEnd()</code>: to end a logging group</li> <li><code>logger.groupCollapsed(...)</code>: to group messages together. Displayed collapsed like <code>logger.log</code>. Displayed expanded when logging level is set to <code>'verbose'</code> or <code>'debug'</code>.</li> <li><code>logger.status</code>: writes a temporary message, setting a new status, overrides the previous one</li> <li><code>logger.clear()</code>: to print a horizontal line. Displayed like <code>logger.log</code></li> <li><code>logger.profile(...)</code>, <code>logger.profileEnd(...)</code>: to capture a profile. Delegated to <code>console.profile</code> when supported</li> </ul> <h2 id="runtime-logger-api">Runtime Logger API<a href="#runtime-logger-api" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Runtime logger API is only intended to be used as a development tool, it is not intended to be included in <a href="/configuration/mode/#mode-production">production mode</a>.</p> <ul> <li><code>const logging = require('webpack/lib/logging/runtime')</code>: to use the logger in runtime, require it directly from webpack</li> <li><code>logging.getLogger('name')</code>: to get individual logger by name</li> <li><code>logging.configureDefaultLogger(...)</code>: to override the default logger.</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> logging <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/logging/runtime'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logging<span class="token punctuation">.</span><span class="token function">configureDefaultLogger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  level<span class="token operator">:</span> <span class="token string">'log'</span><span class="token punctuation">,</span>
  debug<span class="token operator">:</span> <span class="token regex">/something/</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <ul> <li><code>logging.hooks.log</code>: to apply Plugins to the runtime logger</li> </ul> <h1 id="module-methods">Module Methods<a href="#module-methods" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This section covers all methods available in code compiled with webpack. When using webpack to bundle your application, you can pick from a variety of module syntax styles including <a href="https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015">ES6</a>, <a href="https://en.wikipedia.org/wiki/CommonJS">CommonJS</a>, and <a href="https://en.wikipedia.org/wiki/Asynchronous_module_definition">AMD</a>.</p> <p>While webpack supports multiple module syntaxes, we recommend following a single syntax for consistency and to avoid odd behaviors/bugs. Actually webpack would enforce the recommendation for <code>.mjs</code> files, <code>.cjs</code> files or <code>.js</code> files when their nearest parent <code>package.json</code> file contains a <code>"type"</code> field with a value of either <code>"module"</code> or <code>"commonjs"</code>. Please pay attention to these enforcements before you read on:</p> <ul> <li><code>.mjs</code> or <code>.js</code> with <code>"type": "module"</code> in <code>package.json</code> <ul> <li>No CommonJS allowed, for example, you can't use <code>require</code>, <code>module.exports</code> or <code>exports</code></li> <li>File extensions are required when importing, e.g, you should use <code>import './src/App.mjs'</code> instead of <code>import './src/App'</code> (you can disable this enforcement with <a href="/configuration/module/#resolvefullyspecified"><code>Rule.resolve.fullySpecified</code></a>)</li> </ul> </li> <li><code>.cjs</code> or <code>.js</code> with <code>"type": "commonjs"</code> in <code>package.json</code> <ul> <li>Neither <code>import</code> nor <code>export</code> is available</li> </ul> </li> <li><code>.wasm</code> with <code>"type": "module"</code> in <code>package.json</code> <ul> <li>File extensions are required when importing wasm file</li> </ul> </li> </ul> <h2 id="es6-recommended">ES6 (Recommended)<a href="#es6-recommended" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Version 2 of webpack supports ES6 module syntax natively, meaning you can use <code>import</code> and <code>export</code> without a tool like babel to handle this for you. Keep in mind that you will still probably need babel for other ES6+ features. The following methods are supported by webpack:</p> <h3 id="import"><code>import</code><a href="#import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Statically <code>import</code> the <code>export</code>s of another module.</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> MyModule <span class="token keyword">from</span> <span class="token string">'./my-module.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NamedExport <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./other-module.js'</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>The keyword here is <strong>statically</strong>. A normal <code>import</code> statement cannot be used dynamically within other logic or contain variables. See the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">spec</a> for more information and <code>import()</code> below for dynamic usage.</p></aside> <p>You can also <code>import</code> Data URI:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token string">'data:text/javascript;charset=utf-8;base64,Y29uc29sZS5sb2coJ2lubGluZSAxJyk7'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  number<span class="token punctuation">,</span>
  fn<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'data:text/javascript;charset=utf-8;base64,ZXhwb3J0IGNvbnN0IG51bWJlciA9IDQyOwpleHBvcnQgY29uc3QgZm4gPSAoKSA9PiAiSGVsbG8gd29ybGQiOw=='</span><span class="token punctuation">;</span></code></pre> <h3 id="export"><code>export</code><a href="#export" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Export anything as a <code>default</code> or named export.</p> <pre><code class="hljs language-javascript"><span class="token comment">// Named exports</span>
<span class="token keyword">export</span> <span class="token keyword">var</span> Count <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Multiply</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Default export</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// Some data...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="import-1"><code>import()</code><a href="#import-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function(string path):Promise</code></p> <p>Dynamically load modules. Calls to <code>import()</code> are treated as split points, meaning the requested module and its children are split out into a separate chunk.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>The <a href="https://whatwg.github.io/loader/">ES2015 Loader spec</a> defines <code>import()</code> as method to load ES2015 modules dynamically on runtime.</p></aside> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something with lodash (a.k.a '_')...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This feature relies on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> internally. If you use <code>import()</code> with older browsers, remember to shim <code>Promise</code> using a polyfill such as <a href="https://github.com/stefanpenner/es6-promise">es6-promise</a> or <a href="https://github.com/taylorhakes/promise-polyfill">promise-polyfill</a>.</p></aside> <h3 id="dynamic-expressions-in-import">Dynamic expressions in import()<a href="#dynamic-expressions-in-import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>It is not possible to use a fully dynamic import statement, such as <code>import(foo)</code>. Because <code>foo</code> could potentially be any path to any file in your system or project.</p> <p>The <code>import()</code> must contain at least some information about where the module is located. Bundling can be limited to a specific directory or set of files so that when you are using a dynamic expression - every module that could potentially be requested on an <code>import()</code> call is included. For example, <code>import(`./locale/${language}.json`)</code> will cause every <code>.json</code> file in the <code>./locale</code> directory to be bundled into the new chunk. At run time, when the variable <code>language</code> has been computed, any file like <code>english.json</code> or <code>german.json</code> will be available for consumption.</p> <pre><code class="hljs language-javascript"><span class="token comment">// imagine we had a method to get language from cookies or other storage</span>
<span class="token keyword">const</span> language <span class="token operator">=</span> <span class="token function">detectVisitorLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./locale/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// do something with the translations</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Using the <a href="/api/module-methods/#magic-comments"><code>webpackInclude</code> and <code>webpackExclude</code></a> options allows you to add regex patterns that reduce the number of files that webpack will bundle for this import.</p></aside> <h4 id="magic-comments">Magic Comments<a href="#magic-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Inline comments to make features work. By adding comments to the import, we can do things such as name our chunk or select different modes. For a full list of these magic comments see the code below followed by an explanation of what these comments do.</p> <pre><code class="hljs language-js"><span class="token comment">// Single target</span>
<span class="token keyword">import</span><span class="token punctuation">(</span>
  <span class="token comment">/* webpackChunkName: "my-chunk-name" */</span>
  <span class="token comment">/* webpackMode: "lazy" */</span>
  <span class="token comment">/* webpackExports: ["default", "named"] */</span>
  <span class="token string">'module'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Multiple possible targets</span>
<span class="token keyword">import</span><span class="token punctuation">(</span>
  <span class="token comment">/* webpackInclude: /\.json$/ */</span>
  <span class="token comment">/* webpackExclude: /\.noimport\.json$/ */</span>
  <span class="token comment">/* webpackChunkName: "my-chunk-name" */</span>
  <span class="token comment">/* webpackMode: "lazy" */</span>
  <span class="token comment">/* webpackPrefetch: true */</span>
  <span class="token comment">/* webpackPreload: true */</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./locale/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js"><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackIgnore: true */</span> <span class="token string">'ignored-module.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><code>webpackIgnore</code>: Disables dynamic import parsing when set to <code>true</code>.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Note that setting <code>webpackIgnore</code> to <code>true</code> opts out of code splitting.</p></aside> <p><code>webpackChunkName</code>: A name for the new chunk. Since webpack 2.6.0, the placeholders <code>[index]</code> and <code>[request]</code> are supported within the given string to an incremented number or the actual resolved filename respectively. Adding this comment will cause our separate chunk to be named [my-chunk-name].js instead of [id].js.</p> <p><code>webpackMode</code>: Since webpack 2.6.0, different modes for resolving dynamic imports can be specified. The following options are supported:</p> <ul> <li><code>'lazy'</code> (default): Generates a lazy-loadable chunk for each <code>import()</code>ed module.</li> <li><code>'lazy-once'</code>: Generates a single lazy-loadable chunk that can satisfy all calls to <code>import()</code>. The chunk will be fetched on the first call to <code>import()</code>, and subsequent calls to <code>import()</code> will use the same network response. Note that this only makes sense in the case of a partially dynamic statement, e.g. <code>import(`./locales/${language}.json`)</code>, where multiple module paths that can potentially be requested.</li> <li><code>'eager'</code>: Generates no extra chunk. All modules are included in the current chunk and no additional network requests are made. A <code>Promise</code> is still returned but is already resolved. In contrast to a static import, the module isn't executed until the call to <code>import()</code> is made.</li> <li><code>'weak'</code>: Tries to load the module if the module function has already been loaded in some other way (e.g. another chunk imported it or a script containing the module was loaded). A <code>Promise</code> is still returned, but only successfully resolves if the chunks are already on the client. If the module is not available, the <code>Promise</code> is rejected. A network request will never be performed. This is useful for universal rendering when required chunks are always manually served in initial requests (embedded within the page), but not in cases where app navigation will trigger an import not initially served.</li> </ul> <p><code>webpackPrefetch</code>: Tells the browser that the resource is probably needed for some navigation in the future. Check out the guide for more information on <a href="/guides/code-splitting/#prefetchingpreloading-modules">how webpackPrefetch works</a>.</p> <p><code>webpackPreload</code>: Tells the browser that the resource might be needed during the current navigation. Check out the guide for more information on <a href="/guides/code-splitting/#prefetchingpreloading-modules">how webpackPreload works</a>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Note that all options can be combined like so <code>/* webpackMode: "lazy-once", webpackChunkName: "all-i18n-data" */</code>. This is wrapped in a JavaScript object and executed using <a href="https://nodejs.org/dist/latest-v8.x/docs/api/vm.html">node VM</a>. You do not need to add curly brackets.</p></aside> <p><code>webpackInclude</code>: A regular expression that will be matched against during import resolution. Only modules that match <strong>will be bundled</strong>.</p> <p><code>webpackExclude</code>: A regular expression that will be matched against during import resolution. Any module that matches <strong>will not be bundled</strong>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Note that <code>webpackInclude</code> and <code>webpackExclude</code> options do not interfere with the prefix. eg: <code>./locale</code>.</p></aside> <p><code>webpackExports</code>: tells webpack to only bundle the specified exports of a dynamically <code>import()</code>ed module. It can decrease the output size of a chunk. Available since <a href="https://github.com/webpack/webpack/releases/tag/v5.0.0-beta.18">webpack 5.0.0-beta.18</a>.</p> <h2 id="commonjs">CommonJS<a href="#commonjs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The goal of CommonJS is to specify an ecosystem for JavaScript outside the browser. The following CommonJS methods are supported by webpack:</p> <h3 id="require">require<a href="#require" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token keyword">require</span><span class="token punctuation">(</span>dependency<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Synchronously retrieve the exports from another module. The compiler will ensure that the dependency is available in the output bundle.</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> $ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jquery'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'my-module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>It's possible to enable magic comments for <code>require</code> as well, see <a href="/configuration/module/#moduleparserjavascriptcommonjsmagiccomments"><code>module.parser.javascript.commonjsMagicComments</code></a> for more.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Using it asynchronously may not have the expected effect.</p></aside> <h3 id="requireresolve"><code>require.resolve</code><a href="#requireresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-typescript"><span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>dependency<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Synchronously retrieve a module's ID. The compiler will ensure that the dependency is available in the output bundle. It is recommended to treat it as an opaque value which can only be used with <code>require.cache[id]</code> or <code>__webpack_require__(id)</code> (best to avoid such usage).</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Module ID's type can be a <code>number</code> or a <code>string</code> depending on the <a href="/configuration/optimization/#optimizationmoduleids"><code>optimization.moduleIds</code></a> configuration.</p></aside> <p>See <a href="/api/module-variables/#moduleid-commonjs"><code>module.id</code></a> for more information.</p> <h3 id="requirecache"><code>require.cache</code><a href="#requirecache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Multiple requires of the same module result in only one module execution and only one export. Therefore a cache in the runtime exists. Removing values from this cache causes new module execution and a new export.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This is only needed in rare cases for compatibility!</p></aside> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> d1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dependency'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dependency'</span><span class="token punctuation">)</span> <span class="token operator">===</span> d1<span class="token punctuation">;</span>
<span class="token keyword">delete</span> require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'dependency'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dependency'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> d1<span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-javascript"><span class="token comment">// in file.js</span>
require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>module<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">===</span> module<span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./file.js'</span><span class="token punctuation">)</span> <span class="token operator">===</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
<span class="token keyword">delete</span> require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>module<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>module<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./file.js'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span> <span class="token comment">// in theory; in praxis this causes a stack overflow</span>
require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>module<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">!==</span> module<span class="token punctuation">;</span></code></pre> <h3 id="requireensure"><code>require.ensure</code><a href="#requireensure" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>require.ensure()</code> is specific to webpack and superseded by <code>import()</code>.</p></aside> <pre><code class="hljs language-ts"><span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span>
  dependencies<span class="token operator">:</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">require</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">errorCallback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">,</span>
  chunkName<span class="token operator">:</span> String
<span class="token punctuation">)</span></code></pre> <p>Split out the given <code>dependencies</code> to a separate bundle that will be loaded asynchronously. When using CommonJS module syntax, this is the only way to dynamically load dependencies. Meaning, this code can be run within execution, only loading the <code>dependencies</code> if certain conditions are met.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This feature relies on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> internally. If you use <code>require.ensure</code> with older browsers, remember to shim <code>Promise</code> using a polyfill such as <a href="https://github.com/stefanpenner/es6-promise">es6-promise</a> or <a href="https://github.com/taylorhakes/promise-polyfill">promise-polyfill</a>.</p></aside> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'normal-dep'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Do something special...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>The following parameters are supported in the order specified above:</p> <ul> <li><code>dependencies</code>: An array of strings declaring all modules required for the code in the <code>callback</code> to execute.</li> <li><code>callback</code>: A function that webpack will execute once the dependencies are loaded. An implementation of the <code>require</code> function is sent as a parameter to this function. The function body can use this to further <code>require()</code> modules it needs for execution.</li> <li><code>errorCallback</code>: A function that is executed when webpack fails to load the dependencies.</li> <li><code>chunkName</code>: A name given to the chunk created by this particular <code>require.ensure()</code>. By passing the same <code>chunkName</code> to various <code>require.ensure()</code> calls, we can combine their code into a single chunk, resulting in only one bundle that the browser must load.</li> </ul> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Although the implementation of <code>require</code> is passed as an argument to the <code>callback</code> function, using an arbitrary name e.g. <code>require.ensure([], function(request) { request('someModule'); })</code> isn't handled by webpack's static parser. Use <code>require</code> instead, e.g. <code>require.ensure([], function(require) { require('someModule'); })</code>.</p></aside> <h2 id="amd">AMD<a href="#amd" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Asynchronous Module Definition (AMD) is a JavaScript specification that defines an interface for writing and loading modules. The following AMD methods are supported by webpack:</p> <h3 id="define-with-factory"><code>define</code> (with factory)<a href="#define-with-factory" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-ts"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token operator">:</span> String<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dependencies<span class="token operator">:</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">factoryMethod</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre> <p>If <code>dependencies</code> are provided, <code>factoryMethod</code> will be called with the exports of each dependency (in the same order). If <code>dependencies</code> are not provided, <code>factoryMethod</code> is called with <code>require</code>, <code>exports</code> and <code>module</code> (for compatibility!). If this function returns a value, this value is exported by the module. The compiler ensures that each dependency is available.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Note that webpack ignores the <code>name</code> argument.</p></aside> <pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jquery'</span><span class="token punctuation">,</span> <span class="token string">'my-module'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$<span class="token punctuation">,</span> myModule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with $ and myModule...</span>

  <span class="token comment">// Export a function</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This CANNOT be used in an asynchronous function.</p></aside> <h3 id="define-with-value"><code>define</code> (with value)<a href="#define-with-value" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-ts"><span class="token function">define</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token operator">!</span><span class="token builtin">Function</span><span class="token punctuation">)</span></code></pre> <p>This will export the provided <code>value</code>. The <code>value</code> here can be anything except a function.</p> <pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  answer<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This CANNOT be used in an async function.</p></aside> <h3 id="require-amd-version"><code>require</code> (amd-version)<a href="#require-amd-version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-ts"><span class="token keyword">require</span><span class="token punctuation">(</span>dependencies<span class="token operator">:</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre> <p>Similar to <code>require.ensure</code>, this will split the given <code>dependencies</code> into a separate bundle that will be loaded asynchronously. The <code>callback</code> will be called with the exports of each dependency in the <code>dependencies</code> array.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This feature relies on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> internally. If you use AMD with older browsers (e.g. Internet Explorer 11), remember to shim <code>Promise</code> using a polyfill such as <a href="https://github.com/stefanpenner/es6-promise">es6-promise</a> or <a href="https://github.com/taylorhakes/promise-polyfill">promise-polyfill</a>.</p></aside> <pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>There is no option to provide a chunk name.</p></aside> <h2 id="labeled-modules">Labeled Modules<a href="#labeled-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The internal <code>LabeledModulesPlugin</code> enables you to use the following methods for exporting and requiring within your modules:</p> <h3 id="export-label"><code>export</code> label<a href="#export-label" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Export the given <code>value</code>. The label can occur before a function declaration or a variable declaration. The function name or variable name is the identifier under which the value is exported.</p> <pre><code class="hljs language-ts"><span class="token keyword">export</span><span class="token operator">:</span> <span class="token keyword">var</span> answer <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token function-variable function">export</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">method</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Using it in an async function may not have the expected effect.</p></aside> <h3 id="require-label"><code>require</code> label<a href="#require-label" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Make all exports from the dependency available in the current scope. The <code>require</code> label can occur before a string. The dependency must export values with the <code>export</code> label. CommonJS or AMD modules cannot be consumed.</p> <p><strong>some-dependency.js</strong></p> <pre><code class="hljs language-ts"><span class="token keyword">export</span><span class="token operator">:</span> <span class="token keyword">var</span> answer <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token function-variable function">export</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">method</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-ts"><span class="token keyword">require</span><span class="token operator">:</span> <span class="token string">'some-dependency'</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>answer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">method</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="webpack-1">Webpack<a href="#webpack-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Aside from the module syntaxes described above, webpack also allows a few custom, webpack-specific methods:</p> <h3 id="requirecontext"><code>require.context</code><a href="#requirecontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-ts"><span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span>directory<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>includeSubdirs<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token comment">/* optional, default true */</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>filter<span class="token operator">:</span> RegExp<span class="token punctuation">)</span> <span class="token comment">/* optional, default /^\.\/.*$/, any file */</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>mode<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token comment">/* optional, 'sync' | 'eager' | 'weak' | 'lazy' | 'lazy-once', default 'sync' */</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Specify a whole group of dependencies using a path to the <code>directory</code>, an option to <code>includeSubdirs</code>, a <code>filter</code> for more fine grained control of the modules included, and a <code>mode</code> to define the way how loading will work. Underlying modules can then be easily resolved later on:</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> context <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'components'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex">/\.html$/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> componentA <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'componentA'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>If <code>mode</code> is set to <code>'lazy'</code>, the underlying modules will be loaded asynchronously:</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> context <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'locales'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex">/\.json$/</span><span class="token punctuation">,</span> <span class="token string">'lazy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'localeA'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">locale</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// do something with locale</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The full list of available modes and their behavior is described in <a href="#import-1"><code>import()</code></a> documentation.</p> <h3 id="requireinclude"><code>require.include</code><a href="#requireinclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-ts"><span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dependency<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Include a <code>dependency</code> without executing it. This can be used for optimizing the position of a module in the output chunks.</p> <pre><code class="hljs language-javascript">require<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>This will result in the following output:</p> <ul> <li>entry chunk: <code>file.js</code> and <code>a</code></li> <li>anonymous chunk: <code>b</code></li> <li>anonymous chunk: <code>c</code></li> </ul> <p>Without <code>require.include('a')</code> it would be duplicated in both anonymous chunks.</p> <h3 id="requireresolveweak"><code>require.resolveWeak</code><a href="#requireresolveweak" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Similar to <code>require.resolve</code>, but this won't pull the <code>module</code> into the bundle. It's what is considered a "weak" dependency.</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>__webpack_modules__<span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolveWeak</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something when module is available...</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>require<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolveWeak</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something when module was loaded before...</span>
<span class="token punctuation">}</span>

<span class="token comment">// You can perform dynamic resolves ("context")</span>
<span class="token comment">// similarly to other require/import methods.</span>
<span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token string">'Foo'</span><span class="token punctuation">;</span>
__webpack_modules__<span class="token punctuation">[</span>require<span class="token punctuation">.</span><span class="token function">resolveWeak</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./page/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p><code>require.resolveWeak</code> is the foundation of <em>universal rendering</em> (SSR + Code Splitting), as used in packages such as <a href="https://github.com/faceyspacey/react-universal-component">react-universal-component</a>. It allows code to render synchronously on both the server and initial page-loads on the client. It requires that chunks are manually served or somehow available. It's able to require modules without indicating they should be bundled into a chunk. It's used in conjunction with <code>import()</code> which takes over when user navigation triggers additional imports.</p></aside> <h1 id="module-variables">Module Variables<a href="#module-variables" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This section covers all <strong>variables</strong> available in code compiled with webpack. Modules will have access to certain data from the compilation process through <code>module</code> and other variables.</p> <h2 id="moduleloaded-nodejs"><code>module.loaded</code> (NodeJS)<a href="#moduleloaded-nodejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This is <code>false</code> if the module is currently executing, and <code>true</code> if the sync execution has finished.</p> <h2 id="modulehot-webpack-specific"><code>module.hot</code> (webpack-specific)<a href="#modulehot-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Indicates whether or not <a href="/concepts/hot-module-replacement">Hot Module Replacement</a> is enabled and provides an interface to the process. See the <a href="/api/hot-module-replacement">HMR API page</a> for details.</p> <h2 id="moduleid-commonjs"><code>module.id</code> (CommonJS)<a href="#moduleid-commonjs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The ID of the current module.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>id <span class="token operator">===</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./file.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="moduleexports-commonjs"><code>module.exports</code> (CommonJS)<a href="#moduleexports-commonjs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Defines the value that will be returned when a consumer makes a <code>require</code> call to the module (defaults to a new object).</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This CANNOT be used in an asynchronous function.</p></aside> <h2 id="exports-commonjs"><code>exports</code> (CommonJS)<a href="#exports-commonjs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This variable is equal to the default value of <code>module.exports</code> (i.e. an object). If <code>module.exports</code> gets overwritten, <code>exports</code> will no longer be exported.</p> <pre><code class="hljs language-javascript">exports<span class="token punctuation">.</span>someValue <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>anObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">aFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="global-nodejs"><code>global</code> (NodeJS)<a href="#global-nodejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>See <a href="https://nodejs.org/api/globals.html#globals_global">node.js global</a>.</p> <p>For compatibility reasons webpack polyfills the <code>global</code> variable by default.</p> <h2 id="__dirname-nodejs"><code>__dirname</code> (NodeJS)<a href="#__dirname-nodejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Depending on the configuration option <code>node.__dirname</code>:</p> <ul> <li><code>false</code>: Not defined</li> <li><code>mock</code>: equal to <code>'/'</code></li> <li><code>true</code>: <a href="https://nodejs.org/api/globals.html#globals_dirname">node.js __dirname</a></li> </ul> <p>If used inside an expression that is parsed by the Parser, the configuration option is treated as <code>true</code>.</p> <h2 id="importmetaurl"><code>import.meta.url</code><a href="#importmetaurl" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Returns the absolute <code>file:</code> URL of the module.</p> <p><strong>src/index.js</strong></p> <pre><code class="hljs language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output something like `file:///path/to/your/project/src/index.js`</span></code></pre> <h2 id="importmetawebpack"><code>import.meta.webpack</code><a href="#importmetawebpack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Returns the webpack version.</p> <p><strong>src/index.js</strong></p> <pre><code class="hljs language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>webpack<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output `5` for webpack 5</span></code></pre> <h2 id="importmetawebpackhot">import.meta.webpackHot<a href="#importmetawebpackhot" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Webpack specific. An alias for <a href="#modulehot-webpack-specific"><code>module.hot</code></a>, however <code>import.meta.webpackHot</code> can be used in <a href="/guides/ecma-script-modules/#flagging-modules-as-esm">strict ESM</a> while <code>module.hot</code> can't.</p> <h2 id="__filename-nodejs"><code>__filename</code> (NodeJS)<a href="#__filename-nodejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Depending on the configuration option <code>node.__filename</code>:</p> <ul> <li><code>false</code>: Not defined</li> <li><code>mock</code>: equal to <code>'/index.js'</code></li> <li><code>true</code>: <a href="https://nodejs.org/api/globals.html#globals_filename">node.js __filename</a></li> </ul> <p>If used inside an expression that is parsed by the Parser, the configuration option is treated as <code>true</code>.</p> <h2 id="__resourcequery-webpack-specific"><code>__resourceQuery</code> (webpack-specific)<a href="#__resourcequery-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The resource query of the current module. If the following <code>require</code> call was made, then the query string would be available in <code>file.js</code>.</p> <pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'file.js?test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>file.js</strong></p> <pre><code class="hljs language-javascript">__resourceQuery <span class="token operator">===</span> <span class="token string">'?test'</span><span class="token punctuation">;</span></code></pre> <h2 id="__webpack_public_path__-webpack-specific"><code>__webpack_public_path__</code> (webpack-specific)<a href="#__webpack_public_path__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Equals the configuration option's <code>output.publicPath</code>.</p> <h2 id="__webpack_require__-webpack-specific"><code>__webpack_require__</code> (webpack-specific)<a href="#__webpack_require__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The raw require function. This expression isn't parsed by the Parser for dependencies.</p> <h2 id="__webpack_chunk_load__-webpack-specific">__webpack_chunk_load__ (webpack-specific)<a href="#__webpack_chunk_load__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The internal chunk loading function. Takes one argument:</p> <ul> <li><code>chunkId</code> The id for the chunk to load.</li> </ul> <p>Example to load chunks from alternate public path when one failed:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> originalLoad <span class="token operator">=</span> __webpack_chunk_load__<span class="token punctuation">;</span>
<span class="token keyword">const</span> publicPaths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function-variable function">__webpack_chunk_load__</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> error<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> path <span class="token keyword">of</span> publicPaths<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    __webpack_public_path__ <span class="token operator">=</span> path<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">originalLoad</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      error <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./module-a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">moduleA</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// now webpack will use the custom __webpack_chunk_load__ to load chunk</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="__webpack_modules__-webpack-specific"><code>__webpack_modules__</code> (webpack-specific)<a href="#__webpack_modules__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Access to the internal object of all modules.</p> <h2 id="__webpack_hash__-webpack-specific"><code>__webpack_hash__</code> (webpack-specific)<a href="#__webpack_hash__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>It provides access to the hash of the compilation.</p> <h2 id="__non_webpack_require__-webpack-specific"><code>__non_webpack_require__</code> (webpack-specific)<a href="#__non_webpack_require__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Generates a <code>require</code> function that is not parsed by webpack. Can be used to do cool stuff with a global require function if available.</p> <h2 id="__webpack_exports_info__-webpack-specific"><code>__webpack_exports_info__</code> (webpack-specific)<a href="#__webpack_exports_info__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In modules, <code>__webpack_exports_info__</code> is available to allow exports introspection:</p> <ul> <li> <p><code>__webpack_exports_info__</code> is always <code>true</code></p> </li> <li> <p><code>__webpack_exports_info__.&#x3C;exportName>.used</code> is <code>false</code> when the export is known to be unused, <code>true</code> otherwise</p> </li> <li> <p><code>__webpack_exports_info__.&#x3C;exportName>.useInfo</code> is</p> <ul> <li><code>false</code> when the export is known to be unused</li> <li><code>true</code> when the export is known to be used</li> <li><code>null</code> when the export usage could depend on runtime conditions</li> <li><code>undefined</code> when no info is available</li> </ul> </li> <li> <p><code>__webpack_exports_info__.&#x3C;exportName>.provideInfo</code> is</p> <ul> <li><code>false</code> when the export is known to be not provided</li> <li><code>true</code> when the export is known to be provided</li> <li><code>null</code> when the export provision could depend on runtime conditions</li> <li><code>undefined</code> when no info is available</li> </ul> </li> <li> <p>Accessing the info from nested exports is possible: i. e. <code>__webpack_exports_info__.&#x3C;exportName>.&#x3C;exportName>.&#x3C;exportName>.used</code></p> </li> </ul> <h2 id="__webpack_is_included__-webpack-specific"><code>__webpack_is_included__</code> (webpack-specific)<a href="#__webpack_is_included__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <Badge text="5.16.0+"/> <p>Test whether or not the given module is bundled by webpack.</p> <pre><code class="hljs language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">__webpack_is_included__</span><span class="token punctuation">(</span><span class="token string">'./module-a.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span></code></pre> <h2 id="__webpack_base_uri__-webpack-specific">__webpack_base_uri__ (webpack-specific)<a href="#__webpack_base_uri__-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Change base URI at runtime.</p> <ul> <li>Type: <code>string</code></li> <li>Available: 5.21.0+</li> <li>Example: <pre><code class="hljs language-js">__webpack_base_uri__ <span class="token operator">=</span> <span class="token string">'https://example.com'</span><span class="token punctuation">;</span></code></pre> </li> </ul> <h2 id="__webpack_runtime_id__">__webpack_runtime_id__<a href="#__webpack_runtime_id__" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Access the <a href="/blog/2020-10-10-webpack-5-release/#entry-point-runtime">runtime</a> id of current entry.</p> <p>This is a webpack specific feature and it's available since webpack 5.25.0.</p> <p><strong>src/index.js</strong></p> <pre><code class="hljs language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__webpack_runtime_id__ <span class="token operator">===</span> <span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="debug-webpack-specific"><code>DEBUG</code> (webpack-specific)<a href="#debug-webpack-specific" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Equals the configuration option <code>debug</code>.</p> <h1 id="compiler-hooks">Compiler Hooks<a href="#compiler-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>Compiler</code> module is the main engine that creates a compilation instance with all the options passed through the <a href="/api/cli">CLI</a> or <a href="/api/node">Node API</a>. It extends the <code>Tapable</code> class in order to register and call plugins. Most user facing plugins are first registered on the <code>Compiler</code>.</p> <p>When developing a plugin for webpack, you might want to know where each hook is called. To learn this, search for <code>hooks.&#x3C;hook name>.call</code> across the webpack source</p> <h2 id="watching-1">Watching<a href="#watching-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <code>Compiler</code> supports <a href="/api/node/#watching">watching</a> which monitors the file system and recompiles as files change. When in watch mode, the compiler will emit the additional events such as <code>watchRun</code>, <code>watchClose</code>, and <code>invalid</code>. This is typically used in <a href="/guides/development">development</a>, usually under the hood of tools like <code>webpack-dev-server</code>, so that the developer doesn't need to re-compile manually every time. Watch mode can also be entered via the <a href="/api/cli/#watch-options">CLI</a>.</p> <h2 id="hooks">Hooks<a href="#hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following lifecycle hooks are exposed by the <code>compiler</code> and can be accessed as such:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Depending on the hook type, <code>tapAsync</code> and <code>tapPromise</code> may also be available.</p> <p>For the description of hook types, see <a href="https://github.com/webpack/tapable#tapable">the Tapable docs</a>.</p> <h3 id="environment"><code>environment</code><a href="#environment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called while preparing the compiler environment, right after initializing the plugins in the configuration file.</p> <h3 id="afterenvironment"><code>afterEnvironment</code><a href="#afterenvironment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called right after the <code>environment</code> hook, when the compiler environment setup is complete.</p> <h3 id="entryoption"><code>entryOption</code><a href="#entryoption" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called after the <a href="/configuration/entry-context/#entry"><code>entry</code> configuration</a> from webpack options has been processed.</p> <ul> <li>Callback Parameters: <a href="/configuration/entry-context/#context"><code>context</code></a>, <a href="/configuration/entry-context/#entry"><code>entry</code></a></li> </ul> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>entryOption<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> entry</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="afterplugins"><code>afterPlugins</code><a href="#afterplugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after setting up initial set of internal plugins.</p> <ul> <li>Callback Parameters: <code>compiler</code></li> </ul> <h3 id="afterresolvers"><code>afterResolvers</code><a href="#afterresolvers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Triggered after resolver setup is complete.</p> <ul> <li>Callback Parameters: <code>compiler</code></li> </ul> <h3 id="initialize"><code>initialize</code><a href="#initialize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called when a compiler object is initialized.</p> <h3 id="beforerun"><code>beforeRun</code><a href="#beforerun" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Adds a hook right before running the compiler.</p> <ul> <li>Callback Parameters: <code>compiler</code></li> </ul> <h3 id="run-1"><code>run</code><a href="#run-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Hook into the compiler before it begins reading <a href="/configuration/other-options/#recordspath"><code>records</code></a>.</p> <ul> <li>Callback Parameters: <code>compiler</code></li> </ul> <h3 id="watchrun"><code>watchRun</code><a href="#watchrun" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Executes a plugin during watch mode after a new compilation is triggered but before the compilation is actually started.</p> <ul> <li>Callback Parameters: <code>compiler</code></li> </ul> <h3 id="normalmodulefactory"><code>normalModuleFactory</code><a href="#normalmodulefactory" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after a <a href="/api/normalmodulefactory-hooks">NormalModuleFactory</a> is created.</p> <ul> <li>Callback Parameters: <code>normalModuleFactory</code></li> </ul> <h3 id="contextmodulefactory"><code>contextModuleFactory</code><a href="#contextmodulefactory" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Runs a plugin after a <a href="/api/contextmodulefactory-hooks">ContextModuleFactory</a> is created.</p> <ul> <li>Callback Parameters: <code>contextModuleFactory</code></li> </ul> <h3 id="beforecompile"><code>beforeCompile</code><a href="#beforecompile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Executes a plugin after compilation parameters are created.</p> <ul> <li>Callback Parameters: <code>compilationParams</code></li> </ul> <p>The <code>compilationParams</code> variable is initialized as follows:</p> <pre><code class="hljs language-js">compilationParams <span class="token operator">=</span> <span class="token punctuation">{</span>
  normalModuleFactory<span class="token punctuation">,</span>
  contextModuleFactory<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This hook can be used to add/modify the compilation parameters:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>beforeCompile<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">params<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  params<span class="token punctuation">[</span><span class="token string">'MyPlugin - data'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'important stuff my plugin will use later'</span><span class="token punctuation">;</span>
  <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="compile"><code>compile</code><a href="#compile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called right after <code>beforeCompile</code>, before a new compilation is created.</p> <ul> <li>Callback Parameters: <code>compilationParams</code></li> </ul> <h3 id="thiscompilation"><code>thisCompilation</code><a href="#thiscompilation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed while initializing the compilation, right before emitting the <code>compilation</code> event.</p> <ul> <li>Callback Parameters: <code>compilation</code>, <code>compilationParams</code></li> </ul> <h3 id="compilation"><code>compilation</code><a href="#compilation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Runs a plugin after a compilation has been created.</p> <ul> <li>Callback Parameters: <code>compilation</code>, <code>compilationParams</code></li> </ul> <h3 id="make"><code>make</code><a href="#make" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncParallelHook</code></p> <p>Executed before finishing the compilation.</p> <ul> <li>Callback Parameters: <code>compilation</code></li> </ul> <h3 id="aftercompile"><code>afterCompile</code><a href="#aftercompile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Called after finishing and sealing the compilation.</p> <ul> <li>Callback Parameters: <code>compilation</code></li> </ul> <h3 id="shouldemit"><code>shouldEmit</code><a href="#shouldemit" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called before emitting assets. Should return a boolean telling whether to emit.</p> <ul> <li>Callback Parameters: <code>compilation</code></li> </ul> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>shouldEmit<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// return true to emit the output, otherwise false</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="emit"><code>emit</code><a href="#emit" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Executed right before emitting assets to output dir.</p> <ul> <li>Callback Parameters: <code>compilation</code></li> </ul> <h3 id="afteremit"><code>afterEmit</code><a href="#afteremit" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Called after emitting assets to output directory.</p> <ul> <li>Callback Parameters: <code>compilation</code></li> </ul> <h3 id="assetemitted"><code>assetEmitted</code><a href="#assetemitted" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Executed when an asset has been emitted. Provides access to information about the emitted asset, such as its output path and byte content.</p> <ul> <li>Callback Parameters: <code>file</code>, <code>info</code></li> </ul> <p>For example, you may access the asset's content buffer via <code>info.content</code>:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>assetEmitted<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> <span class="token punctuation">{</span> content<span class="token punctuation">,</span> source<span class="token punctuation">,</span> outputPath<span class="token punctuation">,</span> compilation<span class="token punctuation">,</span> targetPath <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;Buffer 66 6f 6f 62 61 72></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="done"><code>done</code><a href="#done" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Executed when the compilation has completed.</p> <ul> <li>Callback Parameters: <code>stats</code></li> </ul> <h3 id="additionalpass"><code>additionalPass</code><a href="#additionalpass" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>This hook allows you to do a one more additional pass of the build.</p> <h3 id="failed"><code>failed</code><a href="#failed" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called if the compilation fails.</p> <ul> <li>Callback Parameters: <code>error</code></li> </ul> <h3 id="invalid"><code>invalid</code><a href="#invalid" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed when a watching compilation has been invalidated.</p> <ul> <li>Callback Parameters: <code>fileName</code>, <code>changeTime</code></li> </ul> <h3 id="watchclose"><code>watchClose</code><a href="#watchclose" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called when a watching compilation has stopped.</p> <h3 id="infrastructurelog"><code>infrastructureLog</code><a href="#infrastructurelog" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Allows to use infrastructure logging when enabled in the configuration via <a href="/configuration/other-options/#infrastructurelogging"><code>infrastructureLogging</code> option</a>.</p> <ul> <li>Callback Parameters: <code>name</code>, <code>type</code>, <code>args</code></li> </ul> <h3 id="log"><code>log</code><a href="#log" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Allows to log into <a href="/configuration/stats/">stats</a> when enabled, see <a href="/configuration/stats/#stats-options"><code>stats.logging</code>, <code>stats.loggingDebug</code> and <code>stats.loggingTrace</code> options</a>.</p> <ul> <li>Callback Parameters: <code>origin</code>, <code>logEntry</code></li> </ul> <h1 id="compilation-hooks">Compilation Hooks<a href="#compilation-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>Compilation</code> module is used by the <code>Compiler</code> to create new compilations (or builds). A <code>compilation</code> instance has access to all modules and their dependencies (most of which are circular references). It is the literal compilation of all the modules in the dependency graph of an application. During the compilation phase, modules are loaded, sealed, optimized, chunked, hashed and restored.</p> <p>The <code>Compilation</code> class also extends <code>Tapable</code> and provides the following lifecycle hooks. They can be tapped the same way as compiler hooks:</p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>As with the <code>compiler</code>, <code>tapAsync</code> and <code>tapPromise</code> may also be available depending on the type of hook.</p> <h3 id="buildmodule"><code>buildModule</code><a href="#buildmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Triggered before a module build has started, can be used to modify the module.</p> <ul> <li>Callback Parameters: <code>module</code></li> </ul> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>buildModule<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token string">'SourceMapDevToolModuleOptionsPlugin'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>useSourceMap <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="rebuildmodule"><code>rebuildModule</code><a href="#rebuildmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Fired before rebuilding a module.</p> <ul> <li>Callback Parameters: <code>module</code></li> </ul> <h3 id="failedmodule"><code>failedModule</code><a href="#failedmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Run when a module build has failed.</p> <ul> <li>Callback Parameters: <code>module</code> <code>error</code></li> </ul> <h3 id="succeedmodule"><code>succeedModule</code><a href="#succeedmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed when a module has been built successfully.</p> <ul> <li>Callback Parameters: <code>module</code></li> </ul> <h3 id="finishmodules"><code>finishModules</code><a href="#finishmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Called when all modules have been built without errors.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="finishrebuildingmodule"><code>finishRebuildingModule</code><a href="#finishrebuildingmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed when a module has been rebuilt, in case of both success or with errors.</p> <ul> <li>Callback Parameters: <code>module</code></li> </ul> <h3 id="seal"><code>seal</code><a href="#seal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Fired when the compilation stops accepting new modules.</p> <h3 id="unseal"><code>unseal</code><a href="#unseal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Fired when a compilation begins accepting new modules.</p> <h3 id="optimizedependencies"><code>optimizeDependencies</code><a href="#optimizedependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Fired at the beginning of dependency optimization.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="afteroptimizedependencies"><code>afterOptimizeDependencies</code><a href="#afteroptimizedependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Fired after the dependency optimization.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="optimize"><code>optimize</code><a href="#optimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Triggered at the beginning of the optimization phase.</p> <h3 id="optimizemodules"><code>optimizeModules</code><a href="#optimizemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called at the beginning of the module optimization phase. A plugin can tap into this hook to perform optimizations on modules.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="afteroptimizemodules"><code>afterOptimizeModules</code><a href="#afteroptimizemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after modules optimization has completed.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="optimizechunks"><code>optimizeChunks</code><a href="#optimizechunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called at the beginning of the chunk optimization phase. A plugin can tap into this hook to perform optimizations on chunks.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="afteroptimizechunks"><code>afterOptimizeChunks</code><a href="#afteroptimizechunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Fired after chunk optimization has completed.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="optimizetree"><code>optimizeTree</code><a href="#optimizetree" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Called before optimizing the dependency tree. A plugin can tap into this hook to perform a dependency tree optimization.</p> <ul> <li>Callback Parameters: <code>chunks</code> <code>modules</code></li> </ul> <h3 id="afteroptimizetree"><code>afterOptimizeTree</code><a href="#afteroptimizetree" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after the dependency tree optimization has completed with success.</p> <ul> <li>Callback Parameters: <code>chunks</code> <code>modules</code></li> </ul> <h3 id="optimizechunkmodules"><code>optimizeChunkModules</code><a href="#optimizechunkmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called after the tree optimization, at the beginning of the chunk modules optimization. A plugin can tap into this hook to perform optimizations of chunk modules.</p> <ul> <li>Callback Parameters: <code>chunks</code> <code>modules</code></li> </ul> <h3 id="afteroptimizechunkmodules"><code>afterOptimizeChunkModules</code><a href="#afteroptimizechunkmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after the chunkmodules optimization has completed successfully.</p> <ul> <li>Callback Parameters: <code>chunks</code> <code>modules</code></li> </ul> <h3 id="shouldrecord"><code>shouldRecord</code><a href="#shouldrecord" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called to determine whether or not to store records. Returning anything <code>!== false</code> will prevent every other "record" hook from being executed (<a href="#record"><code>record</code></a>, <a href="#recordmodules"><code>recordModules</code></a>, <a href="#recordchunks"><code>recordChunks</code></a> and <a href="#recordhash"><code>recordHash</code></a>).</p> <h3 id="revivemodules"><code>reviveModules</code><a href="#revivemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Restore module information from records.</p> <ul> <li>Callback Parameters: <code>modules</code> <code>records</code></li> </ul> <h3 id="beforemoduleids"><code>beforeModuleIds</code><a href="#beforemoduleids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed before assigning an <code>id</code> to each module.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="moduleids"><code>moduleIds</code><a href="#moduleids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called to assign an <code>id</code> to each module.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="optimizemoduleids"><code>optimizeModuleIds</code><a href="#optimizemoduleids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called at the beginning of the modules <code>id</code> optimization.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="afteroptimizemoduleids"><code>afterOptimizeModuleIds</code><a href="#afteroptimizemoduleids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called when the modules <code>id</code> optimization phase has completed.</p> <ul> <li>Callback Parameters: <code>modules</code></li> </ul> <h3 id="revivechunks"><code>reviveChunks</code><a href="#revivechunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Restore chunk information from records.</p> <ul> <li>Callback Parameters: <code>chunks</code> <code>records</code></li> </ul> <h3 id="beforechunkids"><code>beforeChunkIds</code><a href="#beforechunkids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed before assigning an <code>id</code> to each chunk.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="chunkids"><code>chunkIds</code><a href="#chunkids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called to assign an <code>id</code> to each chunk.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="optimizechunkids"><code>optimizeChunkIds</code><a href="#optimizechunkids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called at the beginning of the chunks <code>id</code> optimization phase.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="afteroptimizechunkids"><code>afterOptimizeChunkIds</code><a href="#afteroptimizechunkids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Triggered after chunk <code>id</code> optimization has finished.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="recordmodules"><code>recordModules</code><a href="#recordmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Store module info to the records. This is triggered if <a href="#shouldrecord"><code>shouldRecord</code></a> returns a truthy value.</p> <ul> <li>Callback Parameters: <code>modules</code> <code>records</code></li> </ul> <h3 id="recordchunks"><code>recordChunks</code><a href="#recordchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Store chunk info to the records. This is only triggered if <a href="#shouldrecord"><code>shouldRecord</code></a> returns a truthy value.</p> <ul> <li>Callback Parameters: <code>chunks</code> <code>records</code></li> </ul> <h3 id="beforemodulehash"><code>beforeModuleHash</code><a href="#beforemodulehash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called before modules are hashed.</p> <h3 id="aftermodulehash"><code>afterModuleHash</code><a href="#aftermodulehash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>syncHook</code></p> <p>Called after modules are hashed.</p> <h3 id="beforehash"><code>beforeHash</code><a href="#beforehash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called before the compilation is hashed.</p> <h3 id="afterhash"><code>afterHash</code><a href="#afterhash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after the compilation is hashed.</p> <h3 id="recordhash"><code>recordHash</code><a href="#recordhash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Store information about record hash to the <code>records</code>. This is only triggered if <a href="#shouldrecord"><code>shouldRecord</code></a> returns a truthy value.</p> <ul> <li>Callback Parameters: <code>records</code></li> </ul> <h3 id="record"><code>record</code><a href="#record" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Store information about the <code>compilation</code> to the <code>records</code>. This is only triggered if <a href="#shouldrecord"><code>shouldRecord</code></a> returns a truthy value.</p> <ul> <li>Callback Parameters: <code>compilation</code> <code>records</code></li> </ul> <h3 id="beforemoduleassets"><code>beforeModuleAssets</code><a href="#beforemoduleassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed before module assets creation.</p> <h3 id="additionalchunkassets"><code>additionalChunkAssets</code><a href="#additionalchunkassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>additionalChunkAssets</code> is deprecated (use the <a href="#processassets">Compilation.hook.processAssets</a> instead and use one of the Compilation.PROCESS_ASSETS_STAGE_* as a stage option)</p></aside> <p>Create additional assets for the chunks.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <h3 id="shouldgeneratechunkassets"><code>shouldGenerateChunkAssets</code><a href="#shouldgeneratechunkassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called to determine whether or not generate chunks assets. Returning anything <code>!== false</code> will allow chunk assets generation.</p> <h3 id="beforechunkassets"><code>beforeChunkAssets</code><a href="#beforechunkassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed before creating the chunks assets.</p> <h3 id="additionalassets"><code>additionalAssets</code><a href="#additionalassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Create additional assets for the compilation. This hook can be used to download an image, for example:</p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>additionalAssets<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">download</span><span class="token punctuation">(</span><span class="token string">'https://img.shields.io/npm/v/webpack.svg'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>resp<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span><span class="token string">'webpack-version.svg'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">toAsset</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'[webpack-example-plugin] Unable to download the image'</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="optimizechunkassets"><code>optimizeChunkAssets</code><a href="#optimizechunkassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>optimizeChunkAssets</code> is deprecated (use the <a href="#processassets">Compilation.hook.processAssets</a> instead and use one of the Compilation.PROCESS_ASSETS_STAGE_* as a stage option)</p></aside> <p>Optimize any chunk assets. The assets are stored in <code>compilation.assets</code>. A <code>Chunk</code> has a property <code>files</code> which points to all files created by a chunk. Any additional chunk assets are stored in <code>compilation.additionalChunkAssets</code>.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <p>Here's an example that adds a banner to each chunk.</p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>optimizeChunkAssets<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
  <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">chunks<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    chunks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      chunk<span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatSource</span><span class="token punctuation">(</span>
          <span class="token string">'/**Sweet Banner**/'</span><span class="token punctuation">,</span>
          <span class="token string">'\n'</span><span class="token punctuation">,</span>
          compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span>file<span class="token punctuation">]</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="afteroptimizechunkassets"><code>afterOptimizeChunkAssets</code><a href="#afteroptimizechunkassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>afterOptimizeChunkAssets</code> is deprecated (use the <a href="#processassets">Compilation.hook.processAssets</a> instead and use one of the Compilation.PROCESS_ASSETS_STAGE_* as a stage option)</p></aside> <p>The chunk assets have been optimized.</p> <ul> <li>Callback Parameters: <code>chunks</code></li> </ul> <p>Here's an example plugin from <a href="https://github.com/boopathi">@boopathi</a> that outputs exactly what went into each chunk.</p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>afterOptimizeChunkAssets<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">chunks</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  chunks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token operator">:</span> chunk<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      name<span class="token operator">:</span> chunk<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      includes<span class="token operator">:</span> chunk<span class="token punctuation">.</span><span class="token function">getModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=></span> module<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="optimizeassets"><code>optimizeAssets</code><a href="#optimizeassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Optimize all assets stored in <code>compilation.assets</code>.</p> <ul> <li>Callback Parameters: <code>assets</code></li> </ul> <h3 id="afteroptimizeassets"><code>afterOptimizeAssets</code><a href="#afteroptimizeassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>The assets have been optimized.</p> <ul> <li>Callback Parameters: <code>assets</code></li> </ul> <h3 id="processassets"><code>processAssets</code><a href="#processassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Asset processing.</p> <p><strong>Hook parameters:</strong></p> <ul> <li><code>name: string</code> — a name of the plugin</li> <li><code>stage: Stage</code> — a stage to tap into (see the <a href="#list-of-asset-processing-stages">list of supported stages</a> below)</li> <li><code>additionalAssets?: true | (assets, [callback]) => (void | Promise&#x3C;void>)</code> — a callback for additional assets (<a href="#additional-assets">see below</a>)</li> </ul> <p><strong>Callback parameters:</strong></p> <ul> <li><code>assets: { [pathname: string]: Source }</code> — a plain object, where key is the asset's pathname, and the value is data of the asset represented by the <a href="https://github.com/webpack/webpack-sources#source"><code>Source</code></a>.</li> </ul> <p><strong>Example:</strong></p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>processAssets<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
    stage<span class="token operator">:</span> Compilation<span class="token punctuation">.</span><span class="token constant">PROCESS_ASSETS_STAGE_ADDITIONS</span><span class="token punctuation">,</span> <span class="token comment">// see below for more stages</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">assets</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'List of assets and their sizes:'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>assets<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>pathname<span class="token punctuation">,</span> source<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">— </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pathname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>source<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> bytes</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h4 id="additional-assets">Additional assets<a href="#additional-assets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>In addition to <code>name</code> and <code>stage</code>, you can pass an <code>additionalAssets</code> <Badge text="5.8.0+"/> option which accepts either a value of <code>true</code> or a callback function that receives <code>assets</code> as a first argument:</p> <ol> <li> <p><code>true</code> — run the provided callback again for assets added later by plugins.</p> <p>In this mode, the callback will be called multiple times: once for assets added prior to the specified stage, and additional times for assets added by plugins later (on this or next stages).</p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>processAssets<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
    stage<span class="token operator">:</span> Compilation<span class="token punctuation">.</span><span class="token constant">PROCESS_ASSETS_STAGE_DEV_TOOLING</span><span class="token punctuation">,</span>
    additionalAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">assets</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// this function will be called multiple times with each bulk of assets</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> </li> <li> <p><code>(assets, [callback]) => (void | Promise&#x3C;void>)</code> — run the specified callback against assets added by plugins later (on this or next stages). The callback must respect the type of the tap method used (e.g. when used with <code>tapPromise()</code>, it should return a promise).</p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>processAssets<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
    stage<span class="token operator">:</span> Compilation<span class="token punctuation">.</span><span class="token constant">PROCESS_ASSETS_STAGE_DEV_TOOLING</span><span class="token punctuation">,</span>
    <span class="token function-variable function">additionalAssets</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">assets</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// this function potentially could be called multiple times for assets added on later stages</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">assets</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// this function will be called once with assets added by plugins on prior stages</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> </li> </ol> <h4 id="list-of-asset-processing-stages">List of asset processing stages<a href="#list-of-asset-processing-stages" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Here's a list of supported stages (in the order of processing):</p> <ul> <li><code>PROCESS_ASSETS_STAGE_ADDITIONAL</code> — add additional assets to the compilation.</li> <li><code>PROCESS_ASSETS_STAGE_PRE_PROCESS</code> — basic preprocessing of the assets.</li> <li><code>PROCESS_ASSETS_STAGE_DERIVED</code> — derive new assets from the existing assets.</li> <li><code>PROCESS_ASSETS_STAGE_ADDITIONS</code> — add additional sections to the existing assets e.g. banner or initialization code.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE</code> — optimize existing assets in a general way.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE_COUNT</code> — optimize the count of existing assets, e.g. by merging them.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE_COMPATIBILITY</code> — optimize the compatibility of existing assets, e.g. add polyfills or vendor prefixes.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE_SIZE</code> — optimize the size of existing assets, e.g. by minimizing or omitting whitespace.</li> <li><code>PROCESS_ASSETS_STAGE_DEV_TOOLING</code> — add development tooling to the assets, e.g. by extracting a source map.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE_INLINE</code> <Badge text="5.8.0+"/> — optimize the numbers of existing assets, e.g. by inlining assets into other assets.</li> <li><code>PROCESS_ASSETS_STAGE_SUMMARIZE</code> — summarize the list of existing assets.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE_HASH</code> — optimize the hashes of the assets, e.g. by generating real hashes of the asset content.</li> <li><code>PROCESS_ASSETS_STAGE_OPTIMIZE_TRANSFER</code> — optimize the transfer of existing assets, e.g. by preparing a compressed (gzip) file as separate asset.</li> <li><code>PROCESS_ASSETS_STAGE_ANALYSE</code> — analyze the existing assets.</li> <li><code>PROCESS_ASSETS_STAGE_REPORT</code> — creating assets for the reporting purposes.</li> </ul> <h4 id="assets-info">Assets info<a href="#assets-info" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The "asset info" metadata is not automatically provided for this hook. If needed, you will have to resolve this metadata manually using the compilation instance and the provided asset pathname. This will be improved in a future version of the webpack.</p> <p><strong>Example:</strong></p> <pre><code class="hljs language-js">compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>processAssets<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token comment">/** … */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">assets</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>assets<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>pathname<span class="token punctuation">,</span> source<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> assetInfo <span class="token operator">=</span> compilation<span class="token punctuation">.</span>assetsInfo<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// @todo: do something with "pathname", "source" and "assetInfo"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="afterprocessassets"><code>afterProcessAssets</code><a href="#afterprocessassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called after the <a href="#processassets"><code>processAssets</code></a> hook had finished without error.</p> <h3 id="needadditionalseal"><code>needAdditionalSeal</code><a href="#needadditionalseal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called to determine if the compilation needs to be unsealed to include other files.</p> <h3 id="afterseal"><code>afterSeal</code><a href="#afterseal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesHook</code></p> <p>Executed right after <code>needAdditionalSeal</code>.</p> <h3 id="chunkhash"><code>chunkHash</code><a href="#chunkhash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Triggered to emit the hash for each chunk.</p> <ul> <li>Callback Parameters: <code>chunk</code> <code>chunkHash</code></li> </ul> <h3 id="moduleasset"><code>moduleAsset</code><a href="#moduleasset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Called when an asset from a module was added to the compilation.</p> <ul> <li>Callback Parameters: <code>module</code> <code>filename</code></li> </ul> <h3 id="chunkasset"><code>chunkAsset</code><a href="#chunkasset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Triggered when an asset from a chunk was added to the compilation.</p> <ul> <li>Callback Parameters: <code>chunk</code> <code>filename</code></li> </ul> <h3 id="assetpath"><code>assetPath</code><a href="#assetpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncWaterfallHook</code></p> <p>Called to determine the path of an asset.</p> <ul> <li>Callback Parameters: <code>path</code> <code>options</code></li> </ul> <h3 id="needadditionalpass"><code>needAdditionalPass</code><a href="#needadditionalpass" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called to determine if an asset needs to be processed further after being emitted.</p> <h3 id="childcompiler"><code>childCompiler</code><a href="#childcompiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncHook</code></p> <p>Executed after setting up a child compiler.</p> <ul> <li>Callback Parameters: <code>childCompiler</code> <code>compilerName</code> <code>compilerIndex</code></li> </ul> <h3 id="normalmoduleloader"><code>normalModuleLoader</code><a href="#normalmoduleloader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Since webpack v5 <code>normalModuleLoader</code> hook was removed. Now to access the loader use <code>NormalModule.getCompilationHooks(compilation).loader</code> instead.</p> <h1 id="contextmodulefactory-hooks">ContextModuleFactory Hooks<a href="#contextmodulefactory-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>ContextModuleFactory</code> module is used by the <code>Compiler</code> to generate dependencies from webpack specific <a href="/api/module-methods/#requirecontext">require.context</a> API. It resolves the requested directory, generates requests for each file and filters against passed regExp. Matching dependencies then passes through <a href="/api/normalmodulefactory-hooks">NormalModuleFactory</a>.</p> <p>The <code>ContextModuleFactory</code> class extends <code>Tapable</code> and provides the following lifecycle hooks. They can be tapped the same way as compiler hooks:</p> <pre><code class="hljs language-js">ContextModuleFactory<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>As with the <code>compiler</code>, <code>tapAsync</code> and <code>tapPromise</code> may also be available depending on the type of hook.</p> <h3 id="beforeresolve">beforeResolve<a href="#beforeresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesWaterfallHook</code></p> <p>Called before resolving the requested directory. The request can be ignored by returning <code>false</code>.</p> <ul> <li>Callback Parameters: <code>data</code></li> </ul> <h3 id="afterresolve">afterResolve<a href="#afterresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesWaterfallHook</code></p> <p>Called after the requested directory resolved.</p> <ul> <li>Callback Parameters: <code>data</code></li> </ul> <h3 id="contextmodulefiles">contextModuleFiles<a href="#contextmodulefiles" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncWaterfallHook</code></p> <p>Called after directory contents are read. On recursive mode, calls for each sub-directory as well. Callback parameter is an array of all file and folder names in each directory.</p> <ul> <li>Callback Parameters: <code>fileNames</code></li> </ul> <h3 id="alternativerequests">alternativeRequests<a href="#alternativerequests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesWaterfallHook</code></p> <p>Called for each file after the request is created but before filtering against regExp.</p> <ul> <li>Callback Parameters: <code>request</code> <code>options</code></li> </ul> <h1 id="javascriptparser-hooks">JavascriptParser Hooks<a href="#javascriptparser-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>parser</code> instance, found in the <code>compiler</code>, is used to parse each module being processed by webpack. The <code>parser</code> is yet another webpack class that extends <code>tapable</code> and provides a variety of <code>tapable</code> hooks that can be used by plugin authors to customize the parsing process.</p> <p>The <code>parser</code> is found within <a href="/api/compiler-hooks/#normalmodulefactory">NormalModuleFactory</a> and therefore takes little more work to access:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>normalModuleFactory<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">factory</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  factory<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>parser
    <span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'javascript/auto'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">parser<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>As with the <code>compiler</code>, <code>tapAsync</code> and <code>tapPromise</code> may also be available depending on the type of hook.</p> <h2 id="hooks-1">Hooks<a href="#hooks-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following lifecycle hooks are exposed by the <code>parser</code> and can be accessed as such:</p> <h3 id="evaluatetypeof">evaluateTypeof<a href="#evaluatetypeof" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when evaluating an expression consisting in a <code>typeof</code> of a free variable</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>evaluateTypeof
  <span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'myIdentifier'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
    <span class="token keyword">return</span> expressionResult<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>This will trigger the <code>evaluateTypeof</code> hook:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">typeof</span> myIdentifier<span class="token punctuation">;</span></code></pre> <p>This won't trigger:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> myIdentifier <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">typeof</span> myIdentifier<span class="token punctuation">;</span></code></pre> <h3 id="evaluate">evaluate<a href="#evaluate" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating an expression.</p> <ul> <li>Hook parameters: <code>expressionType</code></li> <li>Callback parameters: <code>expression</code></li> </ul> <p>For example:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>evaluate<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'NewExpression'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
  <span class="token keyword">return</span> expressionResult<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Where the expressions types are:</p> <ul> <li><code>'ArrowFunctionExpression'</code></li> <li><code>'AssignmentExpression'</code></li> <li><code>'AwaitExpression'</code></li> <li><code>'BinaryExpression'</code></li> <li><code>'CallExpression'</code></li> <li><code>'ClassExpression'</code></li> <li><code>'ConditionalExpression'</code></li> <li><code>'FunctionExpression'</code></li> <li><code>'Identifier'</code></li> <li><code>'LogicalExpression'</code></li> <li><code>'MemberExpression'</code></li> <li><code>'NewExpression'</code></li> <li><code>'ObjectExpression'</code></li> <li><code>'SequenceExpression'</code></li> <li><code>'SpreadElement'</code></li> <li><code>'TaggedTemplateExpression'</code></li> <li><code>'TemplateLiteral'</code></li> <li><code>'ThisExpression'</code></li> <li><code>'UnaryExpression'</code></li> <li><code>'UpdateExpression'</code></li> </ul> <h3 id="evaluateidentifier">evaluateIdentifier<a href="#evaluateidentifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating an identifier that is a free variable.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="evaluatedefinedidentifier">evaluateDefinedIdentifier<a href="#evaluatedefinedidentifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating an identifier that is a defined variable.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="evaluatecallexpressionmember">evaluateCallExpressionMember<a href="#evaluatecallexpressionmember" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating a call to a member function of a successfully evaluated expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code> <code>param</code></li> </ul> <p>This expression will trigger the hook:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> expression<span class="token punctuation">.</span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>evaluateCallExpressionMember
  <span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'myFunc'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression<span class="token punctuation">,</span> param</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
    <span class="token keyword">return</span> expressionResult<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="statement">statement<a href="#statement" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>General purpose hook that is called for every parsed statement in a code fragment.</p> <ul> <li>Callback Parameters: <code>statement</code></li> </ul> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>statement<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">statement</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Where the <code>statement.type</code> could be:</p> <ul> <li><code>'BlockStatement'</code></li> <li><code>'VariableDeclaration'</code></li> <li><code>'FunctionDeclaration'</code></li> <li><code>'ReturnStatement'</code></li> <li><code>'ClassDeclaration'</code></li> <li><code>'ExpressionStatement'</code></li> <li><code>'ImportDeclaration'</code></li> <li><code>'ExportAllDeclaration'</code></li> <li><code>'ExportDefaultDeclaration'</code></li> <li><code>'ExportNamedDeclaration'</code></li> <li><code>'IfStatement'</code></li> <li><code>'SwitchStatement'</code></li> <li><code>'ForInStatement'</code></li> <li><code>'ForOfStatement'</code></li> <li><code>'ForStatement'</code></li> <li><code>'WhileStatement'</code></li> <li><code>'DoWhileStatement'</code></li> <li><code>'ThrowStatement'</code></li> <li><code>'TryStatement'</code></li> <li><code>'LabeledStatement'</code></li> <li><code>'WithStatement'</code></li> </ul> <h3 id="statementif">statementIf<a href="#statementif" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an if statement. Same as the <code>statement</code> hook, but triggered only when <code>statement.type == 'IfStatement'</code>.</p> <ul> <li>Callback Parameters: <code>statement</code></li> </ul> <h3 id="label">label<a href="#label" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing statements with a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label">label</a>. Those statements have <code>statement.type === 'LabeledStatement'</code>.</p> <ul> <li>Hook Parameters: <code>labelName</code></li> <li>Callback Parameters: <code>statement</code></li> </ul> <h3 id="import-2">import<a href="#import-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every import statement in a code fragment. The <code>source</code> parameter contains the name of the imported file.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code></li> </ul> <p>The following import statement will trigger the hook once:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>import<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">statement<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// source == 'lodash'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="importspecifier">importSpecifier<a href="#importspecifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every specifier of every <code>import</code> statement.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code> <code>exportName</code> <code>identifierName</code></li> </ul> <p>The following import statement will trigger the hook twice:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _<span class="token punctuation">,</span> <span class="token punctuation">{</span> has <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>importSpecifier<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>
  <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">statement<span class="token punctuation">,</span> source<span class="token punctuation">,</span> exportName<span class="token punctuation">,</span> identifierName</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">/* First call
    source == 'lodash'
    exportName == 'default'
    identifierName == '_'
  */</span>
    <span class="token comment">/* Second call
    source == 'lodash'
    exportName == 'has'
    identifierName == 'has'
  */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="export-1">export<a href="#export-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code> statement in a code fragment.</p> <ul> <li>Callback Parameters: <code>statement</code></li> </ul> <h3 id="exportimport">exportImport<a href="#exportimport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code>-import statement eg: <code>export * from 'otherModule';</code>.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code></li> </ul> <h3 id="exportdeclaration">exportDeclaration<a href="#exportdeclaration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code> statement exporting a declaration.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>declaration</code></li> </ul> <p>Those exports will trigger this hook:</p> <pre><code class="hljs language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span> <span class="token comment">// also var, let</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">FunctionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ClassName</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre> <h3 id="exportexpression">exportExpression<a href="#exportexpression" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code> statement exporting an expression e.g.<code>export default expression;</code>.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>declaration</code></li> </ul> <h3 id="exportspecifier">exportSpecifier<a href="#exportspecifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every specifier of every <code>export</code> statement.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>identifierName</code> <code>exportName</code> <code>index</code></li> </ul> <h3 id="exportimportspecifier">exportImportSpecifier<a href="#exportimportspecifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every specifier of every <code>export</code>-import statement.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code> <code>identifierName</code> <code>exportName</code> <code>index</code></li> </ul> <h3 id="vardeclaration">varDeclaration<a href="#vardeclaration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration.</p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="vardeclarationlet">varDeclarationLet<a href="#vardeclarationlet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration defined using <code>let</code></p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="vardeclarationconst">varDeclarationConst<a href="#vardeclarationconst" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration defined using <code>const</code></p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="vardeclarationvar">varDeclarationVar<a href="#vardeclarationvar" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration defined using <code>var</code></p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="canrename">canRename<a href="#canrename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered before renaming an identifier to determine if the renaming is allowed. This is usually used together with the <code>rename</code> hook.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>canRename<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// returning true allows renaming</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="rename">rename<a href="#rename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when renaming to get the new identifier. This hook will be called only if <code>canRename</code> returns <code>true</code>.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>rename<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="assigned">assigned<a href="#assigned" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an <code>AssignmentExpression</code> before parsing the assigned expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">a <span class="token operator">+=</span> b<span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>assigned<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// this is called before parsing b</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="assign">assign<a href="#assign" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an <code>AssignmentExpression</code> before parsing the assign expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">a <span class="token operator">+=</span> b<span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>assigned<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// this is called before parsing a</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="typeof">typeof<a href="#typeof" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when parsing the <code>typeof</code> of an identifier</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="call">call<a href="#call" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a function call.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token function">eval</span><span class="token punctuation">(</span><span class="token comment">/* something */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>call<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'eval'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="callmemberchain">callMemberChain<a href="#callmemberchain" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when parsing a call to a member function of an object.</p> <ul> <li>Hook Parameters: <code>objectIdentifier</code></li> <li>Callback Parameters: <code>expression, properties</code></li> </ul> <pre><code class="hljs language-js">myObj<span class="token punctuation">.</span><span class="token function">anyFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>callMemberChain
  <span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'myObj'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression<span class="token punctuation">,</span> properties</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="new">new<a href="#new" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Invoked when parsing a <code>new</code> expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>new<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'MyClass'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="expression">expression<a href="#expression" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>expression<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'this'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="expressionconditionaloperator">expressionConditionalOperator<a href="#expressionconditionaloperator" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a <code>ConditionalExpression</code> e.g. <code>condition ? a : b</code></p> <ul> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="program">program<a href="#program" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Get access to the abstract syntax tree (AST) of a code fragment</p> <ul> <li>Parameters: <code>ast</code> <code>comments</code></li> </ul> <h1 id="normalmodulefactory-hooks">NormalModuleFactory Hooks<a href="#normalmodulefactory-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>NormalModuleFactory</code> module is used by the <code>Compiler</code> to generate modules. Starting with entry points, it resolves each request, parses the content to find further requests, and keeps crawling through files by resolving all and parsing any new files. At last stage, each dependency becomes a Module instance.</p> <p>The <code>NormalModuleFactory</code> class extends <code>Tapable</code> and provides the following lifecycle hooks. They can be tapped the same way as compiler hooks:</p> <pre><code class="hljs language-js">NormalModuleFactory<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>NormaleModuleFactory creates <code>Parser</code> and <code>Generator</code> instances which can be accessed by HookMaps. Identifier must be passed to tap into these:</p> <pre><code class="hljs language-js">NormalModuleFactory<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'identifier'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>As with the <code>compiler</code>, <code>tapAsync</code> and <code>tapPromise</code> may also be available depending on the type of hook.</p> <h3 id="beforeresolve-1">beforeResolve<a href="#beforeresolve-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesBailHook</code></p> <p>Called when a new dependency request is encountered. A dependency can be ignored by returning <code>false</code>. Otherwise, it should return <code>undefined</code> to proceed.</p> <ul> <li>Callback Parameters: <code>ResolveData</code></li> </ul> <h3 id="factorize">factorize<a href="#factorize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesBailHook</code></p> <p>Called before initiating resolve. It should return <code>undefined</code> to proceed.</p> <ul> <li>Callback Parameters: <code>resolveData</code></li> </ul> <h3 id="resolve">resolve<a href="#resolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesBailHook</code></p> <p>Called before the request is resolved. A dependency can be ignored by returning <code>false</code>. Returning a Module instance would finalize the process. Otherwise, it should return <code>undefined</code> to proceed.</p> <ul> <li>Callback Parameters: <code>resolveData</code></li> </ul> <h3 id="resolveforscheme">resolveForScheme<a href="#resolveforscheme" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesBailHook</code></p> <p>Called before a request with scheme (URI) is resolved.</p> <ul> <li>Callback Parameters: <code>resolveData</code></li> </ul> <h3 id="afterresolve-1">afterResolve<a href="#afterresolve-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesBailHook</code></p> <p>Called after the request is resolved.</p> <ul> <li>Callback Parameters: <code>resolveData</code></li> </ul> <h3 id="createmodule">createModule<a href="#createmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>AsyncSeriesBailHook</code></p> <p>Called before a <code>NormalModule</code> instance is created.</p> <ul> <li>Callback Parameters: <code>createData</code> <code>resolveData</code></li> </ul> <h3 id="module-1">module<a href="#module-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncWaterfallHook</code></p> <p>Called after a <code>NormalModule</code> instance is created.</p> <ul> <li>Callback Parameters: <code>module</code> <code>createData</code> <code>resolveData</code></li> </ul> <h3 id="createparser">createParser<a href="#createparser" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>HookMap&#x3C;SyncBailHook></code></p> <p>Called before a <code>Parser</code> instance is created. <code>parserOptions</code> is options in <a href="/configuration/module/#moduleparser">module.parser</a> for the corresponding identifier or an empty object.</p> <ul> <li> <p>Hook Parameters: <code>identifier</code></p> </li> <li> <p>Callback Parameters: <code>parserOptions</code></p> </li> </ul> <h3 id="parser">parser<a href="#parser" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>HookMap&#x3C;SyncHook></code></p> <p>Fired after a <code>Parser</code> instance is created.</p> <ul> <li> <p>Hook Parameters: <code>identifier</code></p> </li> <li> <p>Callback Parameters: <code>parser</code> <code>parserOptions</code></p> </li> </ul> <p>Possible default identifiers:</p> <ol> <li><code>javascript/auto</code></li> <li><code>javascript/dynamic</code></li> <li><code>javascript/esm</code></li> <li><code>json</code></li> <li><code>webassembly/sync</code></li> <li><code>webassembly/async</code></li> <li><code>asset</code></li> </ol> <h3 id="creategenerator">createGenerator<a href="#creategenerator" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>HookMap&#x3C;SyncBailHook></code></p> <p>Called before a <code>Generator</code> instance is created. <code>generatorOptions</code> is options in <a href="/configuration/module/#modulegenerator">module.parser</a> for the corresponding identifier or an empty object.</p> <ul> <li> <p>Hook Parameters: <code>identifier</code></p> </li> <li> <p>Callback Parameters: <code>generatorOptions</code></p> </li> </ul> <h3 id="generator">generator<a href="#generator" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>HookMap&#x3C;SyncHook></code></p> <p>Called after a <code>Generator</code> instance is created.</p> <ul> <li> <p>Hook Parameters: <code>identifier</code></p> </li> <li> <p>Callback Parameters: <code>generator</code> <code>generatorOptions</code></p> </li> </ul> <p>Possible default identifiers:</p> <ol> <li><code>json</code></li> <li><code>webassembly/sync</code></li> <li><code>webassembly/async</code></li> <li><code>asset</code></li> <li><code>asset/source</code></li> <li><code>asset/resource</code></li> <li><code>asset/inline</code></li> </ol> <h1 id="compilation-object">Compilation Object<a href="#compilation-object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The Compilation object has many methods and hooks available. On this page, we will list the available methods and properties.</p> <h2 id="compilation-object-methods">compilation object methods<a href="#compilation-object-methods" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="getstats">getStats<a href="#getstats" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <p>Returns Stats object for the current compilation.</p> <h3 id="addmodule">addModule<a href="#addmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, cacheGroup)</code></p> <p>Adds a module to the current compilation.</p> <p>Parameters:</p> <ul> <li><code>module</code> - module to be added</li> <li><code>cacheGroup</code> - <code>cacheGroup</code> of the module</li> </ul> <h3 id="getmodule">getModule<a href="#getmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module)</code></p> <p>Fetches a module from a compilation by its identifier.</p> <p>Parameters:</p> <ul> <li><code>module</code> - module to be fetched. The identifier is extracted from the module by the compilation using <code>module.identifier()</code> method.</li> </ul> <h3 id="findmodule">findModule<a href="#findmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module)</code></p> <p>Attempts to search for a module by its identifier.</p> <p>Parameters:</p> <ul> <li><code>module</code> - module to be searched for. The identifier is extracted from the module by the compilation using <code>module.identifier()</code> method.</li> </ul> <h3 id="buildmodule-1">buildModule<a href="#buildmodule-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, optional, origin, dependencies)</code></p> <p>Builds the given module.</p> <p>Parameters:</p> <ul> <li><code>module</code> - the module to be built.</li> <li><code>optional</code> - optional flag.</li> <li><code>origin</code> - origin module from which this module build was requested.</li> <li><code>dependencies</code> - optional dependencies of the module to be built.</li> </ul> <h3 id="processmoduledependencies">processModuleDependencies<a href="#processmoduledependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, callback)</code></p> <p>Process the given module dependencies.</p> <p>Parameters:</p> <ul> <li><code>module</code> - module to be processed for the dependencies.</li> <li><code>callback</code> - function to be invoked when dependencies of the module had been processed.</li> </ul> <h3 id="addentry">addEntry<a href="#addentry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (context, entry, name, callback)</code></p> <p>Adds an entry to the compilation.</p> <p>Parameters:</p> <ul> <li><code>context</code> - context path for entry.</li> <li><code>entry</code> - entry dependency.</li> <li><code>name</code> - the name of entry.</li> <li><code>callback</code> - function to be invoked when addEntry finishes.</li> </ul> <h3 id="rebuildmodule-1">rebuildModule<a href="#rebuildmodule-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, thisCallback)</code></p> <p>Triggers a re-build of the module.</p> <p>Parameters:</p> <ul> <li><code>module</code> - module to be rebuilt.</li> <li><code>thisCallback</code> - function to be invoked when the module finishes rebuilding.</li> </ul> <h3 id="finish">finish<a href="#finish" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (callback)</code></p> <p>Finishes compilation and invokes the given callback.</p> <p>Parameters:</p> <ul> <li><code>callback</code> - function to be invoked when the compilation has been finished.</li> </ul> <h3 id="seal-1">seal<a href="#seal-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (callback)</code></p> <p>Seals the compilation.</p> <p>Parameters:</p> <ul> <li><code>callback</code> - function to be invoked when the compilation has been sealed.</li> </ul> <h3 id="unseal-1">unseal<a href="#unseal-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <p>Unseals the compilation.</p> <p>Parameters:</p> <ul> <li><code>callback</code> - function to be invoked when the compilation has been unsealed.</li> </ul> <h3 id="reportdependencyerrorsandwarnings">reportDependencyErrorsAndWarnings<a href="#reportdependencyerrorsandwarnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, blocks)</code></p> <p>Adds errors and warnings of the given module to the compilation errors and warnings.</p> <p>Parameters:</p> <ul> <li><code>module</code> - the module whose errors and warnings are to be reported.</li> <li><code>blocks</code> - a set of dependency blocks to report from.</li> </ul> <h3 id="addchunkingroup">addChunkInGroup<a href="#addchunkingroup" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (groupOptions, module, loc, request)</code></p> <p>Adds module to an existing chunk group or creates a new one. Returns a <code>chunkGroup</code>.</p> <p>Parameters:</p> <ul> <li><code>groupOptions</code> - options for the chunk group.</li> <li><code>module</code> - a module that references the chunk group.</li> <li><code>loc</code> - the location from which the chunk group is referenced (inside of the module).</li> <li><code>request</code> - the request from which the chunk group is referenced.</li> </ul> <h3 id="addchunk">addChunk<a href="#addchunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (name)</code></p> <p>Creates and adds a new chunk to the <code>compilation.chunks</code>. Returns that <code>chunk</code>.</p> <p>Parameters:</p> <ul> <li><code>name</code> - the name of the chunk.</li> </ul> <h3 id="assigndepth">assignDepth<a href="#assigndepth" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module)</code></p> <p>Assigns <code>depth</code> to the given module and its dependency blocks recursively.</p> <p>Parameters:</p> <ul> <li><code>module</code> - the module to assign depth to.</li> </ul> <h3 id="getdependencyreference">getDependencyReference<a href="#getdependencyreference" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, dependency)</code></p> <p>Returns the reference to the dependency from a given module.</p> <p>Parameters:</p> <ul> <li><code>module</code> - the module at question.</li> <li><code>dependency</code> - the dependency to get reference to.</li> </ul> <h3 id="processdependenciesblocksforchunkgroups">processDependenciesBlocksForChunkGroups<a href="#processdependenciesblocksforchunkgroups" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (inputChunkGroups)</code></p> <p>Creates the <code>Chunk</code> graph from the <code>Module</code> graph. The process is done in two phases. Phase one: traverse the module graph and build a basic chunks graph in <code>chunkDependencies</code>. Phase two: traverse every possible way through the basic chunk graph and track the available modules. While traversing, <code>processDependenciesBlocksForChunkGroups</code> connects chunks with each other and <code>Blocks</code> with <code>Chunks</code>. It stops traversing when all modules for a chunk are already available and it doesn't connect unneeded chunks.</p> <p>Parameters:</p> <ul> <li><code>inputChunkGroups</code> - chunk groups that are processed.</li> </ul> <h3 id="removereasonsofdependencyblock">removeReasonsOfDependencyBlock<a href="#removereasonsofdependencyblock" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, block)</code></p> <p>Removes relation of the module to the dependency block.</p> <p>Parameters:</p> <ul> <li><code>module</code> - a module relationship to be removed.</li> <li><code>block</code> - dependency block.</li> </ul> <h3 id="patchchunksafterreasonremoval">patchChunksAfterReasonRemoval<a href="#patchchunksafterreasonremoval" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (module, chunk)</code></p> <p>Patches ties of module and chunk after removing dependency reasons. Called automatically by <code>removeReasonsOfDependencyBlock</code>.</p> <p>Parameters:</p> <ul> <li><code>module</code> - a module to patch tie.</li> <li><code>chunk</code> - a chunk to patch tie.</li> </ul> <h3 id="removechunkfromdependencies">removeChunkFromDependencies<a href="#removechunkfromdependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (block, chunk)</code></p> <p>Removes given chunk from a dependencies block module and chunks after removing dependency reasons. Called automatically by <code>removeReasonsOfDependencyBlock</code>.</p> <p>Parameters:</p> <ul> <li><code>block</code> - block tie for <code>Chunk</code>.</li> <li><code>chunk</code> - a chunk to remove from dependencies.</li> </ul> <h3 id="sortitemswithmoduleids">sortItemsWithModuleIds<a href="#sortitemswithmoduleids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="sortitemswithchunkids">sortItemsWithChunkIds<a href="#sortitemswithchunkids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="summarizedependencies">summarizeDependencies<a href="#summarizedependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="createhash">createHash<a href="#createhash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="createmoduleassets">createModuleAssets<a href="#createmoduleassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="createchunkassets">createChunkAssets<a href="#createchunkassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="getpath">getPath<a href="#getpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (filename, data)</code></p> <p>Returns the interpolated path.</p> <p>Parameters:</p> <ul> <li><code>filename</code> - used to get asset path with hash.</li> <li><code>data</code> - data object.</li> </ul> <h3 id="getpathwithinfo">getPathWithInfo<a href="#getpathwithinfo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (filename, data)</code></p> <p>Returns interpolated path and asset information.</p> <p>Parameters:</p> <ul> <li><code>filename</code> - used to get asset path with hash.</li> <li><code>data</code> - data object.</li> </ul> <h3 id="createchildcompiler">createChildCompiler<a href="#createchildcompiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (name, outputOptions, plugins)</code></p> <p>Allows running another instance of webpack inside of webpack. However, as a child with different settings and configurations applied. It copies all hooks and plugins from the parent (or top-level compiler) and creates a child <code>Compiler</code> instance. Returns the created <code>Compiler</code>.</p> <p>Parameters:</p> <ul> <li><code>name</code> - name for the child <code>Compiler</code>.</li> <li><code>outputOptions</code> - output options object.</li> <li><code>plugins</code> - webpack plugins that will be applied.</li> </ul> <h3 id="checkconstraints">checkConstraints<a href="#checkconstraints" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <h3 id="emitasset">emitAsset<a href="#emitasset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (file, source, assetInfo = {})</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Available since webpack 4.40.0</p></aside> <p>Parameters:</p> <ul> <li><code>file</code> - file name of the asset</li> <li><code>source</code> - the source of the asset</li> <li><code>assetInfo</code> - additional asset information</li> </ul> <h3 id="updateasset">updateAsset<a href="#updateasset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (file, newSourceOrFunction, assetInfoUpdateOrFunction)</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Available since webpack 4.40.0</p></aside> <p>Parameters:</p> <ul> <li><code>file</code> - file name of the asset</li> <li><code>newSourceOrFunction</code> - new asset source or function converting old to new</li> <li><code>assetInfoUpdateOrFunction</code> - new asset info or function converting old to new</li> </ul> <h3 id="deleteasset">deleteAsset<a href="#deleteasset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (file)</code></p> <p>Parameters:</p> <ul> <li><code>file</code> - file name of the asset</li> </ul> <h3 id="getassets">getAssets<a href="#getassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Available since webpack 4.40.0</p></aside> <p>Returns array of all assets under the current compilation.</p> <h3 id="getasset">getAsset<a href="#getasset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function (name)</code></p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Available since webpack 4.40.0</p></aside> <p>Parameters:</p> <ul> <li><code>name</code> - the name of the asset to return</li> </ul> <h1 id="plugin-api">Plugin API<a href="#plugin-api" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Plugins are a key piece of the webpack ecosystem and provide the community with a powerful way to tap into webpack's compilation process. A plugin is able to <a href="/api/compiler-hooks/#hooks">hook</a> into key events that are fired throughout each compilation. Every step of the way, the plugin will have full access to the <code>compiler</code> and, when applicable, the current <code>compilation</code>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>For a high-level introduction to writing plugins, start with <a href="/contribute/writing-a-plugin">writing a plugin</a>.</p></aside> <p>Let's start by going over <code>tapable</code> utility, which provides the backbone of webpack's plugin interface.</p> <h2 id="tapable">Tapable<a href="#tapable" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This small library is a core utility in webpack but can also be used elsewhere to provide a similar plugin interface. Many objects in webpack extend the <code>Tapable</code> class. The class exposes <code>tap</code>, <code>tapAsync</code>, and <code>tapPromise</code> methods which plugins can use to inject custom build steps that will be fired throughout a compilation.</p> <p>Please see the <a href="https://github.com/webpack/tapable">documentation</a> to learn more. An understanding of the three <code>tap</code> methods, as well as the hooks that provide them, is crucial. The objects that extend <code>Tapable</code> (e.g. the compiler), the hooks they provide, and each hook's type (e.g. the <code>SyncHook</code>) will be noted.</p> <h2 id="plugin-types">Plugin Types<a href="#plugin-types" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Depending on the hooks used and <code>tap</code> methods applied, plugins can function in a different number of ways. The way this works is closely related to the <a href="https://github.com/webpack/tapable#tapable">hooks</a> provided by <code>Tapable</code>. The <a href="/api/compiler-hooks/#hooks">compiler hooks</a> each note the underlying <code>Tapable</code> hook indicating which <code>tap</code> methods are available.</p> <p>So depending on which event you <code>tap</code> into, the plugin may run differently. For example, when hooking into the <code>compile</code> stage, only the synchronous <code>tap</code> method can be used:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compile<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Synchronously tapping the compile hook.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>However, for <code>run</code> which utilizes the <code>AsyncHook</code>, we can utilize <code>tapAsync</code> or <code>tapPromise</code> (as well as <code>tap</code>):</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
  <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> target<span class="token punctuation">,</span> routesList<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Asynchronously tapping the run hook.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">tapPromise</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> target<span class="token punctuation">,</span> routesList</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Asynchronously tapping the run hook with a delay.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">tapPromise</span><span class="token punctuation">(</span>
  <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> target<span class="token punctuation">,</span> routesList</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Asynchronously tapping the run hook with a delay.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The moral of the story is that there are a variety of ways to <code>hook</code> into the <code>compiler</code>, each one allowing your plugin to run as it sees fit.</p> <h2 id="custom-hooks">Custom Hooks<a href="#custom-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In order to add a new hook to the compilation for other plugins to <code>tap</code> into, you then <code>require</code> the necessary hook class from <code>tapable</code> and create one:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> SyncHook <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tapable'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>SyncHook<span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>myCustomHook<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Already in use'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>myCustomHook <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Wherever/whenever you'd like to trigger the hook...</span>
compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">myCustomHook</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Again, see the <a href="https://github.com/webpack/tapable">documentation</a> for <code>tapable</code> to learn more about the different hook classes and how they work.</p> <h2 id="reporting-progress">Reporting Progress<a href="#reporting-progress" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins can report progress via <a href="/plugins/progress-plugin/"><code>ProgressPlugin</code></a>, which prints progress messages to stderr by default. In order to enable progress reporting, pass a <code>--progress</code> argument when running the <a href="/api/cli/">webpack CLI</a>.</p> <p>It is possible to customize the printed output by passing different arguments to the <code>reportProgress</code> function of <a href="/plugins/progress-plugin/"><code>ProgressPlugin</code></a>.</p> <p>To report progress, a plugin must <code>tap</code> into a hook using the <code>context: true</code> option:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
    context<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> compiler<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reportProgress <span class="token operator">=</span> context <span class="token operator">&#x26;&#x26;</span> context<span class="token punctuation">.</span>reportProgress<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reportProgress<span class="token punctuation">)</span> <span class="token function">reportProgress</span><span class="token punctuation">(</span><span class="token number">0.95</span><span class="token punctuation">,</span> <span class="token string">'Starting work'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>reportProgress<span class="token punctuation">)</span> <span class="token function">reportProgress</span><span class="token punctuation">(</span><span class="token number">0.95</span><span class="token punctuation">,</span> <span class="token string">'Done work'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>reportProgress</code> function may be called with these arguments:</p> <pre><code class="hljs language-js"><span class="token function">reportProgress</span><span class="token punctuation">(</span>percentage<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <ul> <li><code>percentage</code>: This argument is unused; instead, <a href="/plugins/progress-plugin/"><code>ProgressPlugin</code></a> will calculate a percentage based on the current hook.</li> <li><code>...args</code>: Any number of strings, which will be passed to the <code>ProgressPlugin</code> handler to be reported to the user.</li> </ul> <p>Note that only a subset of compiler and compilation hooks support the <code>reportProgress</code> function. See <a href="/plugins/progress-plugin/#supported-hooks"><code>ProgressPlugin</code></a> for a full list.</p> <h2 id="logging-1">Logging<a href="#logging-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Logging API is available since the release of webpack 4.37. When <code>logging</code> is enabled in <a href="/configuration/stats/#statslogging"><code>stats configuration</code></a> and/or when <a href="/configuration/other-options/#infrastructurelogging"><code>infrastructure logging</code></a> is enabled, plugins may log messages which will be printed out in the respective logger format (stats, infrastructure).</p> <ul> <li>Plugins should prefer to use <code>compilation.getLogger('PluginName')</code> for logging. This kind of logging is stored in the Stats and formatted accordingly. It can be filtered and exported by the user.</li> <li>Plugins may use the <code>compiler.getInfrastructureLogger('PluginName')</code> for logging. Using <code>infrastructure</code> logging is not stored in the Stats and therefore not formatted. It's usually logged to the console/dashboard/GUI directly. It can be filtered by the user.</li> <li>Plugins may use special fallback logic for detecting logging support <code>compilation.getLogger ? compilation.getLogger('PluginName') : console</code> to provide a fallback for cases when an older webpack version is used which does not support <code>getLogger</code> method on <code>compilation</code> object.</li> </ul> <h2 id="next-steps">Next Steps<a href="#next-steps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>See the <a href="/api/compiler-hooks/">compiler hooks</a> section for a detailed listing of all the available <code>compiler</code> hooks and the parameters they make available.</p> <h1 id="resolvers">Resolvers<a href="#resolvers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Resolvers are created using the <code>enhanced-resolve</code> package. The <code>Resolver</code> class extends the <code>tapable</code> class and uses <code>tapable</code> to provide a few hooks. The <code>enhanced-resolve</code> package can be used directly to create new resolvers, however any <a href="/api/node/#compiler-instance"><code>compiler</code> instance</a> has a few resolver instances that can be tapped into.</p> <p>Before reading on, make sure to have a look at the <a href="https://github.com/webpack/enhanced-resolve"><code>enhanced-resolve</code></a> and <a href="/api/plugins/#tapable"><code>tapable</code></a> documentation.</p> <h2 id="types">Types<a href="#types" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>There are three types of built-in resolvers available on the <code>compiler</code> class:</p> <ul> <li><code>normal</code>: Resolves a module via an absolute or relative path.</li> <li><code>context</code>: Resolves a module within a given context.</li> <li><code>loader</code>: Resolves a webpack <a href="/loaders">loader</a>.</li> </ul> <p>Depending on need, any one of these built-in resolvers, that are used by the <code>compiler</code>, can be customized via plugins:</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>resolverFactory<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>resolver
  <span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'[type]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">resolver</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// you can tap into resolver.hooks now</span>
    resolver<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>result<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Where <code>[type]</code> is one of the three resolvers mentioned above.</p> <p>See the <a href="https://github.com/webpack/enhanced-resolve"><code>enhanced-resolve</code> documentation</a> for a full list of hooks and their description.</p> <h2 id="configuration-options-1">Configuration Options<a href="#configuration-options-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The resolvers mentioned above can also be customized via a configuration file with the <a href="/configuration/resolve/"><code>resolve</code></a> or <a href="/configuration/resolve/#resolveloader"><code>resolveLoader</code></a> options. These options allow users to change the resolving behavior through a variety of options including through resolve <code>plugins</code>.</p> <p>The resolver plugins, e.g. <a href="https://github.com/shaketbaby/directory-named-webpack-plugin"><code>DirectoryNamedPlugin</code></a>, can be included directly in <code>resolve.plugins</code> rather than using directly in <a href="/configuration/plugins/#plugins"><code>plugins</code> configuration option</a>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Note that the <code>resolve</code> configuration affects the <code>normal</code> and <code>context</code> resolvers while <code>resolveLoader</code> is used to modify the <code>loader</code> resolver.</p></aside> </div><div class="print:hidden mt-20"><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/webpack/webpack.js.org/edit/master/src/content/api/printable.md">Edit this page</a><span class="mx-5 text-black font-bold dark:text-white">·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline">Print this page</a></div><div class="contributors__section"><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/webpack"><img width="45" height="45" alt="webpack" src="/icon-square-small-slack.9281492bb267314634b4.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">Get Started</a><a class="footer__link" href="/comparison/">Comparison</a><a href="https://privacy-policy.openjsf.org/" target="_blank" rel="noopener noreferrer" class="footer__link">Privacy Policy</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon" width="35" height="35"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">Swag Store</a><a class="footer__link" href="/glossary/">Glossary</a><a class="footer__link" href="/branding/">Branding</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">Changelog</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.ab77d813bf219c6e34ff.svg" width="25" height="25"/><img alt="Creative Commons License" src="/by.1360bb2e6d1fc28cdd9e.svg" width="25" height="25"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script></body>