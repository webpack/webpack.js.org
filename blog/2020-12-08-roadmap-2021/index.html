<!DOCTYPE html><html lang="en"><head><title data-rh="true">Roadmap 2021 (2020-12-08) | webpack</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:site_name" content="webpack"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="Roadmap 2021 (2020-12-08) | webpack"/><meta data-rh="true" property="og:description" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.934507c816afbcdb.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.a3dd58d3142f7566.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.js.org/blog/2020-12-08-roadmap-2021/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.4a16a9aed80e42ee.svg" color="#465e69"/><link rel="stylesheet" href=/index.93d749b6c038c22c.css /><link rel="stylesheet" href=/4513.869f0846a132527b.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="bg-blue-800 dark:bg-gray-900"><div class="flex items-center py-10 px-[16px] justify-between md:px-[24px] md:max-w-[1024px] md:mx-auto md:justify-start"><button class="bg-transparent border-none md:hidden"><svg viewBox="-62 138 25 25" width="20" height="20" class="fill-current text-white"><path fill="currentColor" d="M-60.2 140.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8M-60.2 148.7h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8M-60.2 157.2h20.9c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8h-20.9c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8"></path></svg></button><a class="md:mr-auto" href="/"><img class="logo" src="/site-logo.c0e60df418e04f58.svg" alt="webpack logo" width="122" height="35"/></a><nav class="hidden md:inline-grid md:grid-flow-col md:gap-x-[18px]"><a aria-label="webpack documentation" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/concepts/">Documentation</a><a aria-label="contribute to webpack" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200" href="/contribute/">Contribute</a><a aria-label="webpack blog" aria-current="page" class="text-gray-100 dark:text-gray-100 text-sm font-light uppercase hover:text-blue-200 !text-blue-200" href="/blog/">Blog</a><div class="relative flex items-center justify-center "><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" aria-label="webpack on GitHub"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 6.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 0 1 5 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0 0 12 2"></path></svg></a></div><div class="relative flex items-center justify-center "><a href="https://x.com/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" aria-label="webpack on X"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a></div><div class="relative flex items-center justify-center "><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-100 dark:text-gray-200 hover:text-blue-200" aria-label="webpack on StackOverflow"><svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4zM6.8 14.3l.3-1.7 8.8 1.8-.3 1.8zm1.1-4.2.8-1.6 8.1 3.8-.7 1.6zm2.3-4 1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8z"></path></svg></a></div><nav class="dropdown "><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><svg viewBox="0 0 610 560" xmlns="http://www.w3.org/2000/svg" class="dropdown__language text-gray-100 hover:text-blue-200 transition-colors duration-200"><path d="m304.8 99.2-162.5-57.3v353.6l162.5-52.6z"></path><path d="m300.9 99 168.7-57.3v353.6l-168.7-52.5zm-200.7 358.4 200.7-66.9v-291.5l-200.7 66.9z" fill="currentColor"></path><path d="m392.4 461.8 28.4 46.8 15-43.5zm-223.9-262.3c-1.1-1 1.4 8.6 4.8 12 6.1 6.1 10.8 6.9 13.3 7 5.6.2 12.5-1.4 16.5-3.1s10.9-5.2 13.5-10.4c.6-1.1 2.1-3 1.1-7.5-.7-3.5-3-4.8-5.7-4.6s-11 2.4-15 3.6-12.2 3.7-15.8 4.5-11.5-.3-12.7-1.5zm101.2 114.8c-1.6-.6-34.3-14.1-38.9-16.4a368 368 0 0 0 -17.5-7.5c12.3-19 20.1-33.4 21.2-35.6 1.9-4 15-29.5 15.3-31.1s.7-7.5.4-8.9-5.1 1.3-11.6 3.5-18.9 10.2-23.7 11.2-20.1 6.8-28 9.4c-7.8 2.6-22.7 7.1-28.8 8.8-6.1 1.6-11.4 1.8-14.9 2.8 0 0 .5 4.8 1.4 6.2s4.1 5 7.9 5.9c3.8 1 10 .6 12.8-.1s7.7-3.1 8.4-4.1c.7-1.1-.3-4.3.8-5.3s16.1-4.5 21.7-6.2 27.2-9.2 30.1-8.8a916 916 0 0 1 -23.9 47.7 821 821 0 0 1 -45 63.3c-5.3 6-18 21.5-22.4 25 1.1.3 9-.4 10.4-1.3 8.9-5.5 23.8-24.1 28.6-29.7a489.1 489.1 0 0 0 36.7-49.4c1.9.8 17.6 13.6 21.7 16.4a293 293 0 0 0 23.7 13.3c3.5 1.5 16.9 7.7 17.5 5.6.7-1.8-2.3-14.1-3.9-14.7z"></path><path clip-rule="evenodd" d="m194.1 484.7a204.9 204.9 0 0 0 30.7 14.5 233.6 233.6 0 0 0 46.4 12c.5 0 16 1.9 19.2 1.9h15.7c6.1-.5 11.8-.9 17.9-1.7 4.9-.7 10.3-1.6 15.5-2.8 3.8-.9 7.8-1.7 11.7-3 3.7-1 7.8-2.4 11.8-3.8l8.2-3.1c2.3-1 5.1-2.3 7.7-3.3a243 243 0 0 0 19.2-10c2.3-1.2 7.5-5.2 10.3-5.2 3.1 0 5.2 2.8 5.2 5.2 0 5.1-6.8 6.6-9.9 8.9-3.3 2.3-7.3 4-10.8 5.9-7 3.7-14.1 6.8-20.9 9.4a251 251 0 0 1 -27.3 8.5c-3.3.7-6.6 1.6-9.9 2.1-1.7.3-19.9 3.1-24.9 3.1h-23a293.9 293.9 0 0 1 -35.1-5.2 196 196 0 0 1 -33.1-10.3c-12-4.5-24.6-10.5-36.4-18.3-2.1-1.4-2.3-2.8-2.3-4.4a5 5 0 0 1 5.1-5.1c2.4.1 8 4.2 9 4.7zm101.4-98.1-189.9 63.2v-280.1l189.9-63.2zm10.6-288.3v292.7a6 6 0 0 1 -1.2 2.6c-.3.5-1 1.2-1.6 1.4a14621 14621 0 0 1 -203.1 67.6c-2.1 0-4-1.4-5.1-3.7 0-.2-.2-.3-.2-.7v-292.8c.3-.9.5-2.1 1.2-2.8 1.4-1.9 3.8-2.3 5.4-2.8 3-1 196.1-65.8 198.9-65.8 1.9 0 5.7 1.2 5.7 4.3z" fill-rule="evenodd"></path><path clip-rule="evenodd" d="m464.3 388-158-49.1v-236l158-53.7zm10.6-345.8v352.4c-.2 4-3 5.7-5.6 5.7-2.3 0-18.6-5.6-21.4-6.4l-65.8-20.4-14.6-4.7-12.9-4c-18.6-5.7-37.6-11.5-56.3-17.8-.7-.2-2.4-2.6-2.4-3.1v-246.1c.3-.9.7-1.9 1.6-2.6 1.4-1.6 61.1-21.4 84.7-29.3 6.3-2.3 84.8-29.3 87.3-29.3 3 .1 5.4 2.3 5.4 5.6z" fill-rule="evenodd"></path><path d="m515 461.8-211.1-67.3.9-292.8 210.2 66.9z"></path><path clip-rule="evenodd" d="m408.6 232.5-20.7 50.1 38.1 11.5zm-12.4-47.2 27.2 8.2 49.5 178.6-27.9-8.5-10-36.7-57.7-17.5-12.4 29.9-27.9-8.5z" fill="currentColor" fill-rule="evenodd"></path></svg><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/blog/2020-12-08-roadmap-2021/" class="px-5 block"><span>English</span></a></li><li><a href="https://webpack.docschina.org/blog/2020-12-08-roadmap-2021/" class="px-5 block"><span lang="zh">中文</span></a></li><li><a href="https://webpack.kr/blog/2020-12-08-roadmap-2021/" class="px-5 block"><span lang="ko">한국어</span></a></li></ul></div></nav></nav><div class="inline-flex items-center ml-[18px]"><div class="relative flex items-center justify-center "><button aria-label="Switch to dark theme" class="bg-transparent border-none cursor-pointer text-[16px] p-0 inline-flex items-center text-gray-100 hover:text-blue-200 transition-colors duration-200" data-testid="hello-darkness"><svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18.14a.722.722 0 0 0-.722.722v2.166a.722.722 0 0 0 1.444 0v-2.166a.722.722 0 0 0-.722-.721ZM12 2.25a.722.722 0 0 0-.722.722v2.166a.722.722 0 0 0 1.444 0V2.972A.722.722 0 0 0 12 2.25ZM5.86 12a.722.722 0 0 0-.723-.722H2.972a.722.722 0 0 0 0 1.444h2.165A.722.722 0 0 0 5.86 12ZM21.028 11.278h-2.165a.722.722 0 0 0 0 1.444h2.165a.722.722 0 0 0 0-1.444ZM7.148 16.13a.72.72 0 0 0-.51.21l-1.533 1.534a.72.72 0 1 0 1.022 1.022l1.532-1.533a.724.724 0 0 0-.51-1.233ZM16.852 7.87a.72.72 0 0 0 .51-.21l1.533-1.533a.72.72 0 0 0 .211-.511.72.72 0 0 0-.722-.722.72.72 0 0 0-.51.21L16.34 6.639a.72.72 0 0 0-.211.51.72.72 0 0 0 .722.722ZM6.127 5.105a.72.72 0 0 0-.511-.211.72.72 0 0 0-.722.722.72.72 0 0 0 .21.51L6.638 7.66a.72.72 0 0 0 .511.211.72.72 0 0 0 .722-.722.72.72 0 0 0-.21-.51L6.126 5.105ZM17.363 16.34a.72.72 0 1 0-1.022 1.022l1.532 1.533a.72.72 0 0 0 1.022 0 .72.72 0 0 0 0-1.021l-1.532-1.533ZM12 7.5c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5Z" fill="currentColor"></path></svg></button></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></header></div><div class="container site__content"><div class="sponsors"><div class="sponsors__content"><div class="sponsors__link-wrapper"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer"><img class="agGridLogo" src="/ag-grid-logo.6a68915181a34a15.png" alt="ag grid" width="220" loading="lazy"/></a></div><div class="sponsors__link-wrapper"><a href="https://charts.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer"><img class="agChartsLogo" src="/ag-charts-logo.f1735fb8902861d2.png" alt="ag charts" width="220" loading="lazy"/></a></div><div class="sponsors__link-wrapper-2"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer"><div class="sponsors__tagline">Datagrid and Charting for Enterprise Applications</div><div class="sponsors__img__wrapper"><img src="/icon-square-small.9e8aff7a67a5dd20.svg" alt="webpack" width="150" height="150" loading="lazy"/></div><div class="sponsors__footer">Proud to partner with webpack</div></a></div></div></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="relative z-0 bg-white dark:bg-gray-100 "><select class="text-gray-600 text-14 px-5 py-5 appearance-none box-border border border-gray-200 border-solid flex-col flex w-full rounded-none bg-transparent bg-none"><option selected="" value="5">webpack 5</option><option value="4">webpack 4</option></select><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="absolute right-5 top-5 fill-current text-gray-300 z-[-1]" width="20" height="20"><path d="M4.5 7.5c.5-.4 1-.4 1.6 0l3.9 3.8 4-3.8c.4-.4 1-.4 1.5 0 .4.5.4 1.2 0 1.7l-4.7 4.5a1 1 0 0 1-1.6 0L4.5 9.2c-.4-.5-.4-1.2 0-1.7"></path></svg></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/blog/">Blog</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Popular posts"><a aria-current="page" class="active" href="/blog/#popular-posts">Popular posts</a></li></ul></div></div><div><div class="sidebar-item sidebar-item--open "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a aria-current="page" class="sidebar-item__title active" href="/blog/2020-12-08-roadmap-2021/">Roadmap 2021 (2020-12-08)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="What happened so far?"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#what-happened-so-far">What happened so far?</a></li><li class="sidebar-item__anchor" title="Roadmap 2021"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#roadmap-2021">Roadmap 2021</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Further stabilizing"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#further-stabilizing">Further stabilizing</a></li><li class="sidebar-item__anchor" title="EcmaScript Modules"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#ecmascript-modules">EcmaScript Modules</a></li><li class="sidebar-item__anchor" title="More first-class citizen"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#more-first-class-citizen">More first-class citizen</a></li><li class="sidebar-item__anchor" title="SourceMap performance"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#sourcemap-performance">SourceMap performance</a></li><li class="sidebar-item__anchor" title="exports/imports package.json field"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#exportsimports-packagejson-field">exports/imports package.json field</a></li><li class="sidebar-item__anchor" title="Improve CommonJS analysis"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#improve-commonjs-analysis">Improve CommonJS analysis</a></li><li class="sidebar-item__anchor" title="Hot Module Replacement for Module Federation"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#hot-module-replacement-for-module-federation">Hot Module Replacement for Module Federation</a></li><li class="sidebar-item__anchor" title="Hinting system"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#hinting-system">Hinting system</a></li><li class="sidebar-item__anchor" title="Multi-Threading"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#multi-threading">Multi-Threading</a></li><li class="sidebar-item__anchor" title="WebAssembly"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#webassembly">WebAssembly</a></li></ul></li><li class="sidebar-item__anchor" title="Disclaimer"><a aria-current="page" class="active" href="/blog/2020-12-08-roadmap-2021/#disclaimer">Disclaimer</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="m9.2 4.5 4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0"></path></svg><a class="sidebar-item__title" href="/blog/2020-10-10-webpack-5-release/">Webpack 5 release (2020-10-10)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Common Questions"><a class="" href="/blog/2020-10-10-webpack-5-release/#common-questions">Common Questions</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="So what does the release mean?"><a class="" href="/blog/2020-10-10-webpack-5-release/#so-what-does-the-release-mean">So what does the release mean?</a></li><li class="sidebar-item__anchor" title="So when is the time to upgrade?"><a class="" href="/blog/2020-10-10-webpack-5-release/#so-when-is-the-time-to-upgrade">So when is the time to upgrade?</a></li></ul></li><li class="sidebar-item__anchor" title="Sponsoring Update"><a class="" href="/blog/2020-10-10-webpack-5-release/#sponsoring-update">Sponsoring Update</a></li><li class="sidebar-item__anchor" title="General direction"><a class="" href="/blog/2020-10-10-webpack-5-release/#general-direction">General direction</a></li><li class="sidebar-item__anchor" title="Migration Guide"><a class="" href="/blog/2020-10-10-webpack-5-release/#migration-guide">Migration Guide</a></li><li class="sidebar-item__anchor" title="Major Changes: Removals"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-removals">Major Changes: Removals</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Removed Deprecated Items"><a class="" href="/blog/2020-10-10-webpack-5-release/#removed-deprecated-items">Removed Deprecated Items</a></li><li class="sidebar-item__anchor" title="Deprecation codes"><a class="" href="/blog/2020-10-10-webpack-5-release/#deprecation-codes">Deprecation codes</a></li><li class="sidebar-item__anchor" title="Syntax deprecated"><a class="" href="/blog/2020-10-10-webpack-5-release/#syntax-deprecated">Syntax deprecated</a></li><li class="sidebar-item__anchor" title="Automatic Node.js Polyfills Removed"><a class="" href="/blog/2020-10-10-webpack-5-release/#automatic-nodejs-polyfills-removed">Automatic Node.js Polyfills Removed</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Long Term Caching"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-long-term-caching">Major Changes: Long Term Caching</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Deterministic Chunk, Module IDs and Export names"><a class="" href="/blog/2020-10-10-webpack-5-release/#deterministic-chunk-module-ids-and-export-names">Deterministic Chunk, Module IDs and Export names</a></li><li class="sidebar-item__anchor" title="Real Content Hash"><a class="" href="/blog/2020-10-10-webpack-5-release/#real-content-hash">Real Content Hash</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Development Support"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-development-support">Major Changes: Development Support</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Named Chunk IDs"><a class="" href="/blog/2020-10-10-webpack-5-release/#named-chunk-ids">Named Chunk IDs</a></li><li class="sidebar-item__anchor" title="Module Federation"><a class="" href="/blog/2020-10-10-webpack-5-release/#module-federation">Module Federation</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: New Web Platform Features"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-new-web-platform-features">Major Changes: New Web Platform Features</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="JSON modules"><a class="" href="/blog/2020-10-10-webpack-5-release/#json-modules">JSON modules</a></li><li class="sidebar-item__anchor" title="import.meta"><a class="" href="/blog/2020-10-10-webpack-5-release/#importmeta">import.meta</a></li><li class="sidebar-item__anchor" title="Asset modules"><a class="" href="/blog/2020-10-10-webpack-5-release/#asset-modules">Asset modules</a></li><li class="sidebar-item__anchor" title="Native Worker support"><a class="" href="/blog/2020-10-10-webpack-5-release/#native-worker-support">Native Worker support</a></li><li class="sidebar-item__anchor" title="URIs"><a class="" href="/blog/2020-10-10-webpack-5-release/#uris">URIs</a></li><li class="sidebar-item__anchor" title="Async modules"><a class="" href="/blog/2020-10-10-webpack-5-release/#async-modules">Async modules</a></li><li class="sidebar-item__anchor" title="Externals"><a class="" href="/blog/2020-10-10-webpack-5-release/#externals">Externals</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: New Node.js Ecosystem Features"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-new-nodejs-ecosystem-features">Major Changes: New Node.js Ecosystem Features</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Resolving"><a class="" href="/blog/2020-10-10-webpack-5-release/#resolving">Resolving</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Development Experience"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-development-experience">Major Changes: Development Experience</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Improved target"><a class="" href="/blog/2020-10-10-webpack-5-release/#improved-target">Improved target</a></li><li class="sidebar-item__anchor" title="Stats"><a class="" href="/blog/2020-10-10-webpack-5-release/#stats">Stats</a></li><li class="sidebar-item__anchor" title="Progress"><a class="" href="/blog/2020-10-10-webpack-5-release/#progress">Progress</a></li><li class="sidebar-item__anchor" title="Automatic unique naming"><a class="" href="/blog/2020-10-10-webpack-5-release/#automatic-unique-naming">Automatic unique naming</a></li><li class="sidebar-item__anchor" title="Automatic public path"><a class="" href="/blog/2020-10-10-webpack-5-release/#automatic-public-path">Automatic public path</a></li><li class="sidebar-item__anchor" title="Typescript typings"><a class="" href="/blog/2020-10-10-webpack-5-release/#typescript-typings">Typescript typings</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Optimization"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-optimization">Major Changes: Optimization</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Nested tree-shaking"><a class="" href="/blog/2020-10-10-webpack-5-release/#nested-tree-shaking">Nested tree-shaking</a></li><li class="sidebar-item__anchor" title="Inner-module tree-shaking"><a class="" href="/blog/2020-10-10-webpack-5-release/#inner-module-tree-shaking">Inner-module tree-shaking</a></li><li class="sidebar-item__anchor" title="CommonJs Tree Shaking"><a class="" href="/blog/2020-10-10-webpack-5-release/#commonjs-tree-shaking">CommonJs Tree Shaking</a></li><li class="sidebar-item__anchor" title="Side-Effect analysis"><a class="" href="/blog/2020-10-10-webpack-5-release/#side-effect-analysis">Side-Effect analysis</a></li><li class="sidebar-item__anchor" title="Optimization per runtime"><a class="" href="/blog/2020-10-10-webpack-5-release/#optimization-per-runtime">Optimization per runtime</a></li><li class="sidebar-item__anchor" title="Module Concatenation"><a class="" href="/blog/2020-10-10-webpack-5-release/#module-concatenation">Module Concatenation</a></li><li class="sidebar-item__anchor" title="General Tree Shaking improvements"><a class="" href="/blog/2020-10-10-webpack-5-release/#general-tree-shaking-improvements">General Tree Shaking improvements</a></li><li class="sidebar-item__anchor" title="Development Production Similarity"><a class="" href="/blog/2020-10-10-webpack-5-release/#development-production-similarity">Development Production Similarity</a></li><li class="sidebar-item__anchor" title="Improved Code Generation"><a class="" href="/blog/2020-10-10-webpack-5-release/#improved-code-generation">Improved Code Generation</a></li><li class="sidebar-item__anchor" title="Improved target option"><a class="" href="/blog/2020-10-10-webpack-5-release/#improved-target-option">Improved target option</a></li><li class="sidebar-item__anchor" title="SplitChunks and Module Sizes"><a class="" href="/blog/2020-10-10-webpack-5-release/#splitchunks-and-module-sizes">SplitChunks and Module Sizes</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Performance"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-performance">Major Changes: Performance</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Persistent Caching"><a class="" href="/blog/2020-10-10-webpack-5-release/#persistent-caching">Persistent Caching</a></li><li class="sidebar-item__anchor" title="File Emitting"><a class="" href="/blog/2020-10-10-webpack-5-release/#file-emitting">File Emitting</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Long outstanding problems"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-long-outstanding-problems">Major Changes: Long outstanding problems</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Code Splitting for single-file-targets"><a class="" href="/blog/2020-10-10-webpack-5-release/#code-splitting-for-single-file-targets">Code Splitting for single-file-targets</a></li><li class="sidebar-item__anchor" title="Updated Resolver"><a class="" href="/blog/2020-10-10-webpack-5-release/#updated-resolver">Updated Resolver</a></li><li class="sidebar-item__anchor" title="Chunks without JS"><a class="" href="/blog/2020-10-10-webpack-5-release/#chunks-without-js">Chunks without JS</a></li></ul></li><li class="sidebar-item__anchor" title="Major Changes: Future"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-changes-future">Major Changes: Future</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Experiments"><a class="" href="/blog/2020-10-10-webpack-5-release/#experiments">Experiments</a></li><li class="sidebar-item__anchor" title="Minimum Node.js Version"><a class="" href="/blog/2020-10-10-webpack-5-release/#minimum-nodejs-version">Minimum Node.js Version</a></li></ul></li><li class="sidebar-item__anchor" title="Changes to the Configuration"><a class="" href="/blog/2020-10-10-webpack-5-release/#changes-to-the-configuration">Changes to the Configuration</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Changes to the Structure"><a class="" href="/blog/2020-10-10-webpack-5-release/#changes-to-the-structure">Changes to the Structure</a></li><li class="sidebar-item__anchor" title="Changes to the Defaults"><a class="" href="/blog/2020-10-10-webpack-5-release/#changes-to-the-defaults">Changes to the Defaults</a></li></ul></li><li class="sidebar-item__anchor" title="Loader related Changes"><a class="" href="/blog/2020-10-10-webpack-5-release/#loader-related-changes">Loader related Changes</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="this.getOptions"><a class="" href="/blog/2020-10-10-webpack-5-release/#thisgetoptions">this.getOptions</a></li><li class="sidebar-item__anchor" title="this.exec"><a class="" href="/blog/2020-10-10-webpack-5-release/#thisexec">this.exec</a></li><li class="sidebar-item__anchor" title="this.getResolve"><a class="" href="/blog/2020-10-10-webpack-5-release/#thisgetresolve">this.getResolve</a></li></ul></li><li class="sidebar-item__anchor" title="Major Internal Changes"><a class="" href="/blog/2020-10-10-webpack-5-release/#major-internal-changes">Major Internal Changes</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="New plugin order"><a class="" href="/blog/2020-10-10-webpack-5-release/#new-plugin-order">New plugin order</a></li><li class="sidebar-item__anchor" title="Runtime Modules"><a class="" href="/blog/2020-10-10-webpack-5-release/#runtime-modules">Runtime Modules</a></li><li class="sidebar-item__anchor" title="Serialization"><a class="" href="/blog/2020-10-10-webpack-5-release/#serialization">Serialization</a></li><li class="sidebar-item__anchor" title="Plugins for Caching"><a class="" href="/blog/2020-10-10-webpack-5-release/#plugins-for-caching">Plugins for Caching</a></li><li class="sidebar-item__anchor" title="Hook Object Frozen"><a class="" href="/blog/2020-10-10-webpack-5-release/#hook-object-frozen">Hook Object Frozen</a></li><li class="sidebar-item__anchor" title="Tapable Upgrade"><a class="" href="/blog/2020-10-10-webpack-5-release/#tapable-upgrade">Tapable Upgrade</a></li><li class="sidebar-item__anchor" title="Staged Hooks"><a class="" href="/blog/2020-10-10-webpack-5-release/#staged-hooks">Staged Hooks</a></li><li class="sidebar-item__anchor" title="Main/Chunk/ModuleTemplate deprecation"><a class="" href="/blog/2020-10-10-webpack-5-release/#mainchunkmoduletemplate-deprecation">Main/Chunk/ModuleTemplate deprecation</a></li><li class="sidebar-item__anchor" title="Entry point descriptor"><a class="" href="/blog/2020-10-10-webpack-5-release/#entry-point-descriptor">Entry point descriptor</a></li><li class="sidebar-item__anchor" title="Order and IDs"><a class="" href="/blog/2020-10-10-webpack-5-release/#order-and-ids">Order and IDs</a></li><li class="sidebar-item__anchor" title="Arrays to Sets"><a class="" href="/blog/2020-10-10-webpack-5-release/#arrays-to-sets">Arrays to Sets</a></li><li class="sidebar-item__anchor" title="Compilation.fileSystemInfo"><a class="" href="/blog/2020-10-10-webpack-5-release/#compilationfilesysteminfo">Compilation.fileSystemInfo</a></li><li class="sidebar-item__anchor" title="Filesystems"><a class="" href="/blog/2020-10-10-webpack-5-release/#filesystems">Filesystems</a></li><li class="sidebar-item__anchor" title="Hot Module Replacement"><a class="" href="/blog/2020-10-10-webpack-5-release/#hot-module-replacement">Hot Module Replacement</a></li><li class="sidebar-item__anchor" title="Work Queues"><a class="" href="/blog/2020-10-10-webpack-5-release/#work-queues">Work Queues</a></li><li class="sidebar-item__anchor" title="Logging"><a class="" href="/blog/2020-10-10-webpack-5-release/#logging">Logging</a></li><li class="sidebar-item__anchor" title="Module and Chunk Graph"><a class="" href="/blog/2020-10-10-webpack-5-release/#module-and-chunk-graph">Module and Chunk Graph</a></li><li class="sidebar-item__anchor" title="Init Fragments"><a class="" href="/blog/2020-10-10-webpack-5-release/#init-fragments">Init Fragments</a></li><li class="sidebar-item__anchor" title="Module Source Types"><a class="" href="/blog/2020-10-10-webpack-5-release/#module-source-types">Module Source Types</a></li><li class="sidebar-item__anchor" title="Plugins for Stats"><a class="" href="/blog/2020-10-10-webpack-5-release/#plugins-for-stats">Plugins for Stats</a></li><li class="sidebar-item__anchor" title="New Watching"><a class="" href="/blog/2020-10-10-webpack-5-release/#new-watching">New Watching</a></li><li class="sidebar-item__anchor" title="SizeOnlySource after emit"><a class="" href="/blog/2020-10-10-webpack-5-release/#sizeonlysource-after-emit">SizeOnlySource after emit</a></li><li class="sidebar-item__anchor" title="Emitting assets multiple times"><a class="" href="/blog/2020-10-10-webpack-5-release/#emitting-assets-multiple-times">Emitting assets multiple times</a></li><li class="sidebar-item__anchor" title="ExportsInfo"><a class="" href="/blog/2020-10-10-webpack-5-release/#exportsinfo">ExportsInfo</a></li><li class="sidebar-item__anchor" title="Code Generation Phase"><a class="" href="/blog/2020-10-10-webpack-5-release/#code-generation-phase">Code Generation Phase</a></li><li class="sidebar-item__anchor" title="DependencyReference"><a class="" href="/blog/2020-10-10-webpack-5-release/#dependencyreference">DependencyReference</a></li><li class="sidebar-item__anchor" title="Presentational Dependencies"><a class="" href="/blog/2020-10-10-webpack-5-release/#presentational-dependencies">Presentational Dependencies</a></li><li class="sidebar-item__anchor" title="Deprecated loaders"><a class="" href="/blog/2020-10-10-webpack-5-release/#deprecated-loaders">Deprecated loaders</a></li></ul></li><li class="sidebar-item__anchor" title="Minor Changes"><a class="" href="/blog/2020-10-10-webpack-5-release/#minor-changes">Minor Changes</a></li><li class="sidebar-item__anchor" title="Other Minor Changes"><a class="" href="/blog/2020-10-10-webpack-5-release/#other-minor-changes">Other Minor Changes</a></li></ul></div></div></div></nav><section class="page"><div class="markdown"><h1>Roadmap 2021 (2020-12-08)</h1><div id="md-content"><p>It has been nearly 2 months since webpack 5 was officially released. Due to the sponsoring situation, we couldn&#x27;t devote as much time to webpack as we would like to. Speaking only for myself (@sokra), I enjoyed the little break and have worked on a few side projects. Ironically, while I was using webpack 5 and all its bleeding-edge features (asset modules, worker support, persistent caching), I discovered a few more bugs in webpack 5 that people are likely to run into when upgrading their projects to webpack 5, which led to a lot of work going into bug fixing. Here is a little summary:</p>
<h2><span id="what-happened-so-far"></span>What happened so far?<a href="#what-happened-so-far" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2>
<p>A few more things have been exposed from webpack, both typings-wise and runtime-wise. A few low-handling performance improvements have been made. Code without semicolons used to generate some invalid/incorrect code in some cases, which has been corrected. The combination of side-effect-free code + concatenated modules + reexports has led to some edge cases, which have been fixed (at least the known ones).</p>
<p>But one bug reported by a user has led to the need for a completely new internal feature. You can skip it and go to the next chapter if you find webpack internals boring or too complex.</p>
<p>To trigger the bug we need three ingredients:</p>
<ul>
<li>Since webpack 5 the optimization in <code>production</code> mode will run the used exports analysis (Tree Shaking) against each runtime (which is often identical to the entrypoints), which means webpack can optimize each runtime (resp. entrypoint) individually.</li>
<li>A custom <code>optimization.splitChunks</code> configuration allows to forcefully merge modules into a single chunk. This is done by passing the <code>name</code> option. E.g. <code>{ test: /node_modules/, name: &quot;vendors&quot; }</code> merges modules from <code>node_modules</code> into a single chunk. While this is not recommended in general, it&#x27;s possible and probably makes sense in some cases. The whole thing is about trade-offs anyway and choosing to merge all vendors into a single chunk can be good for long term caching this chunk for repeated visits or between multiple entrypoints.</li>
<li>When exports of a side-effect-free module are not used, the whole module is omitted from the module graph and the <code>import</code>-statement generates no runtime code at all.</li>
</ul>
<p>A problem happens in an edge case where modules from two entrypoints are merged into a single chunk and they reference a side-effect-free module which is not in the shared chunk since only one of the entrypoints uses exports from the side-effect-free module. Modules in the shared chunk are used by both entrypoint, thus they need to include the exports that are used by any of the entrypoints.
That means it will generate code referencing the side-effect-free module that is not available at runtime for the other entrypoint in the aforementioned edge case, which leads to an <code>undefined is not a function</code> or <code>cannot read property &#x27;call&#x27; of undefined</code> error at runtime.</p>
<p>A potential fix would be to include the side-effect-free module in all entrypoints, but as this module isn&#x27;t really needed, that would be a waste of bundle size.
So we went another route, which required the development of a new feature: <code>runtime-dependent code generation</code>.
This allows to generate code which behaves differently depending on which runtime it executes.</p>
<p>To put it another way, we are wrapping some generated code in <code>if</code>-blocks, so they only execute in one runtime.
In this example, this would affect the <code>import</code>-statement which references the side-effect-free module.
The import is only executed for one of the entrypoints.
This avoids to include unnecessary modules, and it also avoids executing unnecessary code even if it would be available.
So even if you are merging all code into a single chunk, only the code that is really used is executed.</p>
<p>So far for the excurse, I hope it wasn&#x27;t that boring...</p>
<h2><span id="roadmap-2021"></span>Roadmap 2021<a href="#roadmap-2021" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2>
<p>So assuming we can sort out our sponsoring situation, the following is planned for 2021:</p>
<h3><span id="further-stabilizing"></span>Further stabilizing<a href="#further-stabilizing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Our top-priority stays stabilizing webpack 5.
So far the situation looks pretty good.
Most critical bugs reported in the last time, affect some edge cases.
So I guess webpack 5 should work for the general cases.
But handling edge cases is (and should stay) one of webpack strength, so we want to continue to work hard fixing these.
We think that many many webpack users need custom things for their build and that&#x27;s something webpack offers via configurability and its rich plugin system.</p>
<h3><span id="ecmascript-modules"></span>EcmaScript Modules<a href="#ecmascript-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>EcmaScript Modules (ESM) are slowly gaining wide-spread adoption.
On authoring side they are already the de facto standard to write code.
On browser support it also looks pretty ok (except for IE11 and a few older mobile browsers).
Browsers are still a bit lacking in supporting ESM for WebWorkers.</p>
<p>One can also generate bundles that run in a <code>type=module</code> script tag, but that has few benefits currently.</p>
<p>There are multiple areas in webpack where ESM support can be improved:</p>
<h4><span id="esm-as-chunk-loading-mechanism"></span>ESM as chunk loading mechanism<a href="#esm-as-chunk-loading-mechanism" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>When targeting the web webpack loads chunks via <code>script</code> tags.
When targeting node.js webpack loads chunks via <code>require</code> or <code>fs</code> + <code>vm</code>.
When targeting WebWorkers webpack loads chunk via <code>importScripts</code>.</p>
<p>In a not-so-far future, all these environments support ESM and more importantly the dynamic <code>import()</code> function.
So a chunk loading mechanism based on <code>import()</code> can unify all these environments, while even needing less runtime code.</p>
<h4><span id="self-executed-chunks"></span>Self-executed chunks<a href="#self-executed-chunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>Currently on-demand-loaded chunks in webpack are always containers for module and never execute module code directly.
When writing <code>import(&quot;./module&quot;)</code> in modules, this will compile to something like <code>__webpack_load_chunk__(&quot;chunk-containing-module.js&quot;).then(() =&gt; __webpack_require__(&quot;./module&quot;))</code>.
There are many cases where this can&#x27;t be changed (e.g. when loading multiple chunks or loading CSS too), but there are some cases where webpack could generate a chunk that directly executes the contained module.
This could lead to less generated code and would avoid the function wrapping in the chunk.</p>
<p>Currently I&#x27;m not yet sure if this is worth it, but it&#x27;s at least worth looking into that.</p>
<h4><span id="esm-exports"></span>ESM exports<a href="#esm-exports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>Currently it&#x27;s not possible to generate ESM exports for a bundle via <code>output.library.type: &quot;module&quot;</code>.
This can be useful when integrating webpack bundles into ESM loading environments or inline scripts.</p>
<aside class="tip"><h6 class="tip__prefix">tip</h6><p>For webpack 4 there is actually a plugin, but native support would be preferable.</p></aside>
<h4><span id="esm-externals-import"></span>ESM externals (import)<a href="#esm-externals-import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>Webpack allows to define <code>externals</code> which are modules that are not bundled but exist at runtime.
There are many types of externals ranging from globals over CommonJs/AMD/System to loading from classic script tag.
Even <code>import()</code> (<code>type: &quot;import&quot;</code>) can be used to load an external, but <code>import</code> (<code>type: &quot;module&quot;</code>) can&#x27;t be used yet.</p>
<p>Interestingly even while <code>type: &quot;module&quot;</code> isn&#x27;t supported yet, webpack already uses it as default when writing e.g. <code>import x from &quot;https://example.com/module.js&quot;</code>.
The default has been choosing to seamlessly add support for ESM externals without introducing a breaking change.</p>
<p>Absolute URLs in <code>import</code>s can make sense e.g. when using external services that offer their API as ESM: <code>import { event } from &quot;https://analytics.company.com/api/v1.js&quot;</code> (<code>import(&quot;https://analytics.company.com/api/v1.js&quot;)</code> might make more sense to gracefully handle errors when depending on this external service, but errors could also be caught higher in module graph).</p>
<p>As usual the <code>externals</code> configuration allows to map any module name to externals:</p>
<pre><code class="hljs language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  externalsType<span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span><span class="token punctuation">,</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    analytics<span class="token operator">:</span> <span class="token string">&#x27;https://analytics.company.com/api/v1.js&#x27;</span><span class="token punctuation">,</span>
    svelte<span class="token operator">:</span> <span class="token string">&#x27;https://jspm.dev/svelte@3&#x27;</span><span class="token punctuation">,</span>
    react<span class="token operator">:</span> <span class="token string">&#x27;https://cdn.skypack.dev/preact@10&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;react-dom&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;https://esm.sh/[react,react-dom]/react-dom&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<aside class="warning"><h6 class="warning__prefix">warning</h6><p>Using multiple different ESM CDNs will not work. This is only an example.</p></aside>
<h4><span id="esm-library"></span>ESM library<a href="#esm-library" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>When ESM exports and import are supported people might think bundling a library makes sense, and that&#x27;s probably true in some cases, but in many cases natively bundling will result in worse results.
The biggest problem is the <code>&quot;sideEffects&quot;: false</code> flag. It affects modules on per file base to skip whole modules. When concatenating multiple side-effect-free modules it&#x27;s no longer possible to skip the individual modules, which leads to worse optimization when not all exports of the library are used.</p>
<p>When the output should be a library that will be processed by a bundler later, this needs to be considered.</p>
<p>I could think of a special mode, which does not apply chunking and instead, emit the raw (processed) modules connected via ESM imports and exports (or also CommonJS <code>require</code>).
So this means loaders, module graph, and asset optimizations run, but no chunk graph is created and each module in the module graph is emitted as a separate file.</p>
<h4><span id="strict-mode-warnings"></span>Strict mode warnings<a href="#strict-mode-warnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>When generating an ESM bundle, all contained code will be forced to strict mode.
For many modules, this isn&#x27;t an issue, but there are a few older packages that might have trouble with the different semantic.
We want to show warnings for these cases.</p>
<h3><span id="more-first-class-citizen"></span>More first-class citizen<a href="#more-first-class-citizen" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Webpack 4 and 5 did a lot of work to support non-JS module types, and webpack 5 already supports some module types by default: JS (ESM/CJS/AMD), JSON, WebAssembly, Asset.
Since webpack 5 one of our long term goals is to become a web-app optimizer, with the goal of supporting everything the browser supports.
So technically a vanilla web app should work out-of-the-box with webpack, but being optimized on the go.</p>
<p>The initial webpack 5 release already did some major steps in this direction: <code>new Worker</code> is supported natively. <code>new URL(...)</code> is supported natively (assets).</p>
<p>WebAssembly and JSON is already supported, even while the proposals are not finished yet.</p>
<p>But two resource types are still missing for the complete story: HTML and CSS.</p>
<h4><span id="css-as-modules"></span>CSS as modules<a href="#css-as-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>Currently webpack supports CSS via <code>css-loader</code>, <code>style-loader</code> or <code>mini-css-extract-plugin</code>.
This is working pretty well, but I think we can do more by supporting CSS as a native module type in webpack.</p>
<p>A major benefit would be the developer experience: The <code>mini-css-extract-plugin</code> configuration is not the easiest and getting rid of it would simplify a lot for the developer.
That doesn&#x27;t mean you can add additional customization on top of that.
I see many developers not using raw CSS, but using preprocessors on top of that (with native CSS support this would look like that: <code>{ test: /\.sass$/, type: &quot;stylesheet&quot;, use: &quot;sass-loader&quot; }</code>).</p>
<p>As of <a href="https://2020.stateofcss.com/en-US/technologies/css-in-js/">State of CSS 2020</a> CSS Modules is a popular way of writing modular CSS and it being a native module type in webpack allows to benefit from module graph optimization like Tree Shaking (Used Exports Optimization and Side-Effects optimization). When using CSS Modules this means the resulting CSS will only contain CSS rules that are referenced from the application (as one is used to from JS Tree Shaking).</p>
<p>There are some potential CSS Modules specific optimizations which are possible with the global knowledge of the application webpack has: CSS rules can be split into smaller rules to avoid repeating common properties. This can result in a much smaller payload as the output CSS contains fewer repeated properties (Atomic CSS).</p>
<p>But there is a big &quot;BUT&quot; here: There is work towards a different &quot;CSS Modules&quot; proposal in the WebComponents community, which is planned to become natively supported by browsers.
At least that&#x27;s the goal of the proposal.
Sadly this proposal is different from what&#x27;s currently used in the Frontend ecosystem but uses similar syntax.
Usually, webpack would align with proposals, so that&#x27;s something to consider here.
We have to check whether it&#x27;s possible to avoid potential conflicts.</p>
<h4><span id="html-as-entrypoint"></span>HTML as entrypoint<a href="#html-as-entrypoint" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>Following Parcels example, we also want to support HTML natively as entrypoints.
Supporting that would be inline with the goal as web app optimizer, as web apps unusally start with a HTML.
It is also a huge developer experience improvement for beginners as many things can be inferred from the HTML.</p>
<p>Being in control of the generated HTML does also allow to optimize more aggressively by default.
Currently, we prevent renaming or splitting initial chunks by default, as this requires additional infrastructure for the HTML generation.</p>
<p>HTML entrypoints also benefit from CSS as modules and Asset modules, as these resources can be referenced from HTML too (e.g. <code>&lt;link rel=stylesheet /&gt;</code>, <code>&lt;img src=&quot;...&quot; /&gt;</code>, <code>&lt;link rel=icon /&gt;</code>).</p>
<h4><span id="html-modules"></span>HTML modules<a href="#html-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4>
<p>There is also a proposal about native support of importing HTML in browsers, that&#x27;s something we will follow, especially as there is a huge overlap with HTML entrypoints.</p>
<h3><span id="sourcemap-performance"></span>SourceMap performance<a href="#sourcemap-performance" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Using (full) SourceMaps with webpack is currently quite expensive with webpack, as performance for SourceMap processing isn&#x27;t the best.
This is something we want to look into for webpack, but also for terser, which is used by webpack as minimizer by default.</p>
<h3><span id="exportsimports-packagejson-field"></span><code>exports</code>/<code>imports</code> package.json field<a href="#exportsimports-packagejson-field" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Node.js 14 has added support for the <code>exports</code> field in package.json to allow to define entrypoints of a package.
Webpack 5 followed this, and even added additional conditions like <code>production/development</code>.</p>
<p>Shortly after that Node.js made further additionals to that, e.g. they also added an <code>imports</code> field for private imports.</p>
<p>That&#x27;s something we also want to add.</p>
<h3><span id="improve-commonjs-analysis"></span>Improve CommonJS analysis<a href="#improve-commonjs-analysis" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>While ESM is the future, there are still a lot of CommonJS packages in npm and in use.
Webpack 5 added analysis for CommonJS modules to allow Tree Shaking for most of these modules.</p>
<p>But we can do more. While many exporting patterns are supported, only a few importing patterns are supported.
We want to add support for more patterns to allow more optimizations for CommonJS modules too.</p>
<h3><span id="hot-module-replacement-for-module-federation"></span>Hot Module Replacement for Module Federation<a href="#hot-module-replacement-for-module-federation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Webpack 5 added a new feature called &quot;Module Federation&quot; which allows integrating multiple builds together at runtime.
Currently, Hot Module Replacement (HMR) supports only a single build at a time and updates can&#x27;t bubble between builds.
We want to improve here and allow HMR updates to bubble between different builds, which would improve developing federation applications.</p>
<h3><span id="hinting-system"></span>Hinting system<a href="#hinting-system" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Currently, webpack displays warnings and errors to the user.
During the build, there are quite a few cases where we could tell the user something, like potential footguns or optimization opportunities, but they don&#x27;t fit into warnings or errors and we don&#x27;t want to spam the output with all this information.
So we want to add another category: Hints.
We want to collect all hints during builds (plugins could also emit some), but only display a limited number of them in the output (by default only one).
This should lead to some kind of &quot;Did you know&quot; experience for the user.</p>
<h3><span id="multi-threading"></span>Multi-Threading<a href="#multi-threading" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>While Persistent Caching makes cached build &quot;blazing&quot; fast, initial builds without Persistent Cache have still a bit of room for improvement.
Javascript execution in Node.js is single-threaded by default, but recent additions allow to use <code>worker_threads</code>, which is an API similar to WebWorkers.</p>
<p>This can be used distribute work across all CPUs. There has already been some preparations in webpack 5 for that: e.g. serializing of internal data structures is possible and the work queues support plugins. But some parts of that are still unclear and require experimentation.</p>
<p>This is in our voting list for a while, but not many have voted on that. Is this really something people need?</p>
<h3><span id="webassembly"></span>WebAssembly<a href="#webassembly" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3>
<p>Currently, WebAssembly is experimental and not enabled by default.
Once the proposal reaches Stage 4 we can enable it by default.</p>
<p>This might also lead to a wider adoption of WebAssembly in the ecosystem.
I think we might see more in this field in 2021.</p>
<h2><span id="disclaimer"></span>Disclaimer<a href="#disclaimer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2>
<p>This list is not set in stone.
The web ecosystem changes so fast that we probably end up implementing totally different things, that we might not even aware of at this time.
We do not even know how much time we can invest in webpack, considering our current sponsoring situation.</p></div><div class="print:hidden mt-20"><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline" href="https://github.com/webpack/webpack.js.org/edit/main/src/content/blog/2020-12-08-roadmap-2021.mdx">Edit this page</a><span class="mx-5 text-black font-bold dark:text-white">·</span><a class="text-gray-500 dark:text-gray-500 text-sm cursor-pointer font-sans hover:underline">Print this page</a></div><div class="adjacent-links print:hidden"><div class="adjacent-links__prev"><div>« Previous</div><a class="adjacent-links__link" href="/blog/">Blog</a></div><div class="adjacent-links__next"><div class="adjacent-links__label--next">Next »</div><a class="adjacent-links__link" href="/blog/2020-10-10-webpack-5-release/">Webpack 5 release (2020-10-10)</a></div></div><div data-testid="contributors" class="print:hidden"><h2 class="!font-sans !font-normal">1<!-- --> <!-- -->Contributor</h2><div><div class="grid gap-[10px] lg:gap-[15px] grid-cols-contributors"><a href="https://github.com/sokra"><img width="45" height="45" alt="sokra" title="sokra" class="w-full rounded-full shadow" src="/icon-square-small-slack.1c7f4f7a52c41f94.png"/></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">Get Started</a><a class="footer__link" href="/comparison/">Comparison</a><a href="https://privacy-policy.openjsf.org/" target="_blank" rel="noopener noreferrer" class="footer__link">Privacy Policy</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.9e8aff7a67a5dd20.svg" alt="webpack icon" width="35" height="35"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">Swag Store</a><a class="footer__link" href="/awesome-webpack/">Awesome webpack</a><a class="footer__link" href="/glossary/">Glossary</a><a class="footer__link" href="/branding/">Branding</a><a href="https://discord.com/invite/8WWf6F7p" target="_blank" rel="noopener noreferrer" class="footer__link">Discord</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">Changelog</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.185f5779f354f6e9.svg" width="25" height="25"/><img alt="Creative Commons License" src="/by.d2da85793ea9d7bd.svg" width="25" height="25"/></a></section></div></footer></div></div><script src="/vendor.817bc9c70027aefa.js"></script><script src="/index.0ee200f435f35383.js"></script></body>