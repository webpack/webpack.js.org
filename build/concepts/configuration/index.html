<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>webpack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/assets/favicon.ico">

    
      <link href="/039df4bacde14ac933c1.css" rel="stylesheet">
    
  </head>
  <body>
    <div id="site" class="site"><div class="interactive" id="components/navigation/navigation.jsx" data-props="{&quot;sections&quot;:[{&quot;title&quot;:&quot;概念&quot;,&quot;url&quot;:&quot;concepts&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;入口&quot;,&quot;url&quot;:&quot;concepts/entry-points&quot;},{&quot;title&quot;:&quot;输出&quot;,&quot;url&quot;:&quot;concepts/output&quot;},{&quot;title&quot;:&quot;加载器&quot;,&quot;url&quot;:&quot;concepts/loaders&quot;},{&quot;title&quot;:&quot;插件&quot;,&quot;url&quot;:&quot;concepts/plugins&quot;},{&quot;title&quot;:&quot;对比其它系统&quot;,&quot;url&quot;:&quot;concepts/compared-to-other-systems&quot;},{&quot;title&quot;:&quot;配置&quot;,&quot;url&quot;:&quot;concepts/configuration&quot;},{&quot;title&quot;:&quot;依赖关系&quot;,&quot;url&quot;:&quot;concepts/dependency-graph&quot;},{&quot;title&quot;:&quot;模块解析&quot;,&quot;url&quot;:&quot;concepts/module-resolution&quot;},{&quot;title&quot;:&quot;模块&quot;,&quot;url&quot;:&quot;concepts/modules&quot;},{&quot;title&quot;:&quot;目标&quot;,&quot;url&quot;:&quot;concepts/targets&quot;}]},{&quot;title&quot;:&quot;配置&quot;,&quot;url&quot;:&quot;configuration&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;开发服务器&quot;,&quot;url&quot;:&quot;configuration/dev-server&quot;},{&quot;title&quot;:&quot;调试工具&quot;,&quot;url&quot;:&quot;configuration/devtool&quot;},{&quot;title&quot;:&quot;入口和上下文&quot;,&quot;url&quot;:&quot;configuration/entry-context&quot;},{&quot;title&quot;:&quot;扩展配置&quot;,&quot;url&quot;:&quot;configuration/external-configs&quot;},{&quot;title&quot;:&quot;扩展&quot;,&quot;url&quot;:&quot;configuration/externals&quot;},{&quot;title&quot;:&quot;模块&quot;,&quot;url&quot;:&quot;configuration/module&quot;},{&quot;title&quot;:&quot;Node&quot;,&quot;url&quot;:&quot;configuration/node&quot;},{&quot;title&quot;:&quot;其它选项&quot;,&quot;url&quot;:&quot;configuration/other-options&quot;},{&quot;title&quot;:&quot;输出&quot;,&quot;url&quot;:&quot;configuration/output&quot;},{&quot;title&quot;:&quot;通过配置&quot;,&quot;url&quot;:&quot;configuration/passing-a-config&quot;},{&quot;title&quot;:&quot;插件&quot;,&quot;url&quot;:&quot;configuration/plugins&quot;},{&quot;title&quot;:&quot;解决&quot;,&quot;url&quot;:&quot;configuration/resolve&quot;},{&quot;title&quot;:&quot;统计&quot;,&quot;url&quot;:&quot;configuration/stats&quot;},{&quot;title&quot;:&quot;目标&quot;,&quot;url&quot;:&quot;configuration/target&quot;},{&quot;title&quot;:&quot;Watch 和 Watch 选项&quot;,&quot;url&quot;:&quot;configuration/watch&quot;}]},{&quot;title&quot;:&quot;怎么做&quot;,&quot;url&quot;:&quot;how-to&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;How to Author Libraries?&quot;,&quot;url&quot;:&quot;how-to/author-libraries&quot;},{&quot;title&quot;:&quot;如何缓存？&quot;,&quot;url&quot;:&quot;how-to/cache&quot;},{&quot;title&quot;:&quot;如何开发？&quot;,&quot;url&quot;:&quot;how-to/develop&quot;},{&quot;title&quot;:&quot;如何用 docker 开发？&quot;,&quot;url&quot;:&quot;how-to/develop/using-docker&quot;},{&quot;title&quot;:&quot;如何用第三方工具开发？&quot;,&quot;url&quot;:&quot;how-to/develop/using-third-party-tools&quot;},{&quot;title&quot;:&quot;如何用 Vagrant 开发？&quot;,&quot;url&quot;:&quot;how-to/develop/using-vagrant&quot;},{&quot;title&quot;:&quot;如何生成一个生产构建？&quot;,&quot;url&quot;:&quot;how-to/generate-production-build&quot;},{&quot;title&quot;:&quot;如何处理兼容性？&quot;,&quot;url&quot;:&quot;how-to/handle-compatibility&quot;},{&quot;title&quot;:&quot;如何处理依赖？&quot;,&quot;url&quot;:&quot;how-to/handle-dependencies&quot;},{&quot;title&quot;:&quot;如何配置 HMR 热重载？&quot;,&quot;url&quot;:&quot;how-to/hot-module-reload&quot;},{&quot;title&quot;:&quot;如何改善构建性能？&quot;,&quot;url&quot;:&quot;how-to/improve-build-performance&quot;},{&quot;title&quot;:&quot;如何安装 webpack？&quot;,&quot;url&quot;:&quot;how-to/install-webpack&quot;},{&quot;title&quot;:&quot;如何懒加载 React？&quot;,&quot;url&quot;:&quot;how-to/lazy-load/react&quot;},{&quot;title&quot;:&quot;如何基于 React 设置热重载？&quot;,&quot;url&quot;:&quot;how-to/set-up-hmr-with-react&quot;},{&quot;title&quot;:&quot;How to Shim Third Party Libraries?&quot;,&quot;url&quot;:&quot;how-to/shim&quot;},{&quot;title&quot;:&quot;如何分割代码？&quot;,&quot;url&quot;:&quot;how-to/split-code&quot;},{&quot;title&quot;:&quot;如何从 webpack1 升级？&quot;,&quot;url&quot;:&quot;how-to/upgrade-from-webpack-1&quot;}]},{&quot;title&quot;:&quot;API&quot;,&quot;url&quot;:&quot;api&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;cli 工具&quot;,&quot;url&quot;:&quot;api/cli&quot;},{&quot;title&quot;:&quot;加载 API&quot;,&quot;url&quot;:&quot;api/loaders&quot;},{&quot;title&quot;:&quot;Node.js API&quot;,&quot;url&quot;:&quot;api/node&quot;},{&quot;title&quot;:&quot;插件 API&quot;,&quot;url&quot;:&quot;api/plugins&quot;}]},{&quot;title&quot;:&quot;其他&quot;,&quot;url&quot;:&quot;/&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;analyze&quot;,&quot;url&quot;:&quot;analyze&quot;},{&quot;title&quot;:&quot;contribute&quot;,&quot;url&quot;:&quot;contribute&quot;},{&quot;title&quot;:&quot;get-started&quot;,&quot;url&quot;:&quot;get-started&quot;},{&quot;title&quot;:&quot;index&quot;,&quot;url&quot;:&quot;index&quot;},{&quot;title&quot;:&quot;license&quot;,&quot;url&quot;:&quot;license&quot;},{&quot;title&quot;:&quot;organization&quot;,&quot;url&quot;:&quot;organization&quot;},{&quot;title&quot;:&quot;writers-guide&quot;,&quot;url&quot;:&quot;writers-guide&quot;}]}],&quot;pageUrl&quot;:&quot;concepts/configuration&quot;}"></div><div class="interactive" id="components/sidebar-mobile/sidebar-mobile.jsx" data-props="{&quot;sections&quot;:[{&quot;title&quot;:&quot;概念&quot;,&quot;url&quot;:&quot;concepts&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;入口&quot;,&quot;url&quot;:&quot;concepts/entry-points&quot;},{&quot;title&quot;:&quot;输出&quot;,&quot;url&quot;:&quot;concepts/output&quot;},{&quot;title&quot;:&quot;加载器&quot;,&quot;url&quot;:&quot;concepts/loaders&quot;},{&quot;title&quot;:&quot;插件&quot;,&quot;url&quot;:&quot;concepts/plugins&quot;},{&quot;title&quot;:&quot;对比其它系统&quot;,&quot;url&quot;:&quot;concepts/compared-to-other-systems&quot;},{&quot;title&quot;:&quot;配置&quot;,&quot;url&quot;:&quot;concepts/configuration&quot;},{&quot;title&quot;:&quot;依赖关系&quot;,&quot;url&quot;:&quot;concepts/dependency-graph&quot;},{&quot;title&quot;:&quot;模块解析&quot;,&quot;url&quot;:&quot;concepts/module-resolution&quot;},{&quot;title&quot;:&quot;模块&quot;,&quot;url&quot;:&quot;concepts/modules&quot;},{&quot;title&quot;:&quot;目标&quot;,&quot;url&quot;:&quot;concepts/targets&quot;}]},{&quot;title&quot;:&quot;配置&quot;,&quot;url&quot;:&quot;configuration&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;开发服务器&quot;,&quot;url&quot;:&quot;configuration/dev-server&quot;},{&quot;title&quot;:&quot;调试工具&quot;,&quot;url&quot;:&quot;configuration/devtool&quot;},{&quot;title&quot;:&quot;入口和上下文&quot;,&quot;url&quot;:&quot;configuration/entry-context&quot;},{&quot;title&quot;:&quot;扩展配置&quot;,&quot;url&quot;:&quot;configuration/external-configs&quot;},{&quot;title&quot;:&quot;扩展&quot;,&quot;url&quot;:&quot;configuration/externals&quot;},{&quot;title&quot;:&quot;模块&quot;,&quot;url&quot;:&quot;configuration/module&quot;},{&quot;title&quot;:&quot;Node&quot;,&quot;url&quot;:&quot;configuration/node&quot;},{&quot;title&quot;:&quot;其它选项&quot;,&quot;url&quot;:&quot;configuration/other-options&quot;},{&quot;title&quot;:&quot;输出&quot;,&quot;url&quot;:&quot;configuration/output&quot;},{&quot;title&quot;:&quot;通过配置&quot;,&quot;url&quot;:&quot;configuration/passing-a-config&quot;},{&quot;title&quot;:&quot;插件&quot;,&quot;url&quot;:&quot;configuration/plugins&quot;},{&quot;title&quot;:&quot;解决&quot;,&quot;url&quot;:&quot;configuration/resolve&quot;},{&quot;title&quot;:&quot;统计&quot;,&quot;url&quot;:&quot;configuration/stats&quot;},{&quot;title&quot;:&quot;目标&quot;,&quot;url&quot;:&quot;configuration/target&quot;},{&quot;title&quot;:&quot;Watch 和 Watch 选项&quot;,&quot;url&quot;:&quot;configuration/watch&quot;}]},{&quot;title&quot;:&quot;怎么做&quot;,&quot;url&quot;:&quot;how-to&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;How to Author Libraries?&quot;,&quot;url&quot;:&quot;how-to/author-libraries&quot;},{&quot;title&quot;:&quot;如何缓存？&quot;,&quot;url&quot;:&quot;how-to/cache&quot;},{&quot;title&quot;:&quot;如何开发？&quot;,&quot;url&quot;:&quot;how-to/develop&quot;},{&quot;title&quot;:&quot;如何用 docker 开发？&quot;,&quot;url&quot;:&quot;how-to/develop/using-docker&quot;},{&quot;title&quot;:&quot;如何用第三方工具开发？&quot;,&quot;url&quot;:&quot;how-to/develop/using-third-party-tools&quot;},{&quot;title&quot;:&quot;如何用 Vagrant 开发？&quot;,&quot;url&quot;:&quot;how-to/develop/using-vagrant&quot;},{&quot;title&quot;:&quot;如何生成一个生产构建？&quot;,&quot;url&quot;:&quot;how-to/generate-production-build&quot;},{&quot;title&quot;:&quot;如何处理兼容性？&quot;,&quot;url&quot;:&quot;how-to/handle-compatibility&quot;},{&quot;title&quot;:&quot;如何处理依赖？&quot;,&quot;url&quot;:&quot;how-to/handle-dependencies&quot;},{&quot;title&quot;:&quot;如何配置 HMR 热重载？&quot;,&quot;url&quot;:&quot;how-to/hot-module-reload&quot;},{&quot;title&quot;:&quot;如何改善构建性能？&quot;,&quot;url&quot;:&quot;how-to/improve-build-performance&quot;},{&quot;title&quot;:&quot;如何安装 webpack？&quot;,&quot;url&quot;:&quot;how-to/install-webpack&quot;},{&quot;title&quot;:&quot;如何懒加载 React？&quot;,&quot;url&quot;:&quot;how-to/lazy-load/react&quot;},{&quot;title&quot;:&quot;如何基于 React 设置热重载？&quot;,&quot;url&quot;:&quot;how-to/set-up-hmr-with-react&quot;},{&quot;title&quot;:&quot;How to Shim Third Party Libraries?&quot;,&quot;url&quot;:&quot;how-to/shim&quot;},{&quot;title&quot;:&quot;如何分割代码？&quot;,&quot;url&quot;:&quot;how-to/split-code&quot;},{&quot;title&quot;:&quot;如何从 webpack1 升级？&quot;,&quot;url&quot;:&quot;how-to/upgrade-from-webpack-1&quot;}]},{&quot;title&quot;:&quot;API&quot;,&quot;url&quot;:&quot;api&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;cli 工具&quot;,&quot;url&quot;:&quot;api/cli&quot;},{&quot;title&quot;:&quot;加载 API&quot;,&quot;url&quot;:&quot;api/loaders&quot;},{&quot;title&quot;:&quot;Node.js API&quot;,&quot;url&quot;:&quot;api/node&quot;},{&quot;title&quot;:&quot;插件 API&quot;,&quot;url&quot;:&quot;api/plugins&quot;}]},{&quot;title&quot;:&quot;其他&quot;,&quot;url&quot;:&quot;/&quot;,&quot;pages&quot;:[{&quot;title&quot;:&quot;analyze&quot;,&quot;url&quot;:&quot;analyze&quot;},{&quot;title&quot;:&quot;contribute&quot;,&quot;url&quot;:&quot;contribute&quot;},{&quot;title&quot;:&quot;get-started&quot;,&quot;url&quot;:&quot;get-started&quot;},{&quot;title&quot;:&quot;index&quot;,&quot;url&quot;:&quot;index&quot;},{&quot;title&quot;:&quot;license&quot;,&quot;url&quot;:&quot;license&quot;},{&quot;title&quot;:&quot;organization&quot;,&quot;url&quot;:&quot;organization&quot;},{&quot;title&quot;:&quot;writers-guide&quot;,&quot;url&quot;:&quot;writers-guide&quot;}]}]}"></div><aside class="sidecar"><a href="//github.com/webpack/webpack" target="_blank" class="sidecar__link sidecar__link--github"><span class="sidecar__label">克隆仓库</span><i class="sidecar__icon icon-github"></i></a><a href="#" class="sidecar__link sidecar__link--gitter js-gitter-toggle-chat-button"><span class="sidecar__label">寻求帮助</span><i class="sidecar__icon icon-gitter"></i></a><a href="//medium.com/webpack" target="_blank" class="sidecar__link sidecar__link--medium"><span class="sidecar__label">访问博客</span><i class="sidecar__icon icon-medium"></i></a><a href="//stackoverflow.com/questions/tagged/webpack" target="_blank" class="sidecar__link sidecar__link--so"><span class="sidecar__label">Stack Overflow</span><i class="sidecar__icon icon-stack-overflow"></i></a></aside><div class="container page"><div class="interactive" id="components/sidebar/sidebar.jsx" data-props="{&quot;sectionName&quot;:&quot;concepts&quot;,&quot;pages&quot;:[{&quot;url&quot;:&quot;concepts/entry-points&quot;,&quot;title&quot;:&quot;入口&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;单入口（简写）语法&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;对象语法&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;常见场景&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;入口分离 应用(app) 和 公共库(vendor)&quot;,&quot;id&quot;:&quot;-app-vendor-&quot;},{&quot;title&quot;:&quot;多页应用&quot;,&quot;id&quot;:&quot;-&quot;}]},{&quot;url&quot;:&quot;concepts/output&quot;,&quot;title&quot;:&quot;输出&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;用法(Usage)&quot;,&quot;id&quot;:&quot;-usage-&quot;},{&quot;title&quot;:&quot;选项(Options)&quot;,&quot;id&quot;:&quot;-options-&quot;},{&quot;title&quot;:&quot;output.chunkFilename&quot;,&quot;id&quot;:&quot;output-chunkfilename&quot;},{&quot;title&quot;:&quot;output.crossOriginLoading&quot;,&quot;id&quot;:&quot;output-crossoriginloading&quot;},{&quot;title&quot;:&quot;output.devtoolLineToLine&quot;,&quot;id&quot;:&quot;output-devtoollinetoline&quot;},{&quot;title&quot;:&quot;output.filename&quot;,&quot;id&quot;:&quot;output-filename&quot;},{&quot;title&quot;:&quot;output.hotUpdateChunkFilename&quot;,&quot;id&quot;:&quot;output-hotupdatechunkfilename&quot;},{&quot;title&quot;:&quot;output.hotUpdateFunction&quot;,&quot;id&quot;:&quot;output-hotupdatefunction&quot;},{&quot;title&quot;:&quot;output.hotUpdateMainFilename&quot;,&quot;id&quot;:&quot;output-hotupdatemainfilename&quot;},{&quot;title&quot;:&quot;output.jsonpFunction&quot;,&quot;id&quot;:&quot;output-jsonpfunction&quot;},{&quot;title&quot;:&quot;output.library&quot;,&quot;id&quot;:&quot;output-library&quot;},{&quot;title&quot;:&quot;output.libraryTarget&quot;,&quot;id&quot;:&quot;output-librarytarget&quot;},{&quot;title&quot;:&quot;output.path&quot;,&quot;id&quot;:&quot;output-path&quot;},{&quot;title&quot;:&quot;output.sourceMapFilename&quot;,&quot;id&quot;:&quot;output-sourcemapfilename&quot;}]},{&quot;url&quot;:&quot;concepts/loaders&quot;,&quot;title&quot;:&quot;加载器&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;concepts/plugins&quot;,&quot;title&quot;:&quot;插件&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;剖析&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;用法&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;配置&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;Node API&quot;,&quot;id&quot;:&quot;node-api&quot;}]},{&quot;url&quot;:&quot;concepts/compared-to-other-systems&quot;,&quot;title&quot;:&quot;对比其它系统&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;concepts/configuration&quot;,&quot;title&quot;:&quot;配置&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;最简单的配置&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;多个目标&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;使用 TypeScript&quot;,&quot;id&quot;:&quot;-typescript&quot;},{&quot;title&quot;:&quot;使用 JSX&quot;,&quot;id&quot;:&quot;-jsx&quot;}]},{&quot;url&quot;:&quot;concepts/dependency-graph&quot;,&quot;title&quot;:&quot;依赖关系&quot;,&quot;anchors&quot;:[]},{&quot;url&quot;:&quot;concepts/module-resolution&quot;,&quot;title&quot;:&quot;模块解析&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;webpack 中的解析规则&quot;,&quot;id&quot;:&quot;webpack-&quot;},{&quot;title&quot;:&quot;加载器(Loader)解析&quot;,&quot;id&quot;:&quot;-loader-&quot;},{&quot;title&quot;:&quot;缓存&quot;,&quot;id&quot;:&quot;-&quot;},{&quot;title&quot;:&quot;不安全的缓存&quot;,&quot;id&quot;:&quot;-&quot;}]},{&quot;url&quot;:&quot;concepts/modules&quot;,&quot;title&quot;:&quot;模块&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;什么是 webpack 模块&quot;,&quot;id&quot;:&quot;-webpack-&quot;},{&quot;title&quot;:&quot;支持的模块类型&quot;,&quot;id&quot;:&quot;-&quot;}]},{&quot;url&quot;:&quot;concepts/targets&quot;,&quot;title&quot;:&quot;目标&quot;,&quot;anchors&quot;:[{&quot;title&quot;:&quot;Usage&quot;,&quot;id&quot;:&quot;usage&quot;},{&quot;title&quot;:&quot;Options&quot;,&quot;id&quot;:&quot;options&quot;},{&quot;title&quot;:&quot;Multiple Targets&quot;,&quot;id&quot;:&quot;multiple-targets&quot;},{&quot;title&quot;:&quot;Resources&quot;,&quot;id&quot;:&quot;resources&quot;},{&quot;title&quot;:&quot;Bundle Output Comparison&quot;,&quot;id&quot;:&quot;bundle-output-comparison&quot;}]}]}"></div><section class="page__content"><h1>配置</h1><a class="page__edit" href="https://github.com/vuefe/webpack.js.org/edit/develop/content/concepts/configuration.md">编辑此页  <i class="icon-edit"></i></a><div><p>你可能已经注意到，很少有 webpack 配置看起来很完全相同。这是因为 <strong>webpack 的配置文件是 JavaScript 文件导出的一个对象。</strong>此对象，由 webpack 根据对象定义的属性进行解析。</p>
<p>接下来的例子展示了 webpack 配置对象如何表达和配置，因为<em>配置对象是代码</em>：</p>
<h2 class="header"><a class="anchor" href="#-" id="-"></a><span class="text">最简单的配置</span><a class="icon-link" href="#-"></a></h2>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  entry<span class="token punctuation" >:</span> <span class="token string" >'./foo.js'</span><span class="token punctuation" >,</span>
  output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    path<span class="token punctuation" >:</span> <span class="token string" >'dist'</span><span class="token punctuation" >,</span>
    filename<span class="token punctuation" >:</span> <span class="token string" >'foo.bundle.js'</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<h2 class="header"><a class="anchor" href="#-" id="-"></a><span class="text">多个目标</span><a class="icon-link" href="#-"></a></h2>
<p><strong>webpack.config.js</strong></p>
<pre><code class="lang-javascript"><span class="token keyword" >var</span> path <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'path'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> webpack <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> webpackMerge <span class="token operator" >=</span> <span class="token function" >require</span><span class="token punctuation" >(</span><span class="token string" >'webpack-merge'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >var</span> baseConfig <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  target<span class="token punctuation" >:</span> <span class="token string" >'async-node'</span><span class="token punctuation" >,</span>
  entry<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    entry<span class="token punctuation" >:</span> <span class="token string" >'./entry.js'</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    filename<span class="token punctuation" >:</span> <span class="token string" >'[name].js'</span><span class="token punctuation" >,</span>
    path<span class="token punctuation" >:</span> path<span class="token punctuation" >.</span><span class="token function" >resolve</span><span class="token punctuation" >(</span>__dirname<span class="token punctuation" >,</span> <span class="token string" >'./dist'</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  plugins<span class="token punctuation" >:</span> <span class="token punctuation" >[</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>optimize<span class="token punctuation" >.</span>CommonsChunkPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
      name<span class="token punctuation" >:</span> <span class="token string" >'inline'</span><span class="token punctuation" >,</span>
      filename<span class="token punctuation" >:</span> <span class="token string" >'inline.js'</span><span class="token punctuation" >,</span>
      minChunks<span class="token punctuation" >:</span> <span class="token number" >Infinity</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token keyword" >new</span> <span class="token class-name" >webpack<span class="token punctuation" >.</span>optimize<span class="token punctuation" >.</span>AggressiveSplittingPlugin</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
        minSize<span class="token punctuation" >:</span> <span class="token number" >5000</span><span class="token punctuation" >,</span>
        maxSize<span class="token punctuation" >:</span> <span class="token number" >10000</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
  <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token keyword" >let</span> targets <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token string" >'web'</span><span class="token punctuation" >,</span> <span class="token string" >'webworker'</span><span class="token punctuation" >,</span> <span class="token string" >'node'</span><span class="token punctuation" >,</span> <span class="token string" >'async-node'</span><span class="token punctuation" >,</span> <span class="token string" >'node-webkit'</span><span class="token punctuation" >,</span> <span class="token string" >'electron-main'</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
  <span class="token keyword" >let</span> base <span class="token operator" >=</span> <span class="token function" >webpackMerge</span><span class="token punctuation" >(</span>baseConfig<span class="token punctuation" >,</span> <span class="token punctuation" >{</span>
    target<span class="token punctuation" >:</span> target<span class="token punctuation" >,</span>
    output<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      path<span class="token punctuation" >:</span> path<span class="token punctuation" >.</span><span class="token function" >resolve</span><span class="token punctuation" >(</span>__dirname<span class="token punctuation" >,</span> <span class="token string" >'./dist/'</span> <span class="token operator" >+</span> target<span class="token punctuation" >)</span><span class="token punctuation" >,</span>
      filename<span class="token punctuation" >:</span> <span class="token string" >'[name].'</span> <span class="token operator" >+</span> target <span class="token operator" >+</span> <span class="token string" >'.js'</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token keyword" >return</span> base<span class="token punctuation" >;</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> targets<span class="token punctuation" >;</span>
</code></pre>
<blockquote class="tip"><div class="tip-title"><i class="tip-icon icon-info"></i>tip</div>作为这篇文档最重要的部分是，会有许多不同格式和风格的 webpack 配置。你和你的团队在理解和维护上能够保持一致才是关键。</blockquote><h2 class="header"><a class="anchor" href="#-typescript" id="-typescript"></a><span class="text">使用 TypeScript</span><a class="icon-link" href="#-typescript"></a></h2>
<p>在下面的例子我们使用 TypeScript 创建一个类(class)，这个类使用了 angular-cli 的<a href="https://github.com/angular/angular-cli/">生成配置</a>。</p>
<p><strong>webpack.config.ts</strong></p>
<pre><code class="lang-typescript"><span class="token keyword" >import</span> <span class="token operator" >*</span> as webpackMerge from <span class="token string" >'webpack-merge'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> CliConfig <span class="token punctuation" >}</span> from <span class="token string" >'./config'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span>
  getWebpackCommonConfig<span class="token punctuation" >,</span>
  getWebpackDevConfigPartial<span class="token punctuation" >,</span>
  getWebpackProdConfigPartial<span class="token punctuation" >,</span>
  getWebpackMobileConfigPartial<span class="token punctuation" >,</span>
  getWebpackMobileProdConfigPartial
<span class="token punctuation" >}</span> from <span class="token string" >'./'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >class</span> <span class="token class-name" >NgCliWebpackConfig</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// TODO: When webpack2 types are finished lets replace all these any types</span>
  <span class="token comment" spellcheck="true">// so this is more maintainable in the future for devs</span>
  <span class="token keyword" >public</span> config<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >;</span>
  <span class="token keyword" >private</span> webpackDevConfigPartial<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >;</span>
  <span class="token keyword" >private</span> webpackProdConfigPartial<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >;</span>
  <span class="token keyword" >private</span> webpackBaseConfig<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >;</span>
  <span class="token keyword" >private</span> webpackMobileConfigPartial<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >;</span>
  <span class="token keyword" >private</span> webpackMobileProdConfigPartial<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >;</span>

  <span class="token keyword" >constructor</span><span class="token punctuation" >(</span><span class="token keyword" >public</span> ngCliProject<span class="token punctuation" >:</span> <span class="token keyword" >any</span><span class="token punctuation" >,</span> <span class="token keyword" >public</span> target<span class="token punctuation" >:</span> <span class="token keyword" >string</span><span class="token punctuation" >,</span> <span class="token keyword" >public</span> environment<span class="token punctuation" >:</span> <span class="token keyword" >string</span><span class="token punctuation" >,</span> outputDir<span class="token operator" >?</span><span class="token punctuation" >:</span> <span class="token keyword" >string</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> config<span class="token punctuation" >:</span> CliConfig <span class="token operator" >=</span> CliConfig<span class="token punctuation" >.</span><span class="token function" >fromProject</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> appConfig <span class="token operator" >=</span> config<span class="token punctuation" >.</span>config<span class="token punctuation" >.</span>apps<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>

    appConfig<span class="token punctuation" >.</span>outDir <span class="token operator" >=</span> outputDir <span class="token operator" >||</span> appConfig<span class="token punctuation" >.</span>outDir<span class="token punctuation" >;</span>

    <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackBaseConfig <span class="token operator" >=</span> <span class="token function" >getWebpackCommonConfig</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>ngCliProject<span class="token punctuation" >.</span>root<span class="token punctuation" >,</span> environment<span class="token punctuation" >,</span> appConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackDevConfigPartial <span class="token operator" >=</span> <span class="token function" >getWebpackDevConfigPartial</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>ngCliProject<span class="token punctuation" >.</span>root<span class="token punctuation" >,</span> appConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackProdConfigPartial <span class="token operator" >=</span> <span class="token function" >getWebpackProdConfigPartial</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>ngCliProject<span class="token punctuation" >.</span>root<span class="token punctuation" >,</span> appConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >if</span> <span class="token punctuation" >(</span>appConfig<span class="token punctuation" >.</span>mobile<span class="token punctuation" >)</span><span class="token punctuation" >{</span>
      <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackMobileConfigPartial <span class="token operator" >=</span> <span class="token function" >getWebpackMobileConfigPartial</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>ngCliProject<span class="token punctuation" >.</span>root<span class="token punctuation" >,</span> appConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
      <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackMobileProdConfigPartial <span class="token operator" >=</span> <span class="token function" >getWebpackMobileProdConfigPartial</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>ngCliProject<span class="token punctuation" >.</span>root<span class="token punctuation" >,</span> appConfig<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
      <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackBaseConfig <span class="token operator" >=</span> <span class="token function" >webpackMerge</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackBaseConfig<span class="token punctuation" >,</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackMobileConfigPartial<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
      <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackProdConfigPartial <span class="token operator" >=</span> <span class="token function" >webpackMerge</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackProdConfigPartial<span class="token punctuation" >,</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackMobileProdConfigPartial<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>

    <span class="token keyword" >this</span><span class="token punctuation" >.</span><span class="token function" >generateConfig</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >generateConfig</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >:</span> <span class="token keyword" >void</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >switch</span> <span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>target<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
      <span class="token keyword" >case</span> <span class="token string" >"development"</span><span class="token punctuation" >:</span>
        <span class="token keyword" >this</span><span class="token punctuation" >.</span>config <span class="token operator" >=</span> <span class="token function" >webpackMerge</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackBaseConfig<span class="token punctuation" >,</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackDevConfigPartial<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >break</span><span class="token punctuation" >;</span>
      <span class="token keyword" >case</span> <span class="token string" >"production"</span><span class="token punctuation" >:</span>
        <span class="token keyword" >this</span><span class="token punctuation" >.</span>config <span class="token operator" >=</span> <span class="token function" >webpackMerge</span><span class="token punctuation" >(</span><span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackBaseConfig<span class="token punctuation" >,</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>webpackProdConfigPartial<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >break</span><span class="token punctuation" >;</span>
      <span class="token keyword" >default</span><span class="token punctuation" >:</span>
        <span class="token keyword" >throw</span> <span class="token keyword" >new</span> <span class="token class-name" >Error</span><span class="token punctuation" >(</span><span class="token string" >"Invalid build target. Only 'development' and 'production' are available."</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >break</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre>
<h2 class="header"><a class="anchor" href="#-jsx" id="-jsx"></a><span class="text">使用 JSX</span><a class="icon-link" href="#-jsx"></a></h2>
<p>在下面例子中，JSX（React JS 标记）和 Babel 创建了一个 webpack 可以识别的 JSON 配置。（由<a href="https://twitter.com/_developit">Jason Miller</a>提供）</p>
<pre><code class="lang-javascript"><span class="token keyword" >import</span> h <span class="token keyword" >from</span> <span class="token string" >'jsxobj'</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">// 导入插件的例子</span>
<span class="token keyword" >const</span> CustomPlugin <span class="token operator" >=</span> config <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  <span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>config<span class="token punctuation" >,</span>
  name<span class="token punctuation" >:</span> <span class="token string" >'custom-plugin'</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> CONFIG <span class="token operator" >=</span> <span class="token punctuation" >(</span>
  <span class="token operator" >&lt;</span>webpack target<span class="token operator" >=</span><span class="token string" >"web"</span> watch<span class="token operator" >></span>
    <span class="token operator" >&lt;</span>entry path<span class="token operator" >=</span><span class="token string" >"src/index.js"</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span>resolve<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>alias <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >{</span>
        react<span class="token punctuation" >:</span> <span class="token string" >'preact-compat'</span><span class="token punctuation" >,</span>
        <span class="token string" >'react-dom'</span><span class="token punctuation" >:</span> <span class="token string" >'preact-compat'</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>resolve<span class="token operator" >></span>
    <span class="token operator" >&lt;</span>plugins<span class="token operator" >></span>
      <span class="token operator" >&lt;</span>uglify<span class="token operator" >-</span>js opts<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        compression<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
        mangle<span class="token punctuation" >:</span> <span class="token boolean" >false</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span>CustomPlugin foo<span class="token operator" >=</span><span class="token string" >"bar"</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>plugins<span class="token operator" >></span>
  <span class="token operator" >&lt;</span><span class="token operator" >/</span>webpack<span class="token operator" >></span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span>

document<span class="token punctuation" >.</span>body<span class="token punctuation" >.</span>textContent <span class="token operator" >=</span> JSON<span class="token punctuation" >.</span><span class="token function" >stringify</span><span class="token punctuation" >(</span>CONFIG<span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token string" >'  '</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
</div><hr/><div class="contributors"><h3>贡献者：</h3><div class="contributors__list"><a class="contributor" href="https://github.com/dear-lizhihua"><img src="https://github.com/dear-lizhihua.png?size=50"/></a></div></div></section></div><div class="footer"><div class="container footer__inner"><section class="footer__left"><a href="/get-started" class="footer__link">起步</a><a href="/analyze" class="footer__link">分析</a><a href="/contribute" class="footer__link">贡献</a></section><section class="footer__middle"><a href="/" class="footer__icon"><img src="/7291f7007988120cc0b20372736970c2.png"/></a></section><section class="footer__right"><a href="//gitter.im/webpack/webpack" target="_blank" class="footer__link">支持</a><a href="https://github.com/webpack/webpack/releases" target="_blank" class="footer__link">更新日志</a><a href="/license" class="footer__link">遵循协议</a></section></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-46921629-2', 'auto');ga('send', 'pageview');</script></div>

    
      <script src="/7d69ab6a8b4178e17eb46dabaf56ad72.js" type="text/javascript"></script>
    
    <script>
      ((window.gitter = {}).chat = {}).options = {
        room: 'webpack/webpack',
        activationElement: false
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
