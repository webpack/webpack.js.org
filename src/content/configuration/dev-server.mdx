---
title: DevServer
sort: 11
contributors:
  - sokra
  - skipjack
  - spacek33z
  - charlespwd
  - orteth01
  - byzyk
  - EugeneHlushko
  - Yiidiir
  - Loonride
  - dmohns
  - EslamHiko
  - digitaljohn
  - bhavya9107
  - wizardofhogwarts
  - jamesgeorge007
  - g100g
  - anikethsaha
  - snitin315
translators:
  - jerexyz
  - QC-L
---

[webpack-dev-server](https://github.com/webpack/webpack-dev-server) å¯ç”¨äºå¿«é€Ÿå¼€å‘åº”ç”¨ç¨‹åºã€‚è¯·æŸ¥é˜… [å¼€å‘æŒ‡å—](/guides/development/) å¼€å§‹ä½¿ç”¨ã€‚

å½“å‰é¡µé¢è®°å½•äº†å½±å“ `webpack-dev-server` (ç®€å†™: `dev-server`) <Badge text="version >= 4.0.0" /> é…ç½®çš„é€‰é¡¹ã€‚å¯ä»¥åœ¨ [è¿™é‡Œ](https://github.com/webpack/webpack-dev-server/blob/master/migration-v4.md) æ‰¾åˆ° `v3` åˆ° `v4` çš„è¿ç§»æŒ‡å—

## å¼€å‘æœåŠ¡å™¨(`devServer`) {#devserver}

`object`

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡ [webpack-dev-server](https://github.com/webpack/webpack-dev-server) çš„è¿™äº›é…ç½®ï¼Œèƒ½å¤Ÿä»¥å¤šç§æ–¹å¼æ”¹å˜å…¶è¡Œä¸ºã€‚è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç¤ºä¾‹ï¼Œåˆ©ç”¨ `gzips` å‹ç¼© `dist/` ç›®å½•å½“ä¸­çš„æ‰€æœ‰å†…å®¹å¹¶æä¾›ä¸€ä¸ªæœ¬åœ°æœåŠ¡(serve)ï¼š
=======
This set of options is picked up by [webpack-dev-server](https://github.com/webpack/webpack-dev-server) and can be used to change its behavior in various ways. Here's a rudimentary example that gzips and serves everything from our `public/` directory in the project root:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
var path = require('path');

module.exports = {
  //...
  devServer: {
    static: {
      directory: path.join(__dirname, 'public'),
    },
    compress: true,
    port: 9000,
  },
};
```

å½“æœåŠ¡(`server`)å¯åŠ¨åï¼Œåœ¨è§£ææ¨¡å—åˆ—è¡¨ä¹‹å‰è¾“å‡ºä¸€æ¡æ¶ˆæ¯ï¼š

```bash
<i> [webpack-dev-server] Project is running at:
<i> [webpack-dev-server] Loopback: http://localhost:9000/
<i> [webpack-dev-server] On Your Network (IPv4): http://197.158.164.104:9000/
<i> [webpack-dev-server] On Your Network (IPv6): http://[fe80::1]:9000/
<i> [webpack-dev-server] Content not from webpack is served from '/path/to/public' directory
```

è¿™é‡Œå°†ä¼šç»™å‡ºæœåŠ¡å¯åŠ¨ä½ç½®ä»¥åŠå†…å®¹çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ã€‚

å¦‚æœä½ é€šè¿‡ Node.js API ä½¿ç”¨ dev-serverï¼Œåˆ™ `devServer` ä¸­çš„é…ç½®é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚ä½†å¯ä»¥å°†é…ç½®é€‰é¡¹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼š`new WebpackDevServer({...}, compiler)`ã€‚[æ­¤ç¤ºä¾‹](https://github.com/webpack/webpack-dev-server/tree/master/examples/api/simple)å±•ç¤ºäº†å¦‚ä½•é€šè¿‡ Node.js API ä½¿ç”¨ webpack-dev-serverã€‚

W> ä½¿ç”¨ `WebpackDevServer` æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ç¬¬äºŒä¸ª `compiler` å‚æ•°ï¼ˆä¸€ä¸ªå›è°ƒï¼‰ã€‚

W> è¯·æ³¨æ„ï¼Œå½“[å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡](/configuration/configuration-types/#exporting-multiple-configurations)æ—¶ï¼Œåªä¼šä½¿ç”¨ `devServer` çš„ç¬¬ä¸€ä¸ªé…ç½®é€‰é¡¹ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ‰€æœ‰çš„é…ç½®å½“ä¸­ã€‚

T> å¦‚æœä½ ç¢°åˆ°äº†é—®é¢˜ï¼Œè¯·å°†è·¯ç”±å¯¼èˆªè‡³ `/webpack-dev-server` å°†ä¼šä¸ºä½ å±•ç¤ºæœåŠ¡æ–‡ä»¶çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼š `http://localhost:9000/webpack-dev-server`ã€‚

T> å¦‚æœä½ éœ€è¦è¦æ‰‹åŠ¨é‡æ–°ç¼–è¯‘ `bundle`ï¼Œå°†è·¯ç”±å¯¼èˆªè‡³ `/invalidate` ä½¿å½“å‰ç¼–è¯‘çš„ `bundle` æ— æ•ˆï¼Œå¹¶é€šè¿‡ [webpack-dev-middleware](https://github.com/webpack/webpack-dev-middleware#invalidate) ä¸ºä½ é‡æ–°ç¼–è¯‘ã€‚æ ¹æ®ä½ çš„é…ç½®ï¼ŒURL å¯èƒ½çœ‹èµ·æ¥åƒ `http://localhost:9000/invalidate`ã€‚

T> å½“å¯åŠ¨æœ¬åœ°æœåŠ¡çš„æ—¶å€™ HTML æ¨¡æ¿æ˜¯å¿…é¡»æä¾›çš„ï¼Œé€šå¸¸æ˜¯ `index.html`ã€‚ç¡®ä¿å°†è„šæœ¬å¼•ç”¨æ·»åŠ åˆ° HTML ä¸­ï¼Œwebpack-dev-server ä¸ä¼šè‡ªåŠ¨æ³¨å…¥å®ƒä»¬ã€‚

### Usage via CLI {#usage-via-cli}

ä½ å¯ä»¥é€šè¿‡ CLI è°ƒç”¨ webpack-dev-serverï¼Œæ–¹å¼æ˜¯ï¼š

```bash
npx webpack serve
```

CLI é…ç½®é¡¹åˆ—è¡¨å¯ä»¥åœ¨ [è¿™é‡Œ](hhttps://github.com/webpack/webpack-cli/blob/master/SERVE-OPTIONS-v4.md) æŸ¥è¯¢ã€‚

## `devServer.allowedHosts` {#devserverallowedhosts}

`'auto' | 'all'` `[string]`

è¯¥é€‰é¡¹å…è®¸å°†å…è®¸è®¿é—®å¼€å‘æœåŠ¡å™¨çš„æœåŠ¡åˆ—å…¥ç™½åå•ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    allowedHosts: [
      'host.com',
      'subdomain.host.com',
      'subdomain2.host.com',
      'host2.com',
    ],
  },
};
```

æ¨¡ä»¿ django çš„`ALLOWED_HOSTS`ï¼Œç”¨ `.` ä½œä¸ºå­åŸŸé€šé…ç¬¦ã€‚`.host.com` ä¼šä¸ `host.com`ï¼Œ`www.host.com` ä»¥åŠ `host.com` ç­‰å…¶ä»–ä»»ä½•å…¶ä»–å­åŸŸåŒ¹é…ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    // this achieves the same effect as the first example
    // with the bonus of not having to update your config
    // if new subdomains need to access the dev server
    allowedHosts: ['.host.com', 'host2.com'],
  },
};
```

å½“è®¾ç½®ä¸º `'all'` æ—¶ä¼šè·³è¿‡ host æ£€æŸ¥ã€‚**å¹¶ä¸æ¨èè¿™æ ·åš**ï¼Œå› ä¸ºä¸æ£€æŸ¥ host çš„åº”ç”¨ç¨‹åºå®¹æ˜“å—åˆ° DNS é‡ç»‘å®šæ”»å‡»ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    allowedHosts: 'all',
  },
};
```

è¦å°†è¿™ä¸ªé€‰é¡¹ä¸ CLI ä¸€èµ·ä½¿ç”¨ï¼Œè¯·æŒ‰ç…§å¦‚ä¸‹æ‰€ç¤ºä¼ å…¥ `--allowed-hosts`ï¼š

```bash
npx webpack serve --entry ./entry/file --output-path ./output/path --allowed-hosts .host.com --allowed-hosts host2.com
```

## `devServer.bonjour` {#devserverbonjour}

`boolean` `object`

è¿™ä¸ªé…ç½®ç”¨äºåœ¨å¯åŠ¨æ—¶é€šè¿‡ [ZeroConf](http://www.zeroconf.org/) ç½‘ç»œå¹¿æ’­ä½ çš„å¼€å‘æœåŠ¡å™¨ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    bonjour: true,
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --bonjour
```

ä½ ä¹Ÿå¯ä»¥ä¸º bonjour è®¾ç½® [è‡ªå®šä¹‰é…ç½®é¡¹](https://github.com/watson/bonjour#initializing)ï¼Œä¾‹å¦‚ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    bonjour: {
      type: 'http',
      protocol: 'udp',
    },
  },
};
```

## `devServer.client` {devserverclient}

### `logging` {#logging}

`'log' | 'info' | 'warn' | 'error' | 'none' | 'verbose'`

å…è®¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®æ—¥å¿—çº§åˆ«ï¼Œä¾‹å¦‚åœ¨é‡è½½ä¹‹å‰ï¼Œåœ¨ä¸€ä¸ªé”™è¯¯ä¹‹å‰æˆ–è€… [çƒ­æ¨¡å—æ›¿æ¢](/concepts/hot-module-replacement/) å¯ç”¨æ—¶ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      logging: 'info',
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --client-logging info
```

### `overlay` {#overlay}

`boolean = true` `object: { errors boolean = true, warnings boolean = true }`

å½“å‡ºç°ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      overlay: true,
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --client-overlay
```

å¦‚æœä½ åªæƒ³æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      overlay: {
        errors: true,
        warnings: false,
      },
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --client-overlay-errors --no-client-overlay-warnings
```

### `progress` {#progress}

åœ¨æµè§ˆå™¨ä¸­ä»¥ç™¾åˆ†æ¯”æ˜¾ç¤ºç¼–è¯‘è¿›åº¦ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      progress: true,
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --client-progress
```

### webSocketTransport {#websockettransport}

`'ws' | 'sockjs'` `string`

è¯¥é…ç½®é¡¹å…è®¸æˆ‘ä»¬ä¸ºå®¢æˆ·ç«¯å•ç‹¬é€‰æ‹©å½“å‰çš„ `devServer` ä¼ è¾“æ¨¡å¼ï¼Œæˆ–è€…æä¾›è‡ªå®šä¹‰çš„å®¢æˆ·ç«¯å®ç°ã€‚è¿™å…è®¸æŒ‡å®šæµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯ä¸ `devServer` çš„é€šä¿¡æ–¹å¼ã€‚

T> ä¸º [`webSocketServer`](#devserverwebsocketserver) è®¾ç½® `'ws'` æˆ–è€… `'sockjs'` æ˜¯ä¸€ä¸ªè®¾ç½® `devServer.client.webSocketTransport` å’Œ `devServer.webSocketServer` çš„å¿«æ·æ–¹å¼ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketTransport: 'ws',
    },
    webSocketServer: 'ws',
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --client-web-socket-transport ws --web-socket-server ws
```

T> åœ¨æä¾›è‡ªå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°æ—¶ï¼Œè¦ç¡®ä¿å®ƒä»¬å½¼æ­¤å…¼å®¹ï¼Œä»¥æˆåŠŸé€šä¿¡ã€‚

åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å®¢æˆ·ç«¯å®ç°ï¼Œåˆ›å»ºä¸€ä¸ªç±»æ‹“å±• [`BaseClient`](https://github.com/webpack/webpack-dev-server/blob/master/client-src/clients/BaseClient.js)ã€‚

ä½¿ç”¨ `CustomClient.js` çš„è·¯å¾„ï¼Œä¸€ä¸ªè‡ªå®šä¹‰ WebSocket å®¢æˆ·ç«¯å®ç°ï¼Œè¿åŒå…¼å®¹çš„ `'ws'` sæœåŠ¡å™¨ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketTransport: require.resolve('./CustomClient'),
    },
    webSocketServer: 'ws',
  },
};
```

ä½¿ç”¨è‡ªå®šä¹‰ä¸”å…¼å®¹çš„ WebSocket å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å®ç°ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketTransport: require.resolve('./CustomClient'),
    },
    webSocketServer: require.resolve('./CustomServer'),
  },
};
```

### webSocketURL {#websocketurl}

`string` `object`

è¿™ä¸ªé€‰é¡¹å…è®¸æŒ‡å®š URL åˆ° web socket æœåŠ¡å™¨ï¼ˆå½“ä½ ä»£ç†å¼€å‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è„šæœ¬ä¸æ€»æ˜¯çŸ¥é“è¿æ¥åˆ°å“ªé‡Œæ—¶å¾ˆæœ‰ç”¨ï¼‰ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketURL: 'ws://0.0.0.0:8080/ws',
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --client-web-socket-url ws://0.0.0.0:8080/ws
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
æœ‰å…³æ›´å¤šé€‰é¡¹å’Œä¿¡æ¯ï¼Œè¯·å‚è§ [connect-history-api-fallback](https://github.com/bripkens/connect-history-api-fallback) æ–‡æ¡£ã€‚

## `devServer.host` {#devserverhost}

`string = 'localhost'`

æŒ‡å®šè¦ä½¿ç”¨çš„ hostã€‚å¦‚æœä½ å¸Œæœ›æœåŠ¡å™¨å¯ä»å¤–éƒ¨è®¿é—®ï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼è¿›è¡Œé…ç½®ï¼š
=======
You can also specify an object with the following properties:

- `hostname`: Tells clients connected to devServer to use the provided hostname.
- `pathname`: Tells clients connected to devServer to use the provided path to connect.
- `password`: Tells clients connected to devServer to use the provided password to authenticate.
- `port`: Tells clients connected to devServer to use the provided port.
- `protocol`: Tells clients connected to devServer to use the provided protocol.
- `username`: Tells clients connected to devServer to use the provided username to authenticate.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketURL: {
        hostname: '0.0.0.0',
        pathname: '/ws',
        password: 'dev-server',
        port: 8080,
        protocol: 'ws',
        username: 'webpack',
      },
    },
  },
};
```

T> è¦ä»æµè§ˆå™¨ä¸­è·å– `protocol`/`hostname`/`port`ï¼Œè¯·ä½¿ç”¨ `webSocketURL: 'auto://0.0.0.0:0/ws'`ã€‚

## `devServer.compress` {@devservercompress}

`boolean = true`

å¯ç”¨ [gzip compression](https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/)ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    compress: true,
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --compress
```

## devserver.devMiddleware {devserverdevmiddleware}

ä¸º [webpack-dev-middleware](https://github.com/webpack/webpack-dev-middleware) æä¾›å¤„ç† webpack èµ„æºçš„é…ç½®é¡¹ã€‚

**webpack.config.js**

```javascript
module.exports = {
  devServer: {
    index: true,
    mimeTypes: { 'text/html': ['phtml'] },
    publicPath: '/publicPathForDevServe',
    serverSideRender: true,
    writeToDisk: true,
  },
};
```

## `devServer.http2` {devserverhttp2}

`boolean`

ä½¿ç”¨ [spdy](https://www.npmjs.com/package/spdy) æä¾› HTTP/2 æœåŠ¡ã€‚å¯¹äº Node 15.0.0 åŠæ›´é«˜ç‰ˆæœ¬ï¼Œæ­¤é€‰é¡¹å°†è¢«å¿½ç•¥ï¼Œå› ä¸º spdy åœ¨è¿™äº›ç‰ˆæœ¬ä¸­å·²è¢«ç ´åã€‚ä¸€æ—¦ [Express](https://expressjs.com/) æ”¯æŒï¼Œå¼€å‘æœåŠ¡å™¨å°†è¿ç§»åˆ° Node å†…ç½®çš„ HTTP/2ã€‚

HTTP/2 å¸¦æœ‰è‡ªç­¾åè¯ä¹¦ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    http2: true,
  },
};
```

é€šè¿‡ [https](#devserverhttps) é…ç½®ä½ è‡ªå·±çš„è¯ä¹¦æ–‡ä»¶:

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    http2: true,
    https: {
      key: fs.readFileSync('/path/to/server.key'),
      cert: fs.readFileSync('/path/to/server.crt'),
      cacert: fs.readFileSync('/path/to/ca.pem'),
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --http2
```

è¦é€šè¿‡ CLI ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹

```bash
npx webpack serve --http2 --https-key ./path/to/server.key --https-cert ./path/to/server.crt --https-cacert ./path/to/ca.pem
```

## `devServer.https` {#devserverhttps}

`boolean` `object`

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼€å‘æœåŠ¡å™¨å°†é€šè¿‡ HTTP æä¾›æœåŠ¡ã€‚å¯ä»¥é€‰æ‹©ä½¿ç”¨ HTTPS é€šè¿‡ HTTP/2 æä¾›æœåŠ¡ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    https: true,
  },
};
```

æ ¹æ®ä¸Šè¿°é…ç½®ï¼Œå°†ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æä¾›è‡ªå·±çš„è¯ä¹¦ï¼š

**webpack.config.js**

```javascript
module.exports = {
  devServer: {
    https: {
      cacert: './server.pem',
      pfx: './server.pfx',
      key: './server.key',
      cert: './server.crt',
      passphrase: 'webpack-dev-server',
      requestCert: true,
    },
  },
};
```

è¯¥å¯¹è±¡ç›´æ¥ä¼ é€’åˆ° Node.js HTTPS æ¨¡å—ï¼Œå› æ­¤è¯·å‚é˜… [HTTPS documentation](https://nodejs.org/api/https.html) ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --https
```

è¦é€šè¿‡ CLI ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹

```bash
npx webpack serve --https-key ./path/to/server.key --https--cert ./path/to/server.crt --https-cacert ./path/to/ca.pem
```

## `devServer.headers` {#devserverheaders}

`function` `object`

ä¸ºæ‰€æœ‰å“åº”æ·»åŠ  headersï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    headers: {
      'X-Custom-Foo': 'bar',
    },
  },
};
```

## devServer.historyApiFallback {#devserverhistoryapifallback}

`boolean` `object`

When using the [HTML5 History API](https://developer.mozilla.org/en-US/docs/Web/API/History), the `index.html` page will likely have to be served in place of any `404` responses. Enable `devServer.historyApiFallback` by setting it to `true`:

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    historyApiFallback: true,
  },
};
```

é€šè¿‡ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ç§è¡Œä¸ºå¯ä»¥é€šè¿‡åƒ `rewrites` è¿™æ ·çš„é…ç½®é¡¹è¿›ä¸€æ­¥æ§åˆ¶ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    historyApiFallback: {
      rewrites: [
        { from: /^\/$/, to: '/views/landing.html' },
        { from: /^\/subpage/, to: '/views/subpage.html' },
        { from: /./, to: '/views/404.html' },
      ],
    },
  },
};
```

åœ¨ä½ çš„è·¯å¾„ä¸­ä½¿ç”¨ç‚¹ï¼ˆä¸ Angular ç›¸åŒï¼‰ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨ `disableDotRule`ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    historyApiFallback: {
      disableDotRule: true,
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --history-api-fallback
```

For more options and information, see the [connect-history-api-fallback](https://github.com/bripkens/connect-history-api-fallback) documentation.

## devServer.host {#devserverhost}

`'local-ip' | 'local-ipv4' | 'local-ipv6'` `string`

æŒ‡å®šè¦ä½¿ç”¨çš„ hostã€‚å¦‚æœä½ æƒ³è®©ä½ çš„æœåŠ¡å™¨å¯ä»¥è¢«å¤–éƒ¨è®¿é—®ï¼Œåƒè¿™æ ·æŒ‡å®šï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    host: '0.0.0.0',
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --host 0.0.0.0
```

è¿™ä¹Ÿé€‚ç”¨äºIPv6ï¼š

```bash
npx webpack serve --host ::
```

### local-ip {#localip}

Specifying `local-ip` as host will try to resolve the host option as your local `IPv4` address if available, if `IPv4` is not available it will try to resolve your local `IPv6` address.

```bash
npx webpack serve --host local-ip
```

### local-ipv4

Specifying `local-ipv4` as host will try to resolve the host option as your local `IPv4` address.

```bash
npx webpack serve --host local-ipv4
```

### local-ipv6

<<<<<<< HEAD:src/content/configuration/dev-server.md
å¯ç”¨ `devServer.lazy` æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨ä»…åœ¨æ”¶åˆ°è¯·æ±‚æ—¶æ‰ç¼–è¯‘æ†ç»‘è½¯ä»¶ã€‚ è¿™æ„å‘³ç€ webpack å°†ä¸ä¼šç›‘è§†ä»»ä½•æ–‡ä»¶æ›´æ”¹ã€‚ æˆ‘ä»¬ç§°è¿™ç§æ–¹å¼ä¸ºâ€œæ‡’æƒ°æ¨¡å¼(**lazy mode**)â€ã€‚
=======
Specifying local-ipv6 as host will try to resolve the host option as your local IPv6 address.

```bash
npx webpack serve --host local-ipv6
```

## `devServer.hot`

`'only'` `boolean`

Enable webpack's [Hot Module Replacement](/concepts/hot-module-replacement/) feature:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    hot: true,
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --hot
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
T> [`watchOptions`](#devserverwatchoptions-) ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨å½“ä½¿ç”¨ **lazy mode** æ—¶ã€‚

T> å¦‚æœæ˜¯é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨, è¯·ç¡®ä¿ **inline mode** å¤„äºç¦ç”¨çŠ¶æ€ã€‚

## `devServer.liveReload` {#devserverlivereload}

`boolean = true`

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ£€æµ‹åˆ°æ–‡ä»¶æ›´æ”¹æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨å°†é‡æ–°åŠ è½½/åˆ·æ–°é¡µé¢ã€‚ å¿…é¡»ç¦ç”¨ [`devServer.hot`](#devserverhot) é€‰é¡¹æˆ–å¿…é¡»å¯ç”¨ [`devServer.watchContentBase`](#devserverwatchcontentbase) é€‰é¡¹ï¼Œæ‰èƒ½ä½¿ liveReload ç”Ÿæ•ˆã€‚ é€šè¿‡å°†å…¶è®¾ç½®ä¸º false æ¥ç¦ç”¨ devServer.liveReloadï¼š
=======
To enable Hot Module Replacement without page refresh as a fallback in case of build failures, use `hot: 'only'`:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    hot: 'only',
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --hot only
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
è¯·æ³¨æ„åœ¨ CLI ä¸­æ²¡æœ‰æ–¹æ³•ç¦ç”¨å®ƒã€‚

W> çƒ­æ›´æ–°åªé€‚ç”¨äº web ç›¸å…³çš„ [targets](/configuration/target/#string)ï¼Œä¾‹å¦‚ï¼š`web`ã€`webworker`ã€`electron-renderer` å’Œ `node-webkit`ã€‚

## `devServer.mimeTypes` ğŸ”‘ {#devservermimetypes}
=======
T> Note that [`webpack.HotModuleReplacementPlugin`](/plugins/hot-module-replacement-plugin/) is required to fully enable HMR. If `webpack` or `webpack-dev-server` are launched with the `--hot` option, this plugin will be added automatically, so you may not need to add this to your `webpack.config.js`. See the [HMR concepts page](/concepts/hot-module-replacement/) for more information.

## devServer.ipc

`true` `string`
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

The Unix socket to listen to (instead of a [`host`](#devserverhost)).

<<<<<<< HEAD:src/content/configuration/dev-server.md
å…è®¸ dev-server æ³¨å†Œè‡ªå®šä¹‰çš„ mime ç±»å‹ã€‚
è¯¥å¯¹è±¡è¢«ä¼ é€’åˆ°åº•å±‚çš„ `webpack-dev-middleware`ã€‚
æœ‰å…³ä½¿ç”¨è¯´æ˜ï¼Œè¯·å‚è§ [documentation](https://github.com/webpack/webpack-dev-middleware#mimetypes) ã€‚
=======
Setting it to `true` will listen to a socket at `/your-os-temp-dir/webpack-dev-server.sock`:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    ipc: true,
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --ipc
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
å‘Šè¯‰å¼€å‘æœåŠ¡å™¨ç¦æ­¢æ˜¾ç¤ºè¯¸å¦‚ Webpack æ†ç»‘åŒ…ä¿¡æ¯ä¹‹ç±»çš„æ¶ˆæ¯ã€‚ é”™è¯¯å’Œè­¦å‘Šä»å°†æ˜¾ç¤ºã€‚
=======
You can also listen to a different socket with:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
const path = require('path');

module.exports = {
  //...
  devServer: {
    ipc: path.join(__dirname, 'my-socket.sock'),
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.onListening` {#devserveronlistening}
=======
## devServer.liveReload
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`boolean = true`

<<<<<<< HEAD:src/content/configuration/dev-server.md
æä¾›ä¸€ä¸ªé€‰é¡¹ï¼Œå½“ `webpack-dev-server` å¼€å§‹ç›‘å¬ç«¯å£ä¸Šçš„è¿æ¥æ—¶ï¼Œæ‰§è¡Œè‡ªå®šä¹‰åŠŸèƒ½ã€‚
=======
By default, the dev-server will reload/refresh the page when file changes are detected. [`devServer.hot`](#devserverhot) option must be disabled or [`devServer.watchFiles`](#devserverwatchfiles) option must be enabled in order for `liveReload` to take effect. Disable `devServer.liveReload` by setting it to `false`:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    liveReload: false,
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.open` {#devserveropen}
=======
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --live-reload
```

To disable:

```bash
npx webpack serve --no-live-reload
```

W> Live reloading works only with web related [targets](/configuration/target/#string) like `web`, `webworker`, `electron-renderer` and `node-webkit`.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

## devServer.onAfterSetupMiddleware

<<<<<<< HEAD:src/content/configuration/dev-server.md
å‘Šè¯‰ dev-server åœ¨æœåŠ¡å™¨å¯åŠ¨åæ‰“å¼€æµè§ˆå™¨ã€‚ å°†å…¶è®¾ç½®ä¸º `true` ä»¥æ‰“å¼€é»˜è®¤æµè§ˆå™¨ã€‚
=======
`function (app, server, compiler)`

Provides the ability to execute custom middleware after all other middleware
internally within the server.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    onAfterSetupMiddleware: function (devServer) {
      devServer.app.get('/some/path', function (req, res) {
        res.json({ custom: 'response' });
      });
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
æä¾›è¦ä½¿ç”¨çš„æµè§ˆå™¨åç§°ï¼Œè€Œä¸æ˜¯é»˜è®¤åç§°ï¼š
=======
## devServer.onBeforeSetupMiddleware

`function (app, server, compiler)`

Provides the ability to execute custom middleware prior to all other middleware
internally within the server. This could be used to define custom handlers, for
example:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    onBeforeSetupMiddleware: function (app, server, compiler) {
      app.get('/some/path', function (req, res) {
        res.json({ custom: 'response' });
      });
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
å¦‚æœè¦åœ¨æ‰“å¼€æµè§ˆå™¨æ—¶ä½¿ç”¨æ ‡å¿—ï¼Œä¾‹å¦‚æ‰“å¼€éšèº«çª—å£ï¼ˆ `--incognito` æ ‡å¿—ï¼‰ï¼Œåˆ™å¯ä»¥å°† `open` è®¾ç½®ä¸ºå¯¹è±¡ã€‚ è¯¥å¯¹è±¡æ¥å—æ‰€æœ‰ [open](https://www.npmjs.com/package/open) é€‰é¡¹ï¼Œ`app` å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯æµè§ˆå™¨åç§°ï¼Œå…¶ä»–åé¢çš„å…ƒç´ æ˜¯è¦ä½¿ç”¨çš„æ ‡å¿—ã€‚ ä¾‹å¦‚ï¼š
=======
## devserver.onListening

`function (server)`

Provides the ability to execute a custom function when webpack-dev-server starts listening for connections on a port.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    onListening: function (server) {
      const port = server.address().port;
      console.log('Listening on port:', port);
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --open 'Google Chrome'
```

T> æµè§ˆå™¨åº”ç”¨ç¨‹åºåç§°å–å†³äºå¹³å°ã€‚ ä¸è¦åœ¨å¯é‡ç”¨æ¨¡å—ä¸­å¯¹å…¶è¿›è¡Œç¡¬ç¼–ç ã€‚ ä¾‹å¦‚ï¼Œ`'Chrome'` åœ¨ macOS ä¸Šæ˜¯ `'Google Chrome'` ï¼Œåœ¨ Linux ä¸Šæ˜¯ `'Google Chrome'` åœ¨ Windows ä¸Šæ˜¯ `'Chrome'` ã€‚

## `devServer.openPage` {#devserveropenpage}
=======
## devServer.open
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`boolean` `string` `[string]` `object` `[object]`

<<<<<<< HEAD:src/content/configuration/dev-server.md
æŒ‡å®šæ‰“å¼€æµè§ˆå™¨æ—¶è¦æµè§ˆçš„é¡µé¢ã€‚
=======
Tells dev-server to open the browser after server had been started. Set it to `true` to open your default browser.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    open: true,
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --open
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
W> ä¸è¦åœ¨é¡µé¢å‰åŠ ä¸Š `/`ï¼Œå› ä¸º webpack-dev-server ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œå¦åˆ™æµè§ˆå™¨å°†ä¼šæ‰“å¼€åƒè¿™æ ·çš„ urlï¼š`http://localhost:8080//different/page`ã€‚

å¦‚æœå¸Œæœ›æŒ‡å®šå¤šä¸ªé¡µé¢åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚
=======
To open a specified page in browser:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    open: ['/my-page'],
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --open /my-page
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.overlay` {#devserveroverlay}

`boolean = false` `object: { errors boolean = false, warnings boolean = false }`

å‡ºç°ç¼–è¯‘å™¨é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–ã€‚ å¦‚æœåªæƒ³æ˜¾ç¤ºç¼–è¯‘å™¨é”™è¯¯ï¼š
=======
To open multiple specified pages in browser:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    open: ['/my-page', '/another-page'],
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
å¦‚æœè¦æ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ï¼š
=======
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --open /my-page --open /another-page
```

Provide browser name to use instead of the default one:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    open: {
      app: {
        name: 'google-chrome',
      },
    },
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --open-app-name 'google-chrome'
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡ CLI ä½¿ç”¨æ—¶ï¼Œæ˜¯ SSL .pfx æ–‡ä»¶çš„è·¯å¾„ã€‚ å¦‚æœåœ¨é€‰é¡¹ä¸­ä½¿ç”¨ï¼Œåˆ™å®ƒåº”è¯¥æ˜¯.pfx æ–‡ä»¶çš„å­—èŠ‚æµã€‚
=======
The object accepts all [open](https://www.npmjs.com/package/open) options:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    open: {
      target: ['first.html', 'http://localhost:8080/second.html'],
      app: {
        name: 'google-chrome',
        arguments: ['--incognito', '--new-window'],
      },
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --pfx ./path/to/file.pfx
```

## `devServer.pfxPassphrase` {#devserverpfxpassphrase}
=======
T> The browser application name is platform dependent. Don't hard code it in reusable modules. For example, `'Chrome'` is `'Google Chrome'` on macOS, `'google-chrome'` on Linux and `'chrome'` on Windows.

## devServer.port
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`'auto'` `string` `number`

<<<<<<< HEAD:src/content/configuration/dev-server.md
å°†å¯†ç çŸ­è¯­è½¬æ¢ä¸º SSL PFX æ–‡ä»¶ã€‚
=======
Specify a port number to listen for requests on:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    port: 8080,
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨ï¼š

```bash
npx webpack serve --port 8080
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.port` {#devserverport}

`number`

æŒ‡å®šç«¯å£å·ä»¥ä¾¦å¬ä»¥ä¸‹è¯·æ±‚ï¼š
=======
`port` option can't be `null` or empty string, to automatically use a free port please use `port: 'auto'`:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    port: 'auto',
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --port 8080
```

## `devServer.proxy` {#devserverproxy}
=======
## devServer.proxy
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`object` `[object, function]`

å½“æ‹¥æœ‰å•ç‹¬çš„ API åç«¯å¼€å‘æœåŠ¡å™¨å¹¶ä¸”å¸Œæœ›åœ¨åŒä¸€åŸŸä¸Šå‘é€ API è¯·æ±‚æ—¶ï¼Œä»£ç†æŸäº› URL å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚

å¼€å‘æœåŠ¡å™¨ä½¿ç”¨åŠŸèƒ½å¼ºå¤§çš„ [http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware) è½¯ä»¶åŒ…ã€‚ æŸ¥çœ‹å…¶ [documentation](https://github.com/chimurai/http-proxy-middleware#options) äº†è§£æ›´å¤šé«˜çº§ç”¨æ³•ã€‚ è¯·æ³¨æ„ï¼Œ`http-proxy-middleware` çš„æŸäº›åŠŸèƒ½ä¸éœ€è¦`target`é”®ï¼Œä¾‹å¦‚ å®ƒçš„ `router` åŠŸèƒ½ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨æ­¤å¤„çš„é…ç½®ä¸­åŒ…å«`target`ï¼Œå¦åˆ™`webpack-dev-server` ä¸ä¼šå°†å…¶ä¼ é€’ç»™ `http-proxy-middleware`ï¼‰ã€‚

ä½¿ç”¨åç«¯åœ¨ `localhost:3000` ä¸Šï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥å¯ç”¨ä»£ç†ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    proxy: {
      '/api': 'http://localhost:3000',
    },
  },
};
```

ç°åœ¨ï¼Œå¯¹ `/api/users` çš„è¯·æ±‚ä¼šå°†è¯·æ±‚ä»£ç†åˆ° `http://localhost:3000/api/users`ã€‚

å¦‚æœä¸å¸Œæœ›ä¼ é€’`/api`ï¼Œåˆ™éœ€è¦é‡å†™è·¯å¾„ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        pathRewrite: { '^/api': '' },
      },
    },
  },
};
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†ä¸æ¥å—åœ¨ HTTPS ä¸Šè¿è¡Œä¸”è¯ä¹¦æ— æ•ˆçš„åç«¯æœåŠ¡å™¨ã€‚ å¦‚æœéœ€è¦ï¼Œå¯ä»¥è¿™æ ·ä¿®æ”¹é…ç½®ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    proxy: {
      '/api': {
        target: 'https://other-server.example.com',
        secure: false,
      },
    },
  },
};
```

æœ‰æ—¶ä¸æƒ³ä»£ç†æ‰€æœ‰å†…å®¹ã€‚ å¯ä»¥åŸºäºå‡½æ•°çš„è¿”å›å€¼ç»•è¿‡ä»£ç†ã€‚

åœ¨è¯¥åŠŸèƒ½ä¸­ï¼Œå¯ä»¥è®¿é—®è¯·æ±‚ï¼Œå“åº”å’Œä»£ç†é€‰é¡¹ã€‚

- è¿”å› `null` æˆ– `undefined` ä»¥ç»§ç»­ä½¿ç”¨ä»£ç†å¤„ç†è¯·æ±‚ã€‚
- è¿”å› `false` ä¼šä¸ºè¯·æ±‚äº§ç”Ÿ 404 é”™è¯¯ã€‚
- è¿”å›æä¾›æœåŠ¡çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯ç»§ç»­ä»£ç†è¯·æ±‚ã€‚

ä¾‹å¦‚ã€‚ å¯¹äºæµè§ˆå™¨è¯·æ±‚ï¼Œæƒ³è¦æä¾› HTML é¡µé¢ï¼Œä½†æ˜¯å¯¹äº API è¯·æ±‚ï¼Œæƒ³è¦ä»£ç†å®ƒã€‚ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        bypass: function (req, res, proxyOptions) {
          if (req.headers.accept.indexOf('html') !== -1) {
            console.log('Skipping proxy for browser request.');
            return '/index.html';
          }
        },
      },
    },
  },
};
```

å¦‚æœæƒ³å°†å¤šä¸ªç‰¹å®šè·¯å¾„ä»£ç†åˆ°åŒä¸€ç›®æ ‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå¸¦æœ‰ `context` å±æ€§çš„å¯¹è±¡çš„æ•°ç»„ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    proxy: [
      {
        context: ['/auth', '/api'],
        target: 'http://localhost:3000',
      },
    ],
  },
};
```

è¯·æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šä»£ç†å¯¹ root çš„è¯·æ±‚ã€‚ è¦å¯ç”¨æ ¹ä»£ç†ï¼Œåº”å°† `devServer.index` é€‰é¡¹æŒ‡å®šä¸ºè™šå‡å€¼ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    index: '', // specify to enable root proxying
    host: '...',
    contentBase: '...',
    proxy: {
      context: () => true,
      target: 'http://localhost:1234',
    },
  },
};
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç†æ—¶ä¼šä¿ç•™ä¸»æœºå¤´çš„æ¥æºï¼Œå¯ä»¥å°† `changeOrigin` è®¾ç½®ä¸º `true` ä»¥è¦†ç›–æ­¤è¡Œä¸ºã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚ä½¿ç”¨ [name-based virtual hosted sites](https://en.wikipedia.org/wiki/Virtual_hosting#Name-based)ï¼Œå®ƒå¾ˆæœ‰ç”¨ã€‚

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true,
      },
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.progress` - CLI only {#devserverprogress---cli-only}

`boolean`

å°†è¿è¡Œè¿›åº¦è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚

```bash
npx webpack serve --progress
```

## `devServer.public` {#devserverpublic}

`string`

ä½¿ç”¨ _inline æ¨¡å¼_ å¹¶ä»£ç† dev-server æ—¶ï¼Œå†…è”å®¢æˆ·ç«¯è„šæœ¬å¹¶ä¸æ€»æ˜¯çŸ¥é“è¦è¿æ¥åˆ°å“ªé‡Œã€‚ å®ƒå°†å°è¯•åŸºäº `window.location` çŒœæµ‹æœåŠ¡å™¨çš„ URLï¼Œä½†æ˜¯å¦‚æœå¤±è´¥ï¼Œåˆ™éœ€è¦ä½¿ç”¨å®ƒã€‚

ä¾‹å¦‚ï¼Œå¼€å‘æœåŠ¡å™¨ç”± nginx ä»£ç†ï¼Œå¹¶åœ¨ `myapp.test` ä¸Šå¯ç”¨ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    public: 'myapp.test:80',
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --public myapp.test:80
```

## `devServer.publicPath` ğŸ”‘ {#devserverpublicpath-}

`string = '/'`

æ†ç»‘çš„æ–‡ä»¶å°†åœ¨æ­¤è·¯å¾„ä¸‹çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚

å‡è®¾æœåŠ¡å™¨åœ¨ `http://localhost:8080` ä¸‹è¿è¡Œï¼Œå¹¶ä¸” [`output.filename`](/configuration/output/#outputfilename) è®¾ç½®ä¸º `bundle.js`ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œ`devServer.publicPath` ä¸º `'/'`ï¼Œå› æ­¤çš„æ†ç»‘è½¯ä»¶å¯ä»¥ä½œä¸º `http://localhost:8080/bundle.js` è·å¾—ã€‚

æ›´æ”¹ `devServer.publicPath` ä»¥å°†æ†ç»‘è½¯ä»¶æ”¾åœ¨ç‰¹å®šç›®å½•ä¸‹ï¼š

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    publicPath: '/assets/',
  },
};
```

è¯¥æ†ç»‘åŒ…ç°åœ¨å°†ä»¥ `http://localhost:8080/assets/bundle.js` çš„å½¢å¼æä¾›ã€‚

T> ç¡®ä¿ `devServer.publicPath` å§‹ç»ˆä»¥æ­£æ–œæ å¼€å¤´å’Œç»“å°¾ã€‚

ä¹Ÿå¯ä»¥ä½¿ç”¨å®Œæ•´çš„ URLã€‚
=======
## devServer.setupExitSignals

`boolean = true`

Allows to close dev server and exit the process on `SIGINT` and `SIGTERM` signals.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    setupExitSignals: true,
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
è¯¥æ†ç»‘åŒ…ç°åœ¨å°†ä»¥ `http://localhost:8080/assets/bundle.js` çš„å½¢å¼æä¾›ã€‚

T> å»ºè®® `devServer.publicPath` ä¸ [`output.publicPath`](/configuration/output/#outputpublicpath) ç›¸åŒã€‚

## `devServer.quiet` ğŸ”‘ {#devserverquiet-}

`boolean`

å¯ç”¨ `devServer.quiet` åï¼Œé™¤äº†åˆå§‹å¯åŠ¨ä¿¡æ¯å¤–ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå†™å…¥æ§åˆ¶å°ã€‚ è¿™ä¹Ÿæ„å‘³ç€æ¥è‡ª webpack çš„é”™è¯¯æˆ–è­¦å‘Šæ˜¯ä¸å¯è§çš„ã€‚
=======
## devServer.static

`boolean` `string` `[string]` `object` `[object]`

This options allows to configure options for serving static files from directory (by default 'public' directory). To disable set it to `false`:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    static: false,
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --quiet
```

## `devServer.serveIndex` {#devserverserveindex}

`boolean = true`

å‘Šè¯‰å¼€å‘æœåŠ¡å™¨å¯ç”¨åä½¿ç”¨ [`serveIndex`](https://github.com/expressjs/serve-index) ä¸­é—´ä»¶ã€‚

[`serveIndex`](https://github.com/expressjs/serve-index) ä¸­é—´ä»¶ä¼šåœ¨æŸ¥çœ‹æ²¡æœ‰ index.html æ–‡ä»¶çš„ç›®å½•æ—¶ç”Ÿæˆç›®å½•åˆ—è¡¨ã€‚

```javascript
module.exports = {
  //...
  devServer: {
    serveIndex: true,
  },
};
```

é€šè¿‡ CLI ä½¿ç”¨
=======
Usage via CLI:

```bash
npx webpack serve --static
```

To disable:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

```bash
npx webpack serve --no-static
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.setup` {#devserversetup}
=======
### directory
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`string = path.join(process.cwd(), 'public')`

<<<<<<< HEAD:src/content/configuration/dev-server.md
W> æ­¤é…ç½®é¡¹å°†è¢« [`devServer.before`](#devserverbefore) æ‰€**æ›¿ä»£**ï¼Œå¹¶å°†åœ¨ v4.0.0 ä¸­**åˆ é™¤**ã€‚

åœ¨è¿™é‡Œï¼Œå¯ä»¥è®¿é—® Express åº”ç”¨ç¨‹åºå¯¹è±¡ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ è‡ªå·±çš„è‡ªå®šä¹‰ä¸­é—´ä»¶ã€‚
ä¾‹å¦‚ï¼Œä¸ºæŸäº›è·¯å¾„å®šä¹‰è‡ªå®šä¹‰å¤„ç†ç¨‹åºï¼š
=======
Tell the server where to serve the content from. This is only necessary if you want to serve static files. [`static.publicPath`](#publicpath) will be used to determine where the bundles should be served from, and takes precedence.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
const path = require('path');

module.exports = {
  //...
  devServer: {
    static: {
      directory: path.join(__dirname, 'public'),
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.sockHost` {#devserversockhost}
=======
T> It is recommended to use an absolute path.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

### staticOptions

<<<<<<< HEAD:src/content/configuration/dev-server.md
å‘Šè¯‰è¿æ¥åˆ° `devServer` çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„å¥—æ¥å­—ä¸»æœºã€‚
=======
It is possible to configure advanced options for serving static files from [`static.directory`](#directory). See the [Express documentation](http://expressjs.com/en/4x/api.html#express.static) for the possible options.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    static: {
      staticOptions: {
        redirect: true,
      },
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.sockPath` {#devserversockpath}
=======
### publicPath
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`string = '/'` `[string]`

<<<<<<< HEAD:src/content/configuration/dev-server.md
è¿æ¥åˆ°é‡è£…æ’æ§½çš„è·¯å¾„ã€‚
=======
Tell the server at which URL to serve [`static.directory`](#directory) content. For example to serve a file `assets/manifest.json` at `/serve-public-path-url/manifest.json`, your configurations should be as following:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
<<<<<<< HEAD:src/content/configuration/dev-server.md
module.exports = {
  //...
  devServer: {
    sockPath: '/socket',
  },
};
```

é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --sock-path /socket
```

## `devServer.sockPort` {#devserversockport}

`number` `string`

å‘Šè¯‰è¿æ¥åˆ°`devServer`çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„å¥—æ¥å­—ç«¯å£ã€‚

**webpack.config.js**
=======
const path = require('path');
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

module.exports = {
  //...
  devServer: {
    static: {
      directory: path.join(__dirname, 'assets'),
      publicPath: '/serve-public-path-url',
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.staticOptions` {#devserverstaticoptions}

`object`

å¯ä»¥é…ç½®é«˜çº§é€‰é¡¹ä»¥ä» `contentBase` æä¾›é™æ€æ–‡ä»¶ã€‚ æœ‰å…³å¯èƒ½çš„é€‰é¡¹ï¼Œè¯·å‚è§ [Express documentation](http://expressjs.com/en/4x/api.html#express.static)ã€‚
=======
Provide an array of objects in case you have multiple static folders:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
const path = require('path');

module.exports = {
  //...
  devServer: {
    static: [
      {
        directory: path.join(__dirname, 'assets'),
        publicPath: '/serve-public-path-url',
      },
      {
        directory: path.join(__dirname, 'css'),
        publicPath: '/other-serve-public-path-url',
      },
    ],
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
T> è¿™ä»…åœ¨å°† [`devServer.contentBase`](#devservercontentbase) ç”¨ä½œå­—ç¬¦ä¸²æ—¶æœ‰æ•ˆã€‚

## `devServer.stats` ğŸ”‘ {#devserverstats-}
=======
### serveIndex
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`boolean` `object = { icons: true }`

<<<<<<< HEAD:src/content/configuration/dev-server.md
æ­¤é€‰é¡¹ä½¿å¯ä»¥ç²¾ç¡®æ§åˆ¶æ˜¾ç¤ºå“ªäº›æ†ç»‘è½¯ä»¶ä¿¡æ¯ã€‚ å¦‚æœéœ€è¦ä¸€äº›æ†ç»‘è½¯ä»¶ä¿¡æ¯ï¼Œä½†åˆä¸æ˜¯å…¨éƒ¨ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¸­é—´ç«‹åœºã€‚

è¦ä»…æ˜¾ç¤ºæ†ç»‘è½¯ä»¶ä¸­çš„é”™è¯¯ï¼š
=======
Tell dev-server to use [`serveIndex`](https://github.com/expressjs/serve-index) middleware when enabled.

[`serveIndex`](https://github.com/expressjs/serve-index) middleware generates directory listings on viewing directories that don't have an `index.html` file.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
const path = require('path');

module.exports = {
  //...
  devServer: {
    static: {
      directory: path.join(__dirname, 'public'),
      serveIndex: true,
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ [**stats documentation**](/configuration/stats/)ã€‚

T> ä¸ `quiet` æˆ– `noInfo` ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¯¥é€‰é¡¹æ— æ•ˆã€‚

## `devServer.stdin` - CLI only {#devserverstdin---cli-only}

`boolean`

å½“ stdin ç»“æŸæ—¶ï¼Œæ­¤é€‰é¡¹å°†å…³é—­æœåŠ¡å™¨ã€‚
=======
Usage via CLI:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

```bash
npx webpack serve --static-serve-index
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.transportMode` {#devservertransportmode}

`string = 'sockjs': 'sockjs' | 'ws'` `object`

W> `transportMode` æ˜¯ä¸€ä¸ªå®éªŒæ€§é€‰é¡¹ï¼Œè¿™æ„å‘³ç€å…¶ç”¨æ³•å¯èƒ½ä¼šæ›´æ”¹ï¼Œè€Œä¸ä¼šå‘å‡ºè­¦å‘Šã€‚

T> å°†å­—ç¬¦ä¸²æä¾›ç»™ d `devServer.transportMode` æ˜¯å°† `devServer.transportMode.client` å’Œ `devServer.transportMode.server` éƒ½è®¾ç½®ä¸ºç»™å®šå­—ç¬¦ä¸²å€¼çš„å¿«æ·æ–¹å¼ã€‚

è¿™ä¸ªé€‰é¡¹å…è®¸æˆ‘ä»¬è¦ä¹ˆä¸ºå®¢æˆ·ç«¯/æœåŠ¡å™¨åˆ†åˆ«é€‰æ‹©å½“å‰çš„`devServer`ä¼ è¾“æ¨¡å¼ï¼Œè¦ä¹ˆæä¾›å®šåˆ¶çš„å®¢æˆ·ç«¯/æœåŠ¡å™¨å®ç°ã€‚ è¿™å…è®¸æŒ‡å®šæµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯å¦‚ä½•ä¸`devServer`é€šä¿¡ã€‚

å½“å‰çš„é»˜è®¤æ¨¡å¼æ˜¯ [`'sockjs'`](https://www.npmjs.com/package/sockjs)ã€‚ æ­¤æ¨¡å¼ä½¿ç”¨ [SockJS-node](https://github.com/sockjs/sockjs-node) ä½œä¸ºæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ [SockJS-client](https://www.npmjs.com/package/sockjs-client) åœ¨å®¢æˆ·ç«¯ä¸Šã€‚

åœ¨ä¸‹ä¸€ä»£ä¸»è¦çš„ `devServer` ç‰ˆæœ¬ä¸­ï¼Œ`'ws'` æ¨¡å¼å°†æˆä¸ºé»˜è®¤æ¨¡å¼ã€‚ æ­¤æ¨¡å¼å°† [ws](https://www.npmjs.com/package/ws) ç”¨ä½œæœåŠ¡å™¨ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ä¸Šä½¿ç”¨æœ¬æœº WebSocketã€‚
=======
To disable:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

```bash
npx webpack serve --no-static-serve-index
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
T> æä¾›è‡ªå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°æ—¶ï¼Œè¯·ç¡®ä¿å®ƒä»¬å½¼æ­¤å…¼å®¹ï¼Œä»¥æˆåŠŸè¿›è¡Œé€šä¿¡ã€‚

### `devServer.transportMode.client` {#devservertransportmodeclient}
=======
### watch
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`boolean` `object`

<<<<<<< HEAD:src/content/configuration/dev-server.md
è¦åˆ›å»ºè‡ªå®šä¹‰å®¢æˆ·ç«¯å®ç°ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ‰©å±•å¹¶ç»§æ‰¿ [`BaseClient`](https://github.com/webpack/webpack-dev-server/blob/master/client-src/clients/BaseClient.js).

ä½¿ç”¨`CustomServer.js`å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰ WebSocket å®¢æˆ·ç«¯å¹¶å…¼å®¹`ws`æœåŠ¡ç«¯ï¼š
=======
Tell dev-server to watch the files served by the [`static.directory`](#directory) option. It is disabled by default. When enabled, file changes will trigger a full page reload.

**webpack.config.js**
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

```javascript
const path = require('path');

module.exports = {
  //...
  devServer: {
    static: {
      directory: path.join(__dirname, 'public'),
      watch: true,
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
### `devServer.transportMode.server` {#devservertransportmodeserver}

`string` `path` `function`

è¦åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡å™¨å®ç°ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ‰©å±•å¹¶ç»§æ‰¿ [`BaseServer`](https://github.com/webpack/webpack-dev-server/blob/master/lib/servers/BaseServer.js).

ä½¿ç”¨`CustomServer.js`å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰ WebSocket æœåŠ¡å™¨å¹¶å…¼å®¹`ws`å®¢æˆ·ç«¯ï¼š

```javascript
module.exports = {
  //...
  devServer: {
    transportMode: {
      client: 'ws',
      server: require.resolve('./CustomServer'),
    },
  },
};
```

ä½¿ç”¨ `CustomServer.js` å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰ WebSocket æœåŠ¡å™¨å¹¶å…¼å®¹ `ws` å®¢æˆ·ç«¯ï¼š
=======
Usage via CLI:

```bash
npx webpack serve --static-watch
```

To disable:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

```bash
npx webpack serve --no-static-watch
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
ä½¿ç”¨è‡ªå®šä¹‰å…¼å®¹çš„ WebSocket å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°ï¼š
=======
It is possible to configure advanced options for watching static files from [`static.directory`](#directory). See the [`chokidar`](https://github.com/paulmillr/chokidar) documentation for the possible options.

**webpack.config.js**
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

```javascript
const path = require('path');

module.exports = {
  //...
  devServer: {
    static: {
      directory: path.join(__dirname, 'public'),
      watch: {
        ignored: '*.txt',
        usePolling: false,
      },
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.useLocalIp` {#devserveruselocalip}
=======
## devServer.watchFiles
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`string` `[string]` `object` `[object]`

<<<<<<< HEAD:src/content/configuration/dev-server.md
æ­¤é€‰é¡¹ä½¿æµè§ˆå™¨å¯ä»¥ä½¿ç”¨çš„æœ¬åœ° IP æ‰“å¼€ã€‚
=======
This option allows you to configure list of globs/directories/files to watch for file changes. For example:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    watchFiles: ['src/**/*.php', 'public/**/*'],
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨

```bash
npx webpack serve --useLocalIp
```

## `devServer.watchContentBase` {#devserverwatchcontentbase}

`boolean`

å‘Šè¯‰ dev-server ç›‘å¬ [`devServer.contentBase`]ï¼ˆï¼ƒdevservercontentbaseï¼‰é€‰é¡¹æä¾›çš„æ–‡ä»¶ã€‚ é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨ã€‚ å¯ç”¨åï¼Œæ–‡ä»¶æ›´æ”¹å°†è§¦å‘æ•´ä¸ªé¡µé¢é‡æ–°åŠ è½½ã€‚
=======
It is possible to configure advanced options for watching files. See the [`chokidar`](https://github.com/paulmillr/chokidar) documentation for the possible options.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    watchFiles: {
      paths: ['src/**/*.php', 'public/**/*'],
      options: {
        usePolling: false,
      },
    },
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨
=======
## devServer.webSocketServer
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

`false | 'sockjs' | 'ws'` `string` `function` `object`

<<<<<<< HEAD:src/content/configuration/dev-server.md
## `devServer.watchOptions` ğŸ”‘ {#devserverwatchoptions-}

`object`

æ§åˆ¶ç›‘å¬æ–‡ä»¶çš„é€‰é¡¹ã€‚

webpack ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥é€šçŸ¥æ–‡ä»¶æ›´æ”¹ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸èµ·ä½œç”¨ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆNFSï¼‰æ—¶ã€‚ [Vagrant](https://www.vagrantup.com/) ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜ã€‚ åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œè¯·ä½¿ç”¨è½®è¯¢ï¼š
=======
This option allows us either to choose the current web-socket server or to provide custom web-socket server implementation.

The current default mode is `'ws'`. This mode uses [`ws`](https://www.npmjs.com/package/ws) as a server, and native WebSockets on the client.
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    webSocketServer: 'ws',
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
å¦‚æœè¿™å¯¹æ–‡ä»¶ç³»ç»Ÿè´Ÿè·å¤ªé‡ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºæ•´æ•°ç”¨ä»¥è°ƒæ•´è½®è¯¢é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚

æŸ¥é˜… [WatchOptions](/configuration/watch/) äº†è§£æ›´å¤šã€‚

## `devServer.writeToDisk` ğŸ”‘ {#devserverwritetodisk-}

`boolean = false` `function (filePath) => boolean`

å‘Šè¯‰ `devServer` å°†äº§ç”Ÿçš„æ–‡ä»¶å†™å…¥ç¡¬ç›˜ã€‚ å†™å…¥ä½ç½®ä¸º [output.path](/configuration/output/#outputpath) é…ç½®çš„ç›®å½•ã€‚
=======
To create a custom server implementation, create a class that extends [`BaseServer`](https://github.com/webpack/webpack-dev-server/blob/master/lib/servers/BaseServer.js).

Using path to `CustomServer.js`, a custom WebSocket server implementation, along with the compatible `'ws'` client:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketTransport: 'ws',
    },
    webSocketServer: require.resolve('./CustomServer'),
  },
};
```

<<<<<<< HEAD:src/content/configuration/dev-server.md
å¯ä»¥ç»™ `devServer.writeToDisk` ä¼ å…¥ä¸€ä¸ªå‡½æ•°ç”¨æ¥ç­›é€‰å“ªäº›æ–‡ä»¶éœ€è¦å†™å…¥ç¡¬ç›˜ã€‚ä¼ å…¥å‡½æ•°çš„ç”¨æ³•å’Œ[`Array#filter`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter) çš„ç”¨æ³•ä¸€è‡´ã€‚
=======
Using custom, compatible WebSocket client and server implementations:
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx

**webpack.config.js**

```javascript
module.exports = {
  //...
  devServer: {
    client: {
      webSocketTransport: require.resolve('./CustomClient'),
    },
    webSocketServer: require.resolve('./CustomServer'),
  },
};
```
<<<<<<< HEAD:src/content/configuration/dev-server.md

T> æœ‰å¯èƒ½éœ€è¦é€šè¿‡ `NODE_OPTIONS` è®¾ç½®ä¸€äº› Node.js çš„æ ‡è®°ï¼Œä¾‹å¦‚ï¼Œé…ç½® `HTTP_MAX_HEADER_SIZE`ï¼š

**package.json**

```json
{
  "scripts": "NODE_OPTIONS='--max-http-header-size=100000' webpack serve"
}
```
=======
>>>>>>> adf6f27ad2c72a912693f9599d0f842fde48457f:src/content/configuration/dev-server.mdx
